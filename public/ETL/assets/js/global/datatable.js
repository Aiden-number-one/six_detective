var Datatable=function(){function a(){var e=$('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',o).size(),t=n.dataTable.language.metronicGroupActions;0<e?$(".table-group-actions > span",i).text(t.replace("_TOTAL_",e)):$(".table-group-actions > span",i).text("")}var n,r,o,c,i,s,l=!1,p={};return{init:function(e){if($().dataTable){s=this,n=e=$.extend(!0,{src:"",filterApplyAction:"filter",filterCancelAction:"filter_cancel",resetGroupActionInputOnSuccess:!0,loadingMessage:"Loading...",dataTable:{dom:"<'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'<'table-group-actions pull-right'>>r><'table-responsive't><'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'>>",pageLength:10,language:{metronicGroupActions:"_TOTAL_ records selected:  ",metronicAjaxRequestGeneralError:"Could not complete request. Please check your internet connection",lengthMenu:"<span class='seperator'>|</span>View _MENU_ records",info:"<span class='seperator'>|</span>Found total _TOTAL_ records",infoEmpty:"No records found to show",emptyTable:"No data available in table",zeroRecords:"No matching records found",paginate:{previous:"Prev",next:"Next",last:"Last",first:"First",page:"Page",pageOf:"of"}},orderCellsTop:!0,columnDefs:[{orderable:!1,targets:[0]}],pagingType:"bootstrap_extended",autoWidth:!1,processing:!1,serverSide:!0,ajax:{url:"",type:"POST",timeout:2e4,data:function(a){$.each(p,function(e,t){a[e]=t}),App.blockUI({message:n.loadingMessage,target:c,overlayColor:"none",cenrerY:!0,boxed:!0})},dataSrc:function(e){return e.customActionMessage&&App.alert({type:"OK"==e.customActionStatus?"success":"danger",icon:"OK"==e.customActionStatus?"check":"warning",message:e.customActionMessage,container:i,place:"prepend"}),e.customActionStatus&&n.resetGroupActionInputOnSuccess&&$(".table-group-action-input",i).val(""),1===$(".group-checkable",o).size()&&($(".group-checkable",o).attr("checked",!1),$.uniform.update($(".group-checkable",o))),n.onSuccess&&n.onSuccess.call(void 0,s,e),App.unblockUI(c),e.data},error:function(){n.onError&&n.onError.call(void 0,s),App.alert({type:"danger",icon:"warning",message:n.dataTable.language.metronicAjaxRequestGeneralError,container:i,place:"prepend"}),App.unblockUI(c)}},drawCallback:function(){!1===l&&(l=!0,o.show()),App.initUniform($('input[type="checkbox"]',o)),a(),n.onDataLoad&&n.onDataLoad.call(void 0,s)}}},e),o=$(e.src),c=o.parents(".table-container");var t=$.fn.dataTableExt.oStdClasses;$.fn.dataTableExt.oStdClasses.sWrapper=$.fn.dataTableExt.oStdClasses.sWrapper+" dataTables_extended_wrapper",$.fn.dataTableExt.oStdClasses.sFilterInput="form-control input-xs input-sm input-inline",$.fn.dataTableExt.oStdClasses.sLengthSelect="form-control input-xs input-sm input-inline",r=o.DataTable(e.dataTable),$.fn.dataTableExt.oStdClasses.sWrapper=t.sWrapper,$.fn.dataTableExt.oStdClasses.sFilterInput=t.sFilterInput,$.fn.dataTableExt.oStdClasses.sLengthSelect=t.sLengthSelect,i=o.parents(".dataTables_wrapper"),1===$(".table-actions-wrapper",c).size()&&($(".table-group-actions",i).html($(".table-actions-wrapper",c).html()),$(".table-actions-wrapper",c).remove()),$(".group-checkable",o).change(function(){var e=o.find('tbody > tr > td:nth-child(1) input[type="checkbox"]'),t=$(this).prop("checked");$(e).each(function(){$(this).prop("checked",t)}),$.uniform.update(e),a()}),o.on("change",'tbody > tr > td:nth-child(1) input[type="checkbox"]',function(){a()}),o.on("click",".filter-submit",function(e){e.preventDefault(),s.submitFilter()}),o.on("click",".filter-cancel",function(e){e.preventDefault(),s.resetFilter()})}},submitFilter:function(){s.setAjaxParam("action",n.filterApplyAction),$('textarea.form-filter, select.form-filter, input.form-filter:not([type="radio"],[type="checkbox"])',o).each(function(){s.setAjaxParam($(this).attr("name"),$(this).val())}),$('input.form-filter[type="checkbox"]:checked',o).each(function(){s.addAjaxParam($(this).attr("name"),$(this).val())}),$('input.form-filter[type="radio"]:checked',o).each(function(){s.setAjaxParam($(this).attr("name"),$(this).val())}),r.ajax.reload()},resetFilter:function(){$("textarea.form-filter, select.form-filter, input.form-filter",o).each(function(){$(this).val("")}),$('input.form-filter[type="checkbox"]',o).each(function(){$(this).attr("checked",!1)}),s.clearAjaxParams(),s.addAjaxParam("action",n.filterCancelAction),r.ajax.reload()},getSelectedRowsCount:function(){return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',o).size()},getSelectedRows:function(){var e=[];return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',o).each(function(){e.push($(this).val())}),e},setAjaxParam:function(e,t){p[e]=t},addAjaxParam:function(e,t){p[e]||(p[e]=[]),skip=!1;for(var a=0;a<p[e].length;a++)p[e][a]===t&&(skip=!0);!1===skip&&p[e].push(t)},clearAjaxParams:function(){p={}},getDataTable:function(){return r},getTableWrapper:function(){return i},gettableContainer:function(){return c},getTable:function(){return o}}};