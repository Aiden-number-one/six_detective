var QuickSidebar=function(){function i(){function i(){var i,a=r.find(".page-quick-sidebar-chat-users");i=r.height()-r.find(".nav-tabs").outerHeight(!0),App.destroySlimScroll(a),a.attr("data-height",i),App.initSlimScroll(a);var e=c.find(".page-quick-sidebar-chat-user-messages"),t=i-c.find(".page-quick-sidebar-chat-user-form").outerHeight(!0);t-=c.find(".page-quick-sidebar-nav").outerHeight(!0),App.destroySlimScroll(e),e.attr("data-height",t),App.initSlimScroll(e)}var r=$(".page-quick-sidebar-wrapper"),c=r.find(".page-quick-sidebar-chat");function a(i){i.preventDefault();var e=c.find(".page-quick-sidebar-chat-user-messages"),a=c.find(".page-quick-sidebar-chat-user-form .form-control"),t=a.val();if(0!==t.length){function r(i,a,e,t,r){var s="";return s+='<div class="post '+i+'">',s+='<img class="avatar" alt="" src="'+Layout.getLayoutImgPath()+t+'.jpg"/>',s+='<div class="message">',s+='<span class="arrow"></span>',s+='<a href="#" class="name">Bob Nilson</a>&nbsp;',s+='<span class="datetime">'+a+"</span>",s+='<span class="body">',s+=r,s+="</span>",s+="</div>",s+"</div>"}var s=new Date,n=r("out",s.getHours()+":"+s.getMinutes(),0,"avatar3",t);n=$(n),e.append(n),e.slimScroll({scrollTo:"1000000px"}),a.val(""),setTimeout(function(){var i=new Date,a=r("in",i.getHours()+":"+i.getMinutes(),0,"avatar2","Lorem ipsum doloriam nibh...");a=$(a),e.append(a),e.slimScroll({scrollTo:"1000000px"})},3e3)}}i(),App.addResizeHandler(i),r.find(".page-quick-sidebar-chat-users .media-list > .media").click(function(){c.addClass("page-quick-sidebar-content-item-shown")}),r.find(".page-quick-sidebar-chat-user .page-quick-sidebar-back-to-list").click(function(){c.removeClass("page-quick-sidebar-content-item-shown")}),c.find(".page-quick-sidebar-chat-user-form .btn").click(a),c.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(i){return 13==i.which?(a(i),!1):void 0})}return{init:function(){$(".dropdown-quick-sidebar-toggler a, .page-quick-sidebar-toggler, .quick-sidebar-toggler").click(function(i){$("body").toggleClass("page-quick-sidebar-open")}),i(),function(){var e=$(".page-quick-sidebar-wrapper"),i=(e.find(".page-quick-sidebar-alerts"),function(){var i,a=e.find(".page-quick-sidebar-alerts-list");i=e.height()-e.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(a),a.attr("data-height",i),App.initSlimScroll(a)});i(),App.addResizeHandler(i)}(),function(){var e=$(".page-quick-sidebar-wrapper"),i=(e.find(".page-quick-sidebar-settings"),function(){var i,a=e.find(".page-quick-sidebar-settings-list");i=e.height()-e.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(a),a.attr("data-height",i),App.initSlimScroll(a)});i(),App.addResizeHandler(i)}()}}}();!1===App.isAngularJsApp()&&jQuery(document).ready(function(){QuickSidebar.init()});