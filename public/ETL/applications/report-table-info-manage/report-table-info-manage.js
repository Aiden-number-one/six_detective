define(function(require,exports,module){var e=require("./report-table-info-manageShow"),a=location.hash.split("?")[0].replace("#",".page-"),o={load:function(){e.load();var o=document.getElementById("J_drag_bar2"),t=document.getElementById("J_drag_bar2");startDrag(o,t,".J_drag_bar2_left-side",".J_drag_bar2_right-content",function(){})}};$(function(){$("body").on("click",a+" #J_flow_tree .jstree-ocl",function(){App.treeEllipsis("#J_flow_tree")}),$("body").on("click",a+" #J_process_add",function(){window.open("/ETL/retl-process/design.html?"+location.hash.split("?")[1])}),$("body").on("click",a+" #J_work_search",function(){e.getWorkList()}),$("body").on("click",a+" #J_process_edit",function(){var o=$("#J_work_table tbody input[type=checkbox]:checked");if(1===o.length)if(1<o.length)toastr.info("编辑只能请择一条作业");else{var t=o.attr("jobId"),e=o.attr("jobName"),a=o.attr("folderId");t&&window.open("/ETL/retl-process/design.html?"+location.hash.split("?")[1]+"&jobId="+t+"&jobName="+e+"&folderId="+a)}else toastr.info("请选择一条作业")}),$("body").on("click",a+" #copy_work",function(){var o=$("#J_work_table tbody input[type=checkbox]:checked");if(1===o.length){var t=o.attr("jobId");e.copyWorkList({jobId:t})}else toastr.info("请选择一条作业")}),$("body").on("click",a+" #J_work_move",function(){var o=$("#J_work_table tbody input:checked"),t=[];if(0!==o.length){$.each(o,function(){var o=$(this).attr("jobid");t.push(o)});var e=$(o[0]).attr("folderid");$(a+" #J_work_move_modal [data-type=confirm]").data("jobId",t.join(",")),$("#J_work_move_modal [type=jstree]").jstree(!0).open_all(),$("#J_work_move_modal [type=jstree] [folderid="+e+"]>.jstree-anchor").click(),$("#J_work_move_modal").modal("show")}else toastr.info("请至少选择一条数据")}),$("body").on("click",a+" #J_work_move_modal [data-type=confirm]",function(){var o=$("#J_work_move_modal [name=folderId]").val();if(o){var t=$(this).data("jobId");$("#J_work_move_modal").modal("show"),e.moveWorkInfo({folderId:o,jobId:t})}else toastr.info("请选择要移动到的目录")}),$("body").on("click",a+" #J_relate_plan_list a",function(){var o=$(this).data("obj").jobId,t=$(this).data("obj").jobName,e=$(this).data("obj").folderId;o&&window.open("/ETL/retl-process/design.html?"+location.hash.split("?")[1]+"&jobId="+o+"&jobName="+t+"&folderId="+e)}),$("body").on("click",a+" #J_process_del",function(){var o=$("#J_work_table tbody input:checked");if(0!==o.length){var t=[];$.each(o,function(){var o=$(this).attr("jobid");t.push(o)}),bootbox.confirm("确定删除勾选的作业吗？",function(o){o&&e.delyWorkList({job_id:t.join(","),operType:"DEL"})})}else toastr.info("请选择至少一条数据")}),$("body").on("click",a+" #J_flow_tree .jstree-anchor",function(){e.getWorkList()}),$("body").on("click",a+" #J_work_table a[name=check]",function(){var o=$(this).attr("jobId");sessionStorage.setItem("jobId",o),e.getTaskList(),$("#J_check_task_modal").modal("show")}),window.onhashchange=function(){console.log("sss")}}),module.exports=o});