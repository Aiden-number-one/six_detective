var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e};define(function(require,exports,module){var J=require("./task-config-settingShow"),s=location.hash.split("?")[0].replace("#",".page-"),e={load:function(){J._load(),J.sftpSecretword="";var e=document.getElementById("J_drag_bar1"),t=document.getElementById("J_drag_bar1");startDrag(e,t,".left-side-config",".right-content-config",function(){})}};$(function(){var y=new App.handleParams("#J_store_params");J.haddleParams=y,$("body").on("click",s+" #J_foldname_tree .jstree-ocl",function(){App.treeEllipsis("#J_foldname_tree")}),$("body").on("click",s+" #J_foldname_tree .jstree-anchor",function(){J.getTaskList()}),$("body").on("click",s+" #J_task_search",function(){J.getTaskList()}),$("body").on("change",s+" [name=userPassword]",function(){$(this).attr("changed","changed")}),$("body").on("change",s+" [name=requestSecretWord]",function(){$(this).attr("changed","changed")}),$("body").on("click",s+" .J_save",function(){var e=$(this).data("type"),t=$(this).data("tasktype"),a=$(this).data("formid"),o=$(this).data("modalid");if($("#"+a).valid()){var n=App.getFormParams(a);if(n.taskType=t,n.creator=localStorage.getItem("loginName"),"J_modal_TE"===o){if(!$("#J_select2_multi_tab_1_1").val())return toastr.info("Please select source table."),!1;if(!$("#J_select2_multi_tab_1_3").val())return toastr.info("Please select target table."),!1;n.transScript=$("#J_cm_TE").val(),n.createTableScript=$("#J_cm_TE_2").val(),n.sourceTables=$("#J_select2_multi_tab_1_1").select2("data")[0].text.replace(/\(.+\)/g,""),n.targetTable=$("#J_select2_multi_tab_1_3").select2("data")[0].text.replace(/\(.+\)/g,"");var l=$("#J_select2_multi_tab_1_3").data("origin"),i=!1;if(0<l.length){var r=!0,s=!1,d=void 0;try{for(var c,_=l[Symbol.iterator]();!(r=(c=_.next()).done);r=!0){var p=c.value.text;n.targetTable===p&&(i=!0)}}catch(e){s=!0,d=e}finally{try{!r&&_.return&&_.return()}finally{if(s)throw d}}}if(n.mappingInfo=J.haddleDataField.getData(),0===JSON.parse(n.mappingInfo).mappingColumn.length&&i)return toastr.info("Mapping field is missing."),!1}else if("J_modal_TP"===o){var m=!0;if(y.getData(function(e){e||(toastr.info("params is missing."),m=!1);var t=App.getFormParamsFakeName("#J_success_condition"),a={returnmessage:{rvariable:$("[fakename=rvariable]").val()},parameters:e,successcondition:t};n.taskParameters=JSON.stringify(a)}),!m)return!1}else if("J_modal_TM"===o)$("[name=userPassword]").attr("changed")&&(n.userPassword=$.des.getDes(n.userPassword),$("[name=userPassword]").removeAttr("changed"));else if("J_modal_TI"===o){if("0"===$("#"+o+" [name=importType]:checked").val()&&""==$("#"+o+" .fileinput [name=fileUrl]").val())return void toastr.info("Please upload a file.");n.fileUrl=$("[data-importtype="+n.importType+"] [name=fileUrl]").val(),n.fileType=$("[data-importtype="+n.importType+"] [name=fileType]").val(),n.fileName=$("[data-importtype="+n.importType+"] [name=fileName]").val(),"0"===n.importType&&-1===n.fileUrl.indexOf(".")&&(n.fileUrl=n.fileUrl),"2"===n.importType&&("add"===e?n.sftpSecretword=$.des.getDes(n.sftpSecretword):J.sftpSecretword&&J.sftpSecretword!==n.sftpSecretword&&(n.sftpSecretword=$.des.getDes(n.sftpSecretword))),n.targetTable=$("#J_select2_multi_tab_1_9").select2("data")[0].text.replace(/\(.+\)/g,""),n.mappingInfo=J.haddleDataField_2.getData()}else if("J_modal_DQ"===o){var u=$("#J_select2_multi_tab_11_1").select2("val"),f=$("#J_select2_multi_tab_11_1").data("obj"),h=u.map(function(e,t){var a=!0,o=!1,n=void 0;try{for(var l,i=f[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var r=l.value;if(r.ruleId===e)return r}}catch(e){o=!0,n=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw n}}});n.applyParam=JSON.stringify(h)}else"J_modal_DR"===o?n.sourceUrl&&"0"===n.sourceUrl&&(n.sourceUrl=$("[name=a1006FilesPath]").val()):"J_modal_TFP"===o&&(n.dbTable=$("#J_select2_multi_tab_13_1").select2("data")[0].text.replace(/\(.+\)/g,""));if("J_modal_AS"===o){n.operType="add"===e?"addApi":"updateApi";var v=[];$.each($("#tab_14_2 [name=apiParamsInputCommon]"),function(e){var t=$(this).find("[name=name]").val(),a=$(this).find("[name=value]").val(),o=$(this).find("[name=position]").val();v.push({name:t,value:a,position:o})}),n.apiParamsInputCommon=JSON.stringify(v);var b=[];$.each($("#tab_14_3 [name=apiParamsInput]"),function(e){var t=$(this).find("[name=name]").val(),a=$(this).find("[name=value]").val(),o=$(this).find("[name=position]").val();b.push({name:t,value:a,position:o})}),n.apiParamsInput=JSON.stringify(b);var g=[];return $.each($("#tab_14_3 [name=apiParamsOutput]"),function(e){var t=$(this).find("[name=name]").val(),a=$(this).find("[name=successful]").val(),o=$(this).find("[name=failed]").val();g.push({name:t,successful:a,failed:o})}),n.apiParamsOutput=JSON.stringify(g),$("[name=requestSecretWord]").attr("changed")&&(n.requestSecretWord=$.des.getDes(n.requestSecretWord),$("[name=requestSecretWord]").removeAttr("changed")),App.blockUI({boxed:!0,message:"Processing..."}),void J.setWebTaskInfo(n,function(e){$("#J_foldname_tree [folderid="+n.folderId+"]>.jstree-anchor").click(),$("#"+o).modal("hide")})}App.blockUI({boxed:!0,message:"Processing..."}),J.setTaskInfo(n,e,function(e){$("#J_foldname_tree [folderid="+n.folderId+"]>.jstree-anchor").click(),$("#"+o).modal("hide")})}else toastr.info("Please check the invalid fields")}),$("body").on("change","#tab_14_2 [name=baseUrl]",function(e){$("#tab_14_3 #baseUrl").text(e.target.value)}),$("body").on("hide.bs.modal","#J_modal_AS",function(){$("#tab_14_2 [name=apiParamsInputCommon] #del,  #tab_14_3 [name=apiParamsInput] #del").parent().remove(),$("#tab_14_3 #baseUrl").text("")}),$("body").on("click",s+" #J_task_option_1 li a",function(){var e=$(this).data("id"),t=$(this).attr("data-target"),a=$("#J_foldname_tree [aria-selected=true]").attr("folderid");$(t+" .J_save").data("tasktype",e).data("type","add"),J.clearData(),"DQ"===e?J.getRuleFolder():J.getDataSourceList(),$(t+" [type=jstree]").jstree().open_all(),$(t+" [type=jstree] [folderid="+a+"]>.jstree-anchor").click()}),$("body").on("click",s+" #J_task_edit",function(){var e=$("#J_task_table tbody input:checked"),t=e.data("tasktype"),a=e.data("taskid");1===e.length?(J.clearData(),"DQ"!==t?"AS"!==t?J.getDataSourceList(function(){J.getTaskInfo({taskId:a,taskType:t})}):J.getTaskApiInfo({taskId:a,taskType:t}):J.getRuleFolder(function(){J.getTaskInfo({taskId:a,taskType:t})})):toastr.info("Please select one job only")}),$("body").on("click",s+" #J_task_move",function(){var e=$("#J_task_table tbody input:checked"),t=e.eq(0).data("folderid"),a=[];0!==e.length?($.each(e,function(){var e=$(this).data("taskid"),t=$(this).data("tasktype");a.push({taskId:e,taskType:t})}),$(s+" #J_task_move_modal [data-type=confirm]").data("arr",a),$("#J_task_move_modal [type=jstree]").jstree(!0).open_all(),$("#J_task_move_modal [type=jstree] [folderid="+t+"]>.jstree-anchor").click(),$("#J_task_move_modal").modal("show")):toastr.info("Please select one job at least")}),$("body").on("click",s+" #J_task_move_modal [data-type=confirm]",function(){var a=$("#J_task_move_modal [name=folderId]").val();if(a){var e=$(this).data("arr").map(function(e,t){return _extends(e,{targetFolderId:a})});$("#J_task_move_modal").modal("show"),J.moveTaskInfo({taskInfo:JSON.stringify(e)})}else toastr.info("Please select the target file")}),$("body").on("click",s+" #J_task_del",function(){var e=$("#J_task_table tbody input:checked"),a=[];0!==e.length?($.each(e,function(){var e=$(this).data("taskid"),t=$(this).data("tasktype");a.push({taskId:e,taskType:t})}),bootbox.confirm("Please confirm that you want to delete this task.",function(e){e&&(App.blockUI({boxed:!0,message:"Processing..."}),J.delTaskInfo({taskList:JSON.stringify(a)}))})):toastr.info("Please select one job at least")}),$("body").on("click",s+" #J_copy_task",function(){var e=$("#J_task_table tbody input:checked");if(1===e.length){App.blockUI({boxed:!0,message:"Processing..."});var t=e.data("taskid"),a=e.data("tasktype");J.copyTaskInfo({taskId:t,taskType:a,creator:localStorage.getItem("loginName")})}else toastr.info("Please select one job only")}),$("body").on("click",s+" #J_check_relate_job",function(){var e=$("#J_task_table tbody input:checked");if(1===e.length){var t=e.data("taskid");J.checkRelateJob({taskId:t}),$("#J_relate_job_modal").modal("show")}else toastr.info("Please select one job only")}),$("body").on("click",s+" #J_relate_job_list a",function(){var e=$(this).data("obj").jobId,t=$(this).data("obj").jobName,a=$(this).data("obj").folderId;e&&window.open("/retl-process/design.html?jobId="+e+"&jobName="+t+"&folderId="+a)}),$("body").on("click",s+" #J_get_sql",function(){if($("#J_select2_multi_tab_1_1").val()){var e=$("#J_select2_multi_tab_1_1").val();J.getSQL({tableId:e})}else toastr.info("Source object is missing.")}),$("body").on("click",s+" #J_preview_sql",function(){var e=$("#J_select2_single_tab_1_1").val(),t=$("#J_cm_TE").val().replace(/[\n]/g," ").replace(/[\t]/g," ");e?t?J.getPreviewSQL({connectionId:e,previewStatement:t,previewNum:"10"}):toastr.info("Source SQL is missing."):toastr.info("Please select source data.")}),$("body").on("click",s+" #J_crate_build_table_sql",function(){if($("#J_select2_single_tab_1_1").val())if($("#J_select2_single_tab_1_3").val())if($("#J_select2_multi_tab_1_1").val())if($("#J_select2_multi_tab_1_3").val()){var e=$("#J_select2_single_tab_1_1").val(),t=$("#J_select2_single_tab_1_3").val(),a=$("#J_select2_multi_tab_1_1").val(),o=$("#J_select2_multi_tab_1_3").select2("data")[0].text,n=$("#J_select2_multi_tab_1_3").data("origin"),l=!0,i=!0,r=!1,s=void 0;try{for(var d,c=n[Symbol.iterator]();!(i=(d=c.next()).done);i=!0){d.value.text===o.replace(/\(.+\)/g,"")&&(l=!1)}}catch(e){r=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(r)throw s}}l?J.getBuildTableSQL({sourceConnectionId:e,targetConnectionId:t,targetTableName:o,soureTableId:a}):toastr.info("Generation only allowed when target object is customized")}else toastr.info("Please select target table.");else toastr.info("Please select source table.");else toastr.info("Please selecct target data source.");else toastr.info("Please select source data source.")}),$("body").on("click",s+" #J_get_data_btns [data-type]",function(){if($("#J_select2_multi_tab_1_1").val())if($("#J_select2_multi_tab_1_3").val()){var e=$(this).data("type"),t=$("#J_select2_multi_tab_1_1").val(),a=$("#J_select2_multi_tab_1_3").val();if("refresh"===e)J.getDataField({targetTableId:a,soureTableId:t,searchType:"1",sortType:"1"},e);else if("del"===e)J.haddleDataField.delCheckedRow();else if("get"===e){var o=$(this).data("search-type").toString();J.getDataField({targetTableId:a,soureTableId:t,searchType:o,sortType:"1"},e)}}else toastr.info("Please select target table.");else toastr.info("Please select source table.")}),$("body").on("click",s+" #J_haddle_new_data .close",function(){$("#J_haddle_new_data").css({height:"0",opacity:"0",padding:"0 10px",transition:"0s"}),$(s+" #J_haddle_new_data [type=radio]").prop("checked",!1),jQuery.uniform.update()}),$("body").on("click",s+" #J_haddle_new_data [type=radio]",function(){var e=$(this).val();"0"===e?J.haddleDataField.appendNew():"1"===e?J.haddleDataField.appendAll():"2"===e&&J.haddleDataField.clearAppendAll(),$("#J_haddle_new_data").css({height:"0",opacity:"0",transition:"0s"}),$(s+" #J_haddle_new_data [type=radio]").prop("checked",!1),jQuery.uniform.update()}),$("body").on("change",s+" [name=beforeRule]",function(){"5"==$(this).val()?($(this).parents(".form-group").siblings(".J_show_delete_sql").show(),$(this).parents(".form-group").siblings(".J_show_delete_sql").find("[name=deleteSql]").removeAttr("type"),J.cm_TE_3&&setTimeout(function(){J.cm_TE_3.refresh()},0),J.cm_TI&&setTimeout(function(){J.cm_TI.refresh()},0)):($(this).parents(".form-group").siblings(".J_show_delete_sql").hide(),$(this).parents(".form-group").siblings(".J_show_delete_sql").find("[name=deleteSql]").attr("type","hidden"))}),$("body").on("change",s+" [name=importType]",function(){var e=$(this).val();if($(".fileinput-filename").html(""),$("[data-dismiss=fileinput]").click(),$("[data-importtype="+e+"]").show().find(".form-control:not([ignore])").attr("type","text"),$("[data-importtype="+e+"]").siblings("[data-importtype]").hide().find(".form-control:not([ignore])").attr("type","hidden"),$("[data-filetype-index="+e+"]").change(),"0"===e)$("#J_import_task_separator").css("display","none");else if("1"===e){var t=$("#J_import_path").val().replace($("[data-importtype=1] [name=fileName]").val(),"");$("#J_import_path").val(t);var a=$("[data-importtype=1] [name=fileName]").val().match(/.+\./)[0],o=a.substring(0,a.length-1);$("[data-importtype=1] [name=fileName]").val(o)}else"2"===e&&$("[data-importtype=2] [name=sftpSecretword]").attr("type","password")}),$("body").on("change",s+" select[name=fileType]",function(){var e=$(this).val();"xls"===e||"xlsx"===e||"csv"===e?($("#J_import_txt_start_line_wrap").show().find(".form-control").attr("type","text"),$("[name=startImportLine]").hide().attr("type","hidden")):$("#J_import_txt_start_line_wrap").hide().find(".form-control").attr("type","hidden"),"txt"===e||"dbf"===e||"dat"===e?($("#J_import_task_separator").show().find(".form-control").attr("type","text"),"dbf"===e&&($("#J_import_task_separator [name=taskSeparator]").val("1"),$("#J_import_task_separator").css("display","none"))):$("#J_import_task_separator").hide().find(".form-control").attr("type","hidden")}),$("body").on("change",s+" #J_import_txt_start_line input",function(){var e=$(this).val();"1"===e?$("[name=startImportLine]").hide().attr("type","hidden"):$("[name=startImportLine]").show().attr("type","text").val(e)}),$("body").on("change",s+" #J_TZ_file_range input",function(){"0"===$(this).val()?$("[name=a1005FilesPath]").show().attr("type","text"):$("[name=a1005FilesPath]").hide().attr("type","hidden")}),$("body").on("change",s+" #J_sync_rangge input",function(){"0"===$(this).val()?($("[name=a1006FilesPath]").show().attr("type","text"),$("#modify_file_content").show().find("input").attr("type","text"),$("#tab_12_3 .row > .form-group:nth-child(2)").show().find("input").attr("type","radio")):($("[name=a1006FilesPath]").hide().attr("type","hidden"),$("#modify_file_content").hide().find("input").attr("type","hidden"),$("#tab_12_3 .row > .form-group:nth-child(2)").hide().find("input").attr("type","hidden"))}),$("body").on("change",s+" #J_is_modify_file input",function(){"0"===$(this).val()?($("[name=targetFileName]").hide().attr("type","hidden"),$("[name=sourceFileName]").hide().attr("type","hidden"),$("#modify_file_content").hide()):($("[name=targetFileName]").show().attr("type","text"),$("[name=sourceFileName]").show().attr("type","text"),$("#modify_file_content").show())}),$("body").on("blur",s+" #tab_12_3 input[name=targetFileName]",function(){var a=$(s+" #tab_12_3 input[name=sourceFileName]").val().split(","),o=$(s+" #tab_12_3 input[name=targetFileName]").val().split(","),n=[];o.length===a.length?($.each(o,function(e,t){n.push({newValue:o[e],oldValue:a[e]})}),require.async("./template/modify-filename-list.handlebars",function(e){$("#J_modify_filename").html(e(n))})):(toastr.error("The number of modified files is inconsistent with the number of original files."),$("#J_modify_filename").html(""))}),$("body").on("change","#J_select2_single_tab_1_1",function(e){J.getTableList({connection_id:e.currentTarget.value},"#J_select2_multi_tab_1_1",!1,function(){if(J.sourceTables){var e=$("#J_select2_multi_tab_1_1").data("origin"),t=!0,a=!1,o=void 0;try{for(var n,l=e[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var i=n.value,r=i.id;i.text===J.sourceTables&&$("#J_select2_multi_tab_1_1").val(r).change()}}catch(e){a=!0,o=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw o}}}J.sourceTables=""})}),$("body").on("change","#J_select2_single_tab_1_3",function(e){J.getTableList({connection_id:e.currentTarget.value},"#J_select2_multi_tab_1_3",!0,function(){var e=!1;if(J.targetTable){var t=$("#J_select2_multi_tab_1_3").data("origin"),a=!0,o=!1,n=void 0;try{for(var l,i=t[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var r=l.value,s=r.id;r.text===J.targetTable&&($("#J_select2_multi_tab_1_3").val(s).change(),e=!0)}}catch(e){o=!0,n=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw n}}}else $("#J_select2_multi_tab_1_3").change();J.targetTable&&!e&&($("#J_select2_multi_tab_1_3").append('<option value="'+J.targetTable+'" selected>'+J.targetTable+"</option>"),$("#J_select2_multi_tab_1_3").change()),J.targetTable=""})}),$("body").on("change","#J_data_source_select2",function(e){J.getStoredProcedure({connectionId:e.currentTarget.value,objectType:"PROCEDURE"},function(){var e=!0;if(J.procedureName){var t=$("#J_stored_procedure_select2").data("origin"),a=!0,o=!1,n=void 0;try{for(var l,i=t[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){l.value.text===J.procedureName&&($("#J_stored_procedure_select2").val(J.procedureName).change(),e=!1)}}catch(e){o=!0,n=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw n}}}J.procedureName&&e&&($("#J_stored_procedure_select2").append('<option value="'+J.procedureName+'" selected>'+J.procedureName+"</option>"),$("#J_stored_procedure_select2").change()),J.procedureName=""})}),$("body").on("click","#J_test_store",function(e){var t=$("#J_data_source_select2").val(),a=$("#J_stored_procedure_select2").val(),o=App.getTableParamsFakeName("#J_store_params");t?a?o?(App.blockUI({boxed:!0,message:"Processing..."}),J.testStore({dbConnection:t,procedureName:a,parameters:JSON.stringify(o)})):toastr.info("params is missing."):toastr.info("Please select SP."):toastr.info("Please select data source.")}),$("body").on("change","#J_stored_procedure_select2",function(e){J.getStoredProcedurePreview({dbConnection:$("#J_data_source_select2").val(),procedureName:e.currentTarget.value,procType:"1"},function(e){var t=e.bcjson.items,a="";if(t&&0<t.length){var o=!0,n=!1,l=void 0;try{for(var i,r=t[Symbol.iterator]();!(o=(i=r.next()).done);o=!0){a+=i.value.TEXT}}catch(e){n=!0,l=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw l}}J.cm_TP.setValue(a),$("[name=procLastUpdate]").val(t[0].LASTTIME)}}),J.procedureName||(y.delAllRow(),J.getStoredProcedurePreview({dbConnection:$("#J_data_source_select2").val(),procedureName:e.currentTarget.value,procType:"2"},function(e){var t=e.bcjson.items,a=[];if(t&&0<t.length){var o=!0,n=!1,l=void 0;try{for(var i,r=t[Symbol.iterator]();!(o=(i=r.next()).done);o=!0){var s=i.value,d=s.POSITION,c=s.ARGUMENT_NAME,_=s.IN_OUT,p=s.DATA_TYPE;a.push({no:d,name:c,direction:_,type:p,value:""})}}catch(e){n=!0,l=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw l}}y.setData(a),J.setOptions()}}))}),$("body").on("click",s+" #J_query_datafield",function(){var e=$("#J_modal_TV [name=dbConnection]").val(),t=$("#J_modal_TV [name=variableScript]").val().replace(/[\n]/g," ").replace(/[\t]/g," ");e?t?J.getPreviewSQL({connectionId:e,previewStatement:t,previewNum:"10"}):toastr.info("Source SQL is missing."):toastr.info("Please select source data.")}),$("body").on("change","#J_select2_single_tab_1_9",function(e){J.getTableList({connection_id:e.currentTarget.value},"#J_select2_multi_tab_1_9",!1,function(){if(J.targetTable){var e=$("#J_select2_multi_tab_1_9").data("origin"),t=!0,a=!1,o=void 0;try{for(var n,l=e[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var i=n.value,r=i.id;i.text===J.targetTable&&$("#J_select2_multi_tab_1_9").val(r).change()}}catch(e){a=!0,o=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw o}}}else $("#J_select2_multi_tab_1_9").change();J.targetTable=""})}),$("body").on("change","#J_select2_single_tab_13_1",function(e){J.getTableList({connection_id:e.currentTarget.value},"#J_select2_multi_tab_13_1",!1,function(){if(J.dbTable){var e=$("#J_select2_multi_tab_13_1").data("origin"),t=!0,a=!1,o=void 0;try{for(var n,l=e[Symbol.iterator]();!(t=(n=l.next()).done);t=!0){var i=n.value,r=i.id;i.text===J.dbTable&&$("#J_select2_multi_tab_13_1").val(r).change()}}catch(e){a=!0,o=e}finally{try{!t&&l.return&&l.return()}finally{if(a)throw o}}}J.dbTable="",$("[name=columnFileName],[name=columnFileData]").empty().clearInputs()})}),$("body").on("change","#J_select2_multi_tab_13_1",function(e){$("[name=columnFileName],[name=columnFileData]").empty().clearInputs(),J.getDataField_3({table_id:e.currentTarget.value},"[name=columnFileName],[name=columnFileData]",function(){$("[name=columnFileName]").val(J.columnFileName),$("[name=columnFileData]").val(J.columnFileData)})}),$("body").on("change","#J_select2_single_tab_11_1",function(e){J.getRuleList({folderId:e.currentTarget.value,pageNumber:"1",pageSize:"9999"},function(){if(J.applyParam){var e=JSON.parse(J.applyParam).map(function(e,t){return e.ruleId});$("#J_select2_multi_tab_11_1").val(e).change(),J.applyParam=""}})}),$("body").on("select2:open","#J_select2_single_tab_1_1, #J_select2_multi_tab_1_1, #J_select2_multi_tab_11_1, #J_select2_single_tab_1_3, #J_select2_multi_tab_1_3, #J_select2_single_tab_1_9, #J_select2_multi_tab_1_9, #J_select2_single_tab_13_1, #J_select2_multi_tab_13_1, #J_stored_procedure_select2, #J_data_source_select2",function(e){var t=e.currentTarget.dataset.searchplaceholder;$(".select2-search__field").attr("placeholder",t)}),$("body").on("change","#J_store_params [fakename=name], #J_store_params [fakename=direction]",function(){J.setOptions()}),$("body").on("click",s+" #J_modal_TP [name=oparate]",function(){var e=$(this).data("type");"add"===e?y.addRow():"batchAdd"===e?y.batchAddRow():"delAll"===e?(y.delAllRow(),J.setOptions()):"del"===e&&(y.delRow($(this)),J.setOptions())}),$("body").on("change","[name=headFlag]",function(){"N"==$(this).val()?$("#J_header_content").hide().find("[name=headerContent]").attr("type","hidden"):$("#J_header_content").show().find("[name=headerContent]").attr("type","text")}),$("body").on("click",s+" #J_get_data_btns_2 [data-type]",function(){if($("#J_select2_multi_tab_1_9").val()){var e=$(this).data("type"),t=$("#J_select2_multi_tab_1_9").val();"refresh"===e||"get"===e?J.getDataField_2({table_id:t}):"del"===e&&J.haddleDataField_2.delCheckedRow()}else toastr.info("Please select target table.")}),$("body").on("change",s+" [data-type=target] select",function(){var t=$(this).closest("tbody").find("[data-type=target] select").data("v","");t.find("option").removeAttr("disabled"),$.each(t,function(){var e=$(this).val();e&&(t.find("option[value="+e+"]").attr("disabled",""),$(this).data("v",e))})}),$("body").on("blur",s+" [data-type=source] input",function(){var e=$(this).val(),t=$(this).attr("second");if(t||""==t)if(e){if($(this).hide(),""==t){var a="<option value="+e+" second="+e+">"+e+"</option>";return $(this).hide(),$(s+" [data-type=source] select").append(a).show(),void $(this).closest("td").find("select").val(e)}if(0<$(this).closest("td").find("select option[second="+t+"]").length)$(s+" [data-type=source]").find("select option[second="+t+"]").val(e).text(e).attr("second",e),$(this).closest("td").find("select").show();else{var o="<option value="+e+" second="+e+">"+e+"</option>";$(s+" [data-type=source] select").append(o),$(this).closest("td").find("select").val(e),$(this).closest("td").find("select").show()}}else{$(this).hide();var n=$(this).closest("td").find("select").val();$(s+" [data-type=source] select option[value="+n+"]").remove(),$(this).attr("isOptionClick","1"),$(this).closest("td").find("select").show()}else if(e){$(this).hide();var l="<option value="+e+" second="+e+">"+e+"</option>",i='<input class="form-control" type="text" second='+e+">";$(s+" [data-type=source] select").append(l);var r='<select class="form-control input-sm source-add-select">'+$(s+" [data-type=source] select").html()+"</select>";$(this).closest("td").append(r),$(this).closest("td").find("select").val(e),$("body").on("dblclick",s+" .source-add-select",function(){($(this).find("option:selected").attr("second")||$(this).closest("td").find("input").attr("isOptionClick"))&&($(this).closest("td").find("input").attr("isOptionClick")&&$(this).closest("td").find("input").removeAttr("isOptionClick"),$(this).closest("td").find("input").attr("second")?($(this).hide(),$(this).closest("td").find("input").show().val($(this).val()).attr("second",$(this).val())):($(this).closest("td").find("input").remove(),$(this).closest("td").append(i),$(this).closest("td").find("input").show().val($(this).val()).attr("second",$(this).val()),$(this).hide()))})}}),$("body").on("click","#tab_14_2 [name=apiParamsInputCommon] #add",function(){$(this).parent().after('<div name="apiParamsInputCommon" style="position: relative;height: 60px;">\n                <div class="form-group col-md-4">\n                    <label class="control-label col-md-4">\n                        <span>Name：</span>\n                    </label>\n                    <div class="form-group col-md-8">\n                        <input type="text" class="form-control" maxlength="64" name="name" placeholder="64 characters maximum">\n                    </div>\n                </div>\n                <div class="form-group col-md-4">\n                    <label class="control-label col-md-4">\n                        <span>Value：</span>\n                    </label>\n                    <div class="form-group col-md-8">\n                        <input type="text" class="form-control" maxlength="64" name="value" placeholder="64 characters maximum">\n                    </div>\n                </div>\n                <div class="form-group col-md-4">\n                    <label class="control-label col-md-4">\n                        <span>Location：</span>\n                    </label>\n                    <div class="form-group col-md-8">\n                        <select class="form-control" name="position">\n                            <option value="Header">Header</option>\n                            <option value="Body">Body</option>\n                        </select>\n                    </div>\n                </div>\n                <a style="position: relative;top: 8px;right: 0;" id=\'del\' title=""><i class="fa fa-trash-o"></i></a>\n            </div>')}),$("body").on("click","#tab_14_3 [name=apiParamsInput] #add",function(){$(this).parent().after('<div name="apiParamsInput" style="position: relative;height: 60px;">\n                <div class="form-group col-md-4">\n                    <label class="control-label col-md-4">\n                        <span>Name：</span>\n                    </label>\n                    <div class="form-group col-md-8">\n                        <input type="text" class="form-control" maxlength="64" name="name" placeholder="64 characters maximum">\n                    </div>\n                </div>\n                <div class="form-group col-md-4">\n                    <label class="control-label col-md-4">\n                        <span>Value：</span>\n                    </label>\n                    <div class="form-group col-md-8">\n                        <input type="text" class="form-control" maxlength="64" name="value" placeholder="64 characters maximum">\n                    </div>\n                </div>\n                <div class="form-group col-md-4">\n                    <label class="control-label col-md-4">\n                        <span>Location：</span>\n                    </label>\n                    <div class="form-group col-md-8">\n                        <select class="form-control" name="position">\n                            <option value="Header">Header</option>\n                            <option value="Body">Body</option>\n                        </select>\n                    </div>\n                </div>\n                <a style="position: relative;top: 8px;right: 0;" id=\'del\' title=""><i class="fa fa-trash-o"></i></a>\n            </div>')}),$("body").on("click","#tab_14_2 [name=apiParamsInputCommon] #del,  #tab_14_3 [name=apiParamsInput] #del",function(){$(this).parent().remove()})}),module.exports=e});