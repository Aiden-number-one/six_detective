var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};!function($){"use strict";$.fn.circleChart=function(M){var x=this,m={color:"#0090df",backgroundColor:"#e6e6e6",background:!0,speed:2e3,widthRatio:.2,value:66,unit:"percent",counterclockwise:!1,size:110,startAngle:0,animate:!0,backgroundFix:!0,lineCap:"round",animation:"easeInOutCubic",text:!1,redraw:!1,cAngle:0,textCenter:!0,textSize:!1,textWeight:"normal",textFamily:"sans-serif",relativeTextSize:1/7,autoCss:!0,onDraw:!1};Math.linearTween=function(t,e,n,i){return n*t/i+e},Math.easeInQuad=function(t,e,n,i){return n*(t/=i)*t+e},Math.easeOutQuad=function(t,e,n,i){return-n*(t/=i)*(t-2)+e},Math.easeInOutQuad=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},Math.easeInCubic=function(t,e,n,i){return n*(t/=i)*t*t+e},Math.easeOutCubic=function(t,e,n,i){return t/=i,n*(--t*t*t+1)+e},Math.easeInOutCubic=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},Math.easeInQuart=function(t,e,n,i){return n*(t/=i)*t*t*t+e},Math.easeOutQuart=function(t,e,n,i){return t/=i,-n*(--t*t*t*t-1)+e},Math.easeInOutQuart=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},Math.easeInQuint=function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},Math.easeOutQuint=function(t,e,n,i){return t/=i,n*(--t*t*t*t*t+1)+e},Math.easeInOutQuint=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Math.easeInSine=function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},Math.easeOutSine=function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},Math.easeInOutSine=function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},Math.easeInExpo=function(t,e,n,i){return n*Math.pow(2,10*(t/i-1))+e},Math.easeOutExpo=function(t,e,n,i){return n*(1-Math.pow(2,-10*t/i))+e},Math.easeInOutExpo=function(t,e,n,i){return(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e)},Math.easeInCirc=function(t,e,n,i){return t/=i,-n*(Math.sqrt(1-t*t)-1)+e},Math.easeOutCubic=function(t,e,n,i){return t/=i,n*(--t*t*t+1)+e},Math.easeInOutCubic=function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},Math.easeOutCirc=function(t,e,n,i){return t/=i,t--,n*Math.sqrt(1-t*t)+e},Math.easeInOutCirc=function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:(t-=2,n/2*(Math.sqrt(1-t*t)+1)+e)};function C(t,e,n,i,a,s,r,u){var o=Object.create(C.prototype);return o.pos=t,o.bAngle=e,o.eAngle=n,o.cAngle=i,o.radius=a,o.lineWidth=s,o.sAngle=r,o.settings=u,o}C.prototype={onDraw:function(e){if(!1!==this.settings.onDraw){var t=_extends({},this),n={percent:s,rad:function(t){return t},default:a};t.value=(n[this.settings.unit]||n.default)(t.cAngle),t.text=function(t){return i(e,t)},t.settings.onDraw(e,t)}},drawBackground:function(t){t.beginPath(),t.arc(this.pos,this.pos,this.settings.backgroundFix?.9999*this.radius:this.radius,0,2*Math.PI),t.lineWidth=this.settings.backgroundFix?.95*this.lineWidth:this.lineWidth,t.strokeStyle=this.settings.backgroundColor,t.stroke()},draw:function(t){if(t.beginPath(),this.settings.counterclockwise){var e=2*Math.PI;t.arc(this.pos,this.pos,this.radius,e-this.bAngle,e-(this.bAngle+this.cAngle),this.settings.counterclockwise)}else t.arc(this.pos,this.pos,this.radius,this.bAngle,this.bAngle+this.cAngle,this.settings.counterclockwise);t.lineWidth=this.lineWidth,t.lineCap=this.settings.lineCap,t.strokeStyle=this.settings.color,t.stroke()},animate:function(t,e,n,i,a){var s=this,r=(new Date).getTime()-n;r<1&&(r=1),n-i<1.05*this.settings.speed&&(!a&&1e3*this.cAngle<=Math.floor(1e3*this.eAngle)||a&&1e3*this.cAngle>=Math.floor(1e3*this.eAngle))?(this.cAngle=Math[this.settings.animation]((n-i)/r,this.sAngle,this.eAngle-this.sAngle,this.settings.speed/r),e.clearRect(0,0,this.settings.size,this.settings.size),this.settings.background&&this.drawBackground(e),this.draw(e),this.onDraw(t),n=(new Date).getTime(),z(function(){return s.animate(t,e,n,i,a)})):(this.cAngle=this.eAngle,e.clearRect(0,0,this.settings.size,this.settings.size),this.settings.background&&this.drawBackground(e),this.draw(e),this.setCurrentAnglesData(t))},setCurrentAnglesData:function(t){var e={percent:s,rad:function(t){return t},default:a},n=e[this.settings.unit]||e.default;t.data("current-c-angle",n(this.cAngle)),t.data("current-start-angle",n(this.bAngle))}};function b(t){return t/180*Math.PI}function v(t){return b(t/100*360)}var i=function(t,e){t.data("text",e),$(".circleChart_text",t).html(e)},a=function(t){return t/Math.PI*180},s=function(t){return a(t)/360*100},z=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(void 0,1e3/60)};return this.each(function(t,e){var n=$(e),i={},a=n.data();for(var s in a)a.hasOwnProperty(s)&&0===s.indexOf("_cache_")&&m.hasOwnProperty(s.substring(7))&&(i[s.substring(7)]=a[s]);var r=_extends({},m,i,a,M);for(var u in console.log(r),r)0!==u.indexOf("_cache_")&&n.data("_cache_"+u,r[u]);$("canvas.circleChart_canvas",n).length||n.append(function(){return $("<canvas/>",{class:"circleChart_canvas"}).prop({width:r.size,height:r.size}).css(r.autoCss?{"margin-left":"auto","margin-right":"auto",display:"block"}:{})}),$("p.circleChart_text",n).length||!1!==r.text&&(n.append("<p class='circleChart_text'>"+r.text+"</p>"),r.autoCss&&(r.textCenter?$("p.circleChart_text",n).css({position:"absolute","line-height":r.size+"px",top:0,width:"100%",margin:0,padding:0,"text-align":"center","font-size":!1!==r.textSize?r.textSize:r.size*r.relativeTextSize,"font-weight":r.textWeight,"font-family":r.textFamily}):$("p.circleChart_text",n).css({"padding-top":"5px","text-align":"center","font-weight":r.textWeight,"font-family":r.textFamily,"font-size":!1!==r.textSize?r.textSize:r.size*r.relativeTextSize}))),r.autoCss&&n.css("position","relative"),r.redraw||(r.cAngle=r.currentCAngle?r.currentCAngle:r.cAngle,r.startAngle=r.currentStartAngle?r.currentStartAngle:r.startAngle);var o=$("canvas",n).get(0).getContext("2d"),c={percent:v,rad:function(t){return t},default:b},h=c[r.unit]||c.default,g=h(r.startAngle),l=h(r.value),d=h(r.cAngle),f=r.size/2,w=f*(1-r.widthRatio/2),p=w*r.widthRatio,A=C(f,g,l,d,w,p,d,r);n.data("size",r.size),r.animate?0!==r.value?A.animate(n,o,(new Date).getTime(),(new Date).getTime(),l<d):z(function(){o.clearRect(0,0,x.settings.size,x.settings.size),A.settings.background&&A.drawBackground(o)}):(A.cAngle=A.eAngle,z(function(){r.background&&A.drawBackground(o),0!==r.value?(A.draw(o),A.onDraw(n),A.setCurrentAnglesData(n)):(o.clearRect(0,0,x.settings.size,x.settings.size),A.settings.background&&A.drawBackground(o))}))})}}(jQuery);