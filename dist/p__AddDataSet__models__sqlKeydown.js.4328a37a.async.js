(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"eYb/":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("p0pE")),l=n(a("d6i3")),c=n(a("Y/ft")),s=n(a("ywRk")),u=s.default.getMetadataTablePerform,o=s.default.getSqlParserInfo,d=s.default.getQryStatement,f={namespace:"sqlKeydown",state:{sql:"",visible:!1,sqlItem:{}},effects:{formatedSql:l.default.mark(function e(t,a){var n,r,s,u,d;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,s=a.put,n.connection_id,u=(0,c.default)(n,["connection_id"]),e.next=5,r(o,{param:u});case 5:if(d=e.sent,!d||"1"!==d.bcjson.flag){e.next=9;break}return e.next=9,s({type:"changeSql",payload:d.bcjson.items[0].formatedSql});case 9:case"end":return e.stop()}},e)}),getMetadataTablePerform:l.default.mark(function e(t,a){var n,r,c,s;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,e.next=4,r(u,{param:n});case 4:if(s=e.sent,!s||"1"!==s.bcjson.flag){e.next=8;break}return e.next=8,c({type:"changeSql",payload:s.bcjson.items[0].viewSql});case 8:case"end":return e.stop()}},e)}),querySql:l.default.mark(function e(t,a){var n,r,c,s,u,o;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,c=a.put,s=a.select,e.next=4,s(function(e){var t=e.sqlKeydown;return t.sql});case 4:return u=e.sent,e.next=7,r(d,{param:n});case 7:if(o=e.sent,!o||"1"!==o.bcjson.flag){e.next=11;break}return e.next=11,c({type:"changeSql",payload:u+o.bcjson.items[0].qryStatement});case 11:case"end":return e.stop()}},e)})},reducers:{changeSql:function(e,t){return(0,r.default)({},e,{sql:t.payload})},changeSqlDropDown:function(e,t){return(0,r.default)({},e,{visible:t.payload})},changeSqlItem:function(e,t){return(0,r.default)({},e,{sqlItem:t.payload})}}};t.default=f}}]);