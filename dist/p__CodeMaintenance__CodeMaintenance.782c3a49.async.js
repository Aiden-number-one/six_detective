(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"3rS4":function(e,t,a){"use strict";var n=a("g09b"),d=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var o=n(a("2/Rp"));a("2qtc");var i=n(a("kLXV"));a("bbsP");var l=n(a("/wGt"));a("DjyN");var c=n(a("NUBc"));a("g9YV");var u=n(a("wCAj")),s=n(a("2Taf")),r=n(a("vZ4D")),m=n(a("l4Ni")),f=n(a("ujKo")),p=n(a("MhPg"));a("y8nQ");var g,C,b,h=n(a("Vl3Y")),I=d(a("q1tI")),y=a("Hx5s"),v=a("MuoO"),N=a("LLXN"),S=n(a("BN5G")),E=n(a("RR/9")),M=n(a("9PR5")),L=n(a("QEkU")),P=h.default.create({})(M.default),k=(g=(0,v.connect)(function(e){var t=e.codeList,a=e.loading;return{loading:a.effects,getCodeListData:t.data,getCodeItemListData:t.itemData}}),g((b=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,d=new Array(n),o=0;o<n;o++)d[o]=arguments[o];return a=(0,m.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(d))),a.searchForm=I.default.createRef(),a.state={codeVisible:!1,deleteCodeItemVisible:!1,codeName:"",itemNameValue:"",columns:[{title:(0,N.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",render:function(e,t,n){return I.default.createElement("span",null,(a.state.itemPage.pageNumber-1)*a.state.itemPage.pageSize+n+1)}},{title:(0,N.formatMessage)({id:"systemManagement.codeMaintenance.subitemId"}),dataIndex:"subitemId",key:"subitemId"},{title:(0,N.formatMessage)({id:"systemManagement.codeMaintenance.subitemName"}),dataIndex:"subitemName",key:"subitemName"},{title:(0,N.formatMessage)({id:"systemManagement.codeMaintenance.sequence"}),dataIndex:"sequence",key:"sequence"},{title:(0,N.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",key:"operation",align:"center",render:function(e,t,n,d){return I.default.createElement("span",{className:E.default.operation},I.default.createElement("a",{href:"#",onClick:function(){a.updateCode(e,t,n,d)}},I.default.createElement(S.default,{type:"icon-edit",className:E.default["btn-icon"]})),I.default.createElement("a",{href:"#",onClick:function(){a.deleteCodeItem(e,t)}},I.default.createElement(S.default,{type:"icon-delete",className:E.default["btn-icon"]})))}}],codeColumns:[{title:(0,N.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",render:function(e,t,n){return I.default.createElement("span",null,(a.state.page.pageNumber-1)*a.state.page.pageSize+n+1)}},{title:(0,N.formatMessage)({id:"systemManagement.codeMaintenance.codeID"}),dataIndex:"codeId",key:"codeId"},{title:(0,N.formatMessage)({id:"systemManagement.codeMaintenance.codeName"}),dataIndex:"codeName",key:"codeName"}],page:{pageNumber:1,pageSize:10},modifyFlag:!1,codeId:"",itemPage:{pageNumber:"1",pageSize:"10"},updateCodeItemParams:{codeId:"",subitemId:"",subitem:"",subitemName:"",sequence:""}},a.codeFormRef=I.default.createRef(),a.addCode=function(){a.setState({codeVisible:!0,modifyFlag:!1})},a.codeConfirm=function(){a.setState({codeVisible:!1},function(){a.queryCodeItemList()})},a.codeCancel=function(){a.setState({codeVisible:!1})},a.updateCode=function(e,t){var n=a.state.codeId,d={codeId:n,subitemId:t.subitemId,subitem:t.subitem,subitemName:t.subitemName,sequence:t.sequence};a.setState({codeVisible:!0,modifyFlag:!0,updateCodeItemParams:d})},a.deleteCodeItem=function(e,t){var n={subitemId:t.subitemId};a.setState({deleteCodeItemVisible:!0,updateCodeItemParams:n})},a.deleteCodeItemConfirm=function(){var e=a.props.dispatch,t={operType:"subitemDeleteBycodeId",codeId:a.state.codeId,subitemId:a.state.updateCodeItemParams.subitemId};e({type:"codeList/deleteCodeItem",payload:t,callback:function(){a.queryCodeItemList(),a.setState({deleteCodeItemVisible:!1})}})},a.deleteCodeItemCancel=function(){a.setState({deleteCodeItemVisible:!1})},a.queryCodeList=function(){var e=a.props.dispatch,t=a.state,n=t.page,d=t.codeName,o={pageNumber:n.pageNumber.toString(),pageSize:n.pageSize.toString(),operType:"codeQuery",codeName:d};e({type:"codeList/getCodeList",payload:o,callback:function(){a.setState({codeId:a.props.getCodeListData.items[0]&&a.props.getCodeListData.items[0].codeId},function(){a.queryCodeItemList()})}})},a.itemNameChange=function(e){a.setState({itemNameValue:e.target.value})},a.queryCode=function(){a.searchForm.current.validateFields(function(e,t){e||a.setState({codeName:t.codeName},function(){a.queryCodeList()})})},a.onShowSizeChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({page:n},function(){a.queryCodeList()})},a.connectCodeList=function(e){a.setState({codeId:e.codeId},function(){a.queryCodeItemList()})},a.queryCodeItemList=function(){var e=a.props.dispatch,t={operType:"subitemQueryBycodeId",pageNumber:"".concat(a.state.itemPage.pageNumber)||"1",pageSize:"".concat(a.state.itemPage.pageSize)||"10",codeId:"".concat(a.state.codeId)};e({type:"codeList/getCodeItemList",payload:t})},a.pageChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({page:n},function(){a.queryCodeList()})},a.pageItemChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({itemPage:n},function(){a.queryCodeItemList()})},a}return(0,p.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.queryCodeList()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.getCodeListData,d=t.getCodeItemListData,s=n&&n.totalCount,r=d&&d.totalCount,m=this.state,f=m.page,p=m.itemPage,g=m.updateCodeItemParams,C=m.modifyFlag,b=n&&n.items,h=d&&d.items;return I.default.createElement(y.PageHeaderWrapper,null,I.default.createElement(I.Fragment,null,I.default.createElement("div",null,I.default.createElement("div",null,I.default.createElement(P,{search:this.queryCode,ref:this.searchForm})),I.default.createElement("div",{className:E.default.content},I.default.createElement(u.default,{loading:a["codeList/getCodeList"],dataSource:b,columns:this.state.codeColumns,pagination:!1,onRow:function(t){return{onClick:function(){e.connectCodeList(t)}}}}),I.default.createElement(c.default,{showSizeChanger:!0,current:f.pageNumber,showTotal:function(){return"Page ".concat(s?f.pageNumber:0," of ").concat(Math.ceil((s||0)/f.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:s,pageSize:f.pageSize}))),I.default.createElement("div",null,I.default.createElement("div",null,I.default.createElement(l.default,{closable:!1,title:C?"Modify Subiem":"Add Subitem",width:700,onClose:this.codeCancel,visible:this.state.codeVisible},this.state.codeVisible&&I.default.createElement(L.default,{modifyFlag:C,codeId:this.state.codeId,updateCodeItemParams:g,onCancel:this.codeCancel,onSave:this.codeConfirm})),I.default.createElement(i.default,{title:(0,N.formatMessage)({id:"app.common.confirm"}),visible:this.state.deleteCodeItemVisible,onOk:this.deleteCodeItemConfirm,onCancel:this.deleteCodeItemCancel,cancelText:(0,N.formatMessage)({id:"app.common.cancel"}),okText:(0,N.formatMessage)({id:"app.common.confirm"})},I.default.createElement("div",null,I.default.createElement("span",null,"Please confirm that you want to delete this record?")))),I.default.createElement("div",{className:E.default.content},I.default.createElement("div",{className:E.default.tableTop},I.default.createElement(o.default,{onClick:this.addCode,type:"primary",className:"btn_usual"},"+ Add")),I.default.createElement(u.default,{loading:a["codeList/getCodeItemList"],dataSource:h,pagination:!1,columns:this.state.columns}),I.default.createElement(c.default,{showSizeChanger:!0,current:p.pageNumber,showTotal:function(){return"Page ".concat(r?p.pageNumber:0," of ").concat(Math.ceil((r||0)/p.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageItemChange,total:r,pageSize:p.pageSize})))))}}]),t}(I.Component),C=b))||C),q=k;t.default=q},"9PR5":function(e,t,a){"use strict";var n=a("tAuX"),d=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var o=d(a("2/Rp"));a("14J3");var i=d(a("BMrR"));a("jCWc");var l=d(a("kPKH"));a("y8nQ");var c=d(a("Vl3Y"));a("5NDa");var u=d(a("5rEg")),s=d(a("2Taf")),r=d(a("vZ4D")),m=d(a("l4Ni")),f=d(a("ujKo")),p=d(a("MhPg")),g=n(a("q1tI")),C=a("LLXN"),b=d(a("RR/9")),h=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,d=new Array(n),o=0;o<n;o++)d[o]=arguments[o];return a=(0,m.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(d))),a.state={},a}return(0,p.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.search;return g.default.createElement(c.default,{className:"ant-advanced-search-form"},g.default.createElement(i.default,{gutter:{xs:24,sm:48,md:144,lg:48,xl:96}},g.default.createElement(l.default,{xs:12,sm:12,lg:8},g.default.createElement(c.default.Item,{label:(0,C.formatMessage)({id:"systemManagement.codeMaintenance.codeName"})},e("codeName",{})(g.default.createElement(u.default,{className:b.default.inputvalue,placeholder:"Please Input ".concat((0,C.formatMessage)({id:"systemManagement.codeMaintenance.codeName"}))}))))),g.default.createElement("div",{className:"btnArea"},g.default.createElement(o.default,{type:"primary",onClick:t},(0,C.formatMessage)({id:"app.common.search"}))))}}]),t}(g.Component);t.default=h},QEkU:function(e,t,a){"use strict";var n=a("g09b"),d=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("+L6B");var l=n(a("2/Rp"));a("miYZ");var c=n(a("tsqr"));a("y8nQ");var u=n(a("Vl3Y"));a("5NDa");var s,r,m,f=n(a("5rEg")),p=n(a("2Taf")),g=n(a("vZ4D")),C=n(a("l4Ni")),b=n(a("ujKo")),h=n(a("MhPg")),I=d(a("q1tI")),y=a("LLXN"),v=a("MuoO"),N=function(e){function t(){var e;return(0,p.default)(this,t),e=(0,C.default)(this,(0,b.default)(t).call(this)),e.state={},e}return(0,h.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.codeId,n=t.updateCodeItemParams;return I.default.createElement(I.Fragment,null,I.default.createElement(u.default,null,I.default.createElement(u.default.Item,{label:(0,y.formatMessage)({id:"systemManagement.codeMaintenance.codeID"}),labelCol:{span:4},wrapperCol:{span:8}},e("codeId",{initialValue:a||void 0})(I.default.createElement(f.default,{disabled:!0}))),I.default.createElement(u.default.Item,{label:(0,y.formatMessage)({id:"systemManagement.codeMaintenance.subitemId"}),labelCol:{span:4},wrapperCol:{span:8}},e("subitemId",{rules:[{required:!0,message:"Subitem ID should not be empty"}],initialValue:n.subitemId||void 0})(I.default.createElement(f.default,{placeholder:"Please input"}))),I.default.createElement(u.default.Item,{label:(0,y.formatMessage)({id:"systemManagement.codeMaintenance.subitemName"}),labelCol:{span:4},wrapperCol:{span:8}},e("subitemName",{rules:[{required:!0,message:"Subitem Name should not be empty"}],initialValue:n.subitemName||void 0})(I.default.createElement(f.default,{placeholder:"Please input"}))),I.default.createElement(u.default.Item,{label:(0,y.formatMessage)({id:"systemManagement.codeMaintenance.sequence"}),labelCol:{span:4},wrapperCol:{span:8}},e("sequence",{rules:[{required:!0,message:"Sequence should not be empty"}],initialValue:n.sequence||void 0})(I.default.createElement(f.default,{placeholder:"Please input"})))))}}]),t}(I.Component),S=u.default.create()(N),E=(s=(0,v.connect)(function(e){var t=e.codeList,a=e.loading;return{loading:a.effects,addCodeData:t.obj}}),s((m=function(e){function t(e){var a;return(0,p.default)(this,t),a=(0,C.default)(this,(0,b.default)(t).call(this,e)),a.newUserRef=I.default.createRef(),a.onCancel=function(){a.props.onCancel()},a.onSave=function(){var e=a.props,t=e.dispatch,n=e.codeId,d=e.modifyFlag,o=e.updateCodeItemParams;a.newUserRef.current.validateFields(function(e,i){if(!e){var l={operType:d?"subitemUpdateBycodeId":"subitemAddBycodeId",codeId:n,subitemId:i.subitemId,subitem:d?o.subitem:i.subitem,subitemName:i.subitemName,sequence:i.sequence};t({type:"codeList/addCodeItem",payload:l,callback:function(){c.default.success("success"),a.props.onSave()}})}})},a.state={},a}return(0,h.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.codeId,a=e.updateCodeItemParams;return I.default.createElement(I.Fragment,null,I.default.createElement(S,{ref:this.newUserRef,codeId:t,updateCodeItemParams:a}),I.default.createElement(o.default,{type:"flex",justify:"end",style:{position:"absolute",right:0,bottom:0,width:"100%",padding:"10px 16px",background:"#fff",textAlign:"right"}},I.default.createElement(i.default,null,I.default.createElement(l.default,{onClick:this.onCancel},"CANCEL"),I.default.createElement(l.default,{type:"primary",onClick:this.onSave},"SAVE"))))}}]),t}(I.Component),r=m))||r),M=E;t.default=M},"RR/9":function(e,t,a){e.exports={clearfix:"antd-pro-pages-code-maintenance-code-maintenance-clearfix",fl:"antd-pro-pages-code-maintenance-code-maintenance-fl",fr:"antd-pro-pages-code-maintenance-code-maintenance-fr","login-name":"antd-pro-pages-code-maintenance-code-maintenance-login-name",header:"antd-pro-pages-code-maintenance-code-maintenance-header",formWrap:"antd-pro-pages-code-maintenance-code-maintenance-formWrap",operation:"antd-pro-pages-code-maintenance-code-maintenance-operation",inputValue:"antd-pro-pages-code-maintenance-code-maintenance-inputValue",content:"antd-pro-pages-code-maintenance-code-maintenance-content",tableTop:"antd-pro-pages-code-maintenance-code-maintenance-tableTop"}}}]);