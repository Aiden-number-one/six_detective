(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"6BZM":function(e,t,a){e.exports={inputValue:"antd-pro-pages-audit-log-audit-log-inputValue",content:"antd-pro-pages-audit-log-audit-log-content",tableTop:"antd-pro-pages-audit-log-audit-log-tableTop"}},CNgS:function(e,t,a){"use strict";var n=a("tAuX"),o=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var d=o(a("2/Rp"));a("14J3");var i=o(a("BMrR"));a("5NDa");var l=o(a("5rEg"));a("jCWc");var u=o(a("kPKH"));a("y8nQ");var r=o(a("Vl3Y")),s=o(a("2Taf")),f=o(a("vZ4D")),g=o(a("l4Ni")),m=o(a("ujKo")),p=o(a("MhPg"));a("iQDF");var c=o(a("+eQT")),y=n(a("q1tI")),v=a("LLXN"),h=c.default.RangePicker,M=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return a=(0,g.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(o))),a.state={},a}return(0,p.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.search,n=t.exportData;return y.default.createElement(r.default,{className:"ant-advanced-search-form"},y.default.createElement(i.default,{gutter:{xs:24,sm:48,md:144,lg:48,xl:96}},y.default.createElement(u.default,{xs:12,sm:12,lg:8},y.default.createElement(r.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.auditLog.logDate"})},e("logDate",{})(y.default.createElement(h,{format:"DD-MMM-YYYY",placeholder:["Start Date","End Date"]})))),y.default.createElement(u.default,{xs:12,sm:12,lg:8},y.default.createElement(r.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.auditLog.updatedBy"})},e("updatedBy",{})(y.default.createElement(l.default,{placeholder:"Please input"})))),y.default.createElement(u.default,{xs:12,sm:12,lg:8},y.default.createElement(r.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.auditLog.functionName"})},e("functionName",{})(y.default.createElement(l.default,{placeholder:"Please input"}))))),y.default.createElement("div",{className:"btnArea"},y.default.createElement(d.default,{type:"primary",onClick:n,className:"btn_usual",style:{height:"36px"}},(0,v.formatMessage)({id:"app.common.export"})),y.default.createElement(d.default,{type:"primary",onClick:a},(0,v.formatMessage)({id:"app.common.search"}))))}}]),t}(y.Component);t.default=M},TbQj:function(e,t,a){"use strict";var n=a("g09b"),o=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var d=n(a("kLXV"));a("7Kak");var i=n(a("9yH6"));a("DjyN");var l=n(a("NUBc"));a("g9YV");var u=n(a("wCAj")),r=n(a("2Taf")),s=n(a("vZ4D")),f=n(a("l4Ni")),g=n(a("ujKo")),m=n(a("MhPg"));a("y8nQ");var p,c,y,v=n(a("Vl3Y")),h=o(a("q1tI")),M=a("Hx5s"),D=a("MuoO"),L=a("LLXN"),x=n(a("wd/R")),N=n(a("6BZM")),b=n(a("CNgS")),E=v.default.create({})(b.default),S=(p=(0,D.connect)(function(e){var t=e.auditLog,a=e.loading;return{loading:a.effects,getAuditLogListData:t.data}}),p((y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return a=(0,f.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(o))),a.state={page:{pageNumber:1,pageSize:10},logStartDate:void 0,logEndDate:void 0,functionName:void 0,updatedBy:void 0,exportDataVisible:!1,functionNameOptions:[{key:"",value:"",title:"All"},{key:"1",value:"1",title:"Name One"},{key:"2",value:"2",title:"Name Two"},{key:"3",value:"3",title:"Name Three"}],columns:[{title:(0,L.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",minWidth:60,render:function(e,t,n){return h.default.createElement("span",null,(a.state.page.pageNumber-1)*a.state.page.pageSize+n+1)}},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.functionName"}),dataIndex:"functionName",key:"functionName"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.tableName"}),dataIndex:"tableName",key:"tableName"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.BITOCode"}),dataIndex:"biToCode",key:"biToCode"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.productCode"}),dataIndex:"productCode",key:"productCode"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.effectiveDate"}),dataIndex:"effectiveTime",key:"effectiveTime",render:function(e,t){return h.default.createElement("div",null,h.default.createElement("span",null,t.operateDate&&(0,x.default)(t.operateDate).format("DD/MM/YYYY")))}},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.fieldUpdated"}),dataIndex:"filedUpdated",key:"filedUpdated"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.updateType"}),dataIndex:"updateType",key:"updateType"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.logDate"}),dataIndex:"logTime",key:"logTime"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.updatedBy"}),dataIndex:"updatedBy",key:"updatedBy"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.before"}),dataIndex:"before",key:"before"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.after"}),dataIndex:"after",key:"after"}],getAuditLogList:[]},a.auditLogForm=h.default.createRef(),a.getAuditLog=function(){var e=a.state,t=e.logStartDate,n=e.logEndDate,o=e.functionName,d=e.updatedBy,i=e.page,l={pageNumber:i.pageNumber.toString(),pageSize:i.pageSize.toString(),functionName:o,startTime:t,endTime:n,updatedBy:d},u=a.props.dispatch;u({type:"auditLog/getAuditLogList",payload:l})},a.pageChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({page:n},function(){a.getAuditLog()})},a.changeBeginDate=function(){},a.changeEndDate=function(){},a.queryLog=function(){a.auditLogForm.current.validateFields(function(e,t){if(!e){var n,o,d=t.logDate;d&&d.length>0&&(n=(0,x.default)(d[0]).format("YYYY-MM-DD"),o=(0,x.default)(d[1]).format("YYYY-MM-DD")),a.setState({logStartDate:n,logEndDate:o,functionName:t.functionName,updatedBy:t.updatedBy}),a.getAuditLog()}})},a.exportData=function(){a.setState({exportDataVisible:!0})},a.exportDataConfirm=function(){var e=a.props.dispatch,t={fileType:"1",apiVersion:"v2.0",apiName:"bayconnect.superlop.get_system_log_list"};e({type:"auditLog/getDataExport",payload:t},function(){a.setState({exportDataVisible:!1})})},a.exportDataCancel=function(){a.setState({exportDataVisible:!1})},a.operatorReset=function(){a.auditLogForm.current.resetFields()},a}return(0,m.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.getAuditLog()}},{key:"render",value:function(){var e=this.props.loading,t=this.state.getAuditLogList,a=this.state,n=a.page,o=a.functionNameOptions,r=a.exportDataVisible;t=this.props.getAuditLogListData.items;var s=this.props.getAuditLogListData&&this.props.getAuditLogListData.totalCount;return h.default.createElement(M.PageHeaderWrapper,null,h.default.createElement(E,{search:this.queryLog,exportData:this.exportData,ref:this.auditLogForm,functionNameOptions:o}),h.default.createElement("div",{className:N.default.content},h.default.createElement(u.default,{loading:e["auditLog/getAuditLogList"],dataSource:t,pagination:!1,columns:this.state.columns}),h.default.createElement(l.default,{showSizeChanger:!0,current:n.pageNumber,showTotal:function(){return"Page ".concat(s?n.pageNumber.toString():0," of ").concat(Math.ceil((s||0)/n.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:s,pageSize:n.pageSize})),h.default.createElement(d.default,{title:"Select export format",visible:r,onOk:this.exportDataConfirm,onCancel:this.exportDataCancel,cancelText:(0,L.formatMessage)({id:"app.common.cancel"}),okText:(0,L.formatMessage)({id:"app.common.save"})},h.default.createElement("div",null,h.default.createElement(i.default.Group,{name:"radiogroup",defaultValue:2},h.default.createElement(i.default,{value:1},"csv"),h.default.createElement(i.default,{value:2},"xlsx"),h.default.createElement(i.default,{value:3},"docx"),h.default.createElement(i.default,{value:4},"pdf")))))}}]),t}(h.Component),c=y))||c),k=S;t.default=k}}]);