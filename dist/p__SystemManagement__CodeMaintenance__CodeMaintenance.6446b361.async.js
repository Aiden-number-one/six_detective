(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{"8SA3":function(e,t,a){"use strict";var n=a("g09b"),d=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var o=n(a("2/Rp"));a("2qtc");var i=n(a("kLXV"));a("bbsP");var l=n(a("/wGt"));a("DjyN");var c=n(a("NUBc"));a("g9YV");var s=n(a("wCAj")),u=n(a("2Taf")),r=n(a("vZ4D")),m=n(a("l4Ni")),f=n(a("ujKo")),p=n(a("MhPg"));a("y8nQ");var g,I,b,C=n(a("Vl3Y")),h=d(a("q1tI")),v=a("Hx5s"),y=a("MuoO"),M=a("LLXN"),S=n(a("BN5G")),N=n(a("W981")),E=n(a("qiIZ")),L=n(a("n4cM")),x=C.default.create({})(E.default),q=(g=(0,y.connect)(function(e){var t=e.codeList,a=e.loading;return{loading:a.effects,getCodeListData:t.data,getCodeItemListData:t.itemData}}),g((b=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,d=new Array(n),o=0;o<n;o++)d[o]=arguments[o];return a=(0,m.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(d))),a.searchForm=h.default.createRef(),a.state={codeVisible:!1,deleteCodeItemVisible:!1,editIconActive:!1,deleteIconActive:!1,activeIndex:void 0,codeName:"",itemNameValue:"",columns:[{title:(0,M.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",align:"center",render:function(e,t,n){return h.default.createElement("span",null,(a.state.itemPage.pageNumber-1)*a.state.itemPage.pageSize+n+1)}},{title:(0,M.formatMessage)({id:"systemManagement.codeMaintenance.subitemId"}),dataIndex:"subitemId",key:"subitemId",align:"center"},{title:(0,M.formatMessage)({id:"systemManagement.codeMaintenance.subitemName"}),dataIndex:"subitemName",key:"subitemName",align:"center"},{title:(0,M.formatMessage)({id:"systemManagement.codeMaintenance.sequence"}),dataIndex:"sequence",key:"sequence",align:"center"},{title:(0,M.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",key:"operation",align:"center",render:function(e,t,n,d){return h.default.createElement("span",{className:N.default.operation},h.default.createElement("a",{href:"#",onClick:function(){a.updateCode(e,t,n,d)},onMouseEnter:function(){return a.editMouseEnter(n)},onMouseLeave:a.editMouseLeave},h.default.createElement(S.default,{type:a.state.editIconActive&&a.state.activeIndex===n?"icon-edit-hover":"icon-edit",className:N.default["btn-icon"]})),h.default.createElement("span",{className:"interval-padding"}),h.default.createElement("a",{href:"#",onClick:function(){a.deleteCodeItem(e,t)},onMouseEnter:function(){return a.deleteMouseEnter(n)},onMouseLeave:a.deleteMouseLeave},h.default.createElement(S.default,{type:a.state.deleteIconActive&&a.state.activeIndex===n?"icon-delete-hover":"icon-delete",className:N.default["btn-icon"]})))}}],codeColumns:[{title:(0,M.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",align:"center",render:function(e,t,n){return h.default.createElement("span",null,(a.state.page.pageNumber-1)*a.state.page.pageSize+n+1)}},{title:(0,M.formatMessage)({id:"systemManagement.codeMaintenance.codeID"}),dataIndex:"codeId",key:"codeId",align:"center"},{title:(0,M.formatMessage)({id:"systemManagement.codeMaintenance.codeName"}),dataIndex:"codeName",key:"codeName",align:"center"}],page:{pageNumber:1,pageSize:10},modifyFlag:!1,codeId:"",itemPage:{pageNumber:"1",pageSize:"10"},updateCodeItemParams:{codeId:"",subitemId:"",subitem:"",subitemName:"",sequence:""}},a.codeFormRef=h.default.createRef(),a.editMouseEnter=function(e){a.setState({editIconActive:!0,activeIndex:e})},a.editMouseLeave=function(){a.setState({editIconActive:!1})},a.deleteMouseEnter=function(e){a.setState({deleteIconActive:!0,activeIndex:e})},a.deleteMouseLeave=function(){a.setState({deleteIconActive:!1})},a.addCode=function(){a.setState({codeVisible:!0,modifyFlag:!1})},a.codeConfirm=function(){var e={codeId:"",subitemId:"",subitem:"",subitemName:"",sequence:""};a.setState({codeVisible:!1,updateCodeItemParams:e},function(){a.queryCodeItemList()})},a.codeCancel=function(){var e={codeId:"",subitemId:"",subitem:"",subitemName:"",sequence:""};a.setState({codeVisible:!1,updateCodeItemParams:e})},a.updateCode=function(e,t){var n=a.state.codeId,d={codeId:n,subitemId:t.subitemId,subitem:t.subitem,subitemName:t.subitemName,sequence:t.sequence};a.setState({codeVisible:!0,modifyFlag:!0,updateCodeItemParams:d})},a.deleteCodeItem=function(e,t){var n={subitemId:t.subitemId,subitem:t.subitem};a.setState({deleteCodeItemVisible:!0,updateCodeItemParams:n})},a.deleteCodeItemConfirm=function(){var e=a.props.dispatch,t={operType:"subitemDeleteBycodeId",codeId:a.state.codeId,subitem:a.state.updateCodeItemParams.subitem};e({type:"codeList/deleteCodeItem",payload:t,callback:function(){a.queryCodeItemList(),a.setState({deleteCodeItemVisible:!1})}})},a.deleteCodeItemCancel=function(){a.setState({deleteCodeItemVisible:!1})},a.queryCodeList=function(){var e=a.props.dispatch,t=a.state,n=t.page,d=t.codeName,o={pageNumber:n.pageNumber.toString(),pageSize:n.pageSize.toString(),operType:"codeQuery",codeName:d};e({type:"codeList/getCodeList",payload:o,callback:function(){a.setState({codeId:a.props.getCodeListData.items[0]&&a.props.getCodeListData.items[0].codeId},function(){a.queryCodeItemList()})}})},a.itemNameChange=function(e){a.setState({itemNameValue:e.target.value})},a.queryCode=function(){a.searchForm.current.validateFields(function(e,t){e||a.setState({codeName:t.codeName},function(){a.queryCodeList()})})},a.onShowSizeChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({page:n},function(){a.queryCodeList()})},a.onShowItemSizeChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({itemPage:n},function(){a.queryCodeItemList()})},a.connectCodeList=function(e){a.setState({codeId:e.codeId},function(){a.queryCodeItemList()})},a.queryCodeItemList=function(){var e=a.props.dispatch,t={operType:"subitemQueryBycodeId",pageNumber:"".concat(a.state.itemPage.pageNumber)||"1",pageSize:"".concat(a.state.itemPage.pageSize)||"10",codeId:"".concat(a.state.codeId)};e({type:"codeList/getCodeItemList",payload:t})},a.pageChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({page:n},function(){a.queryCodeList()})},a.pageItemChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({itemPage:n},function(){a.queryCodeItemList()})},a}return(0,p.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.queryCodeList()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.getCodeListData,d=t.getCodeItemListData,u=n&&n.totalCount,r=d&&d.totalCount,m=this.state,f=m.page,p=m.itemPage,g=m.updateCodeItemParams,I=m.modifyFlag,b=n&&n.items,C=d&&d.items;return h.default.createElement(v.PageHeaderWrapper,null,h.default.createElement(h.Fragment,null,h.default.createElement("div",null,h.default.createElement("div",null,h.default.createElement(x,{search:this.queryCode,ref:this.searchForm})),h.default.createElement("div",{className:N.default.content},h.default.createElement(s.default,{loading:a["codeList/getCodeList"],dataSource:b,columns:this.state.codeColumns,pagination:!1,onRow:function(t){return{onClick:function(){e.connectCodeList(t)}}}}),b&&b.length>0&&h.default.createElement(c.default,{showSizeChanger:!0,current:f.pageNumber,showTotal:function(){return"Page ".concat(u?f.pageNumber:0," of ").concat(Math.ceil((u||0)/f.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:u,pageSize:f.pageSize}))),h.default.createElement("div",null,h.default.createElement("div",null,h.default.createElement(l.default,{closable:!1,title:I?"Modify Subiem":"Add Subitem",width:700,onClose:this.codeCancel,visible:this.state.codeVisible},this.state.codeVisible&&h.default.createElement(L.default,{modifyFlag:I,codeId:this.state.codeId,updateCodeItemParams:g,onCancel:this.codeCancel,onSave:this.codeConfirm})),h.default.createElement(i.default,{title:(0,M.formatMessage)({id:"app.common.confirm"}),visible:this.state.deleteCodeItemVisible,onOk:this.deleteCodeItemConfirm,onCancel:this.deleteCodeItemCancel,cancelText:(0,M.formatMessage)({id:"app.common.cancel"}),okText:(0,M.formatMessage)({id:"app.common.confirm"})},h.default.createElement("div",null,h.default.createElement("span",null,"Please confirm that you want to delete this record?")))),h.default.createElement("div",{className:N.default.content,style:{paddingTop:"0px"}},h.default.createElement("div",{className:N.default.tableTop},h.default.createElement(o.default,{onClick:this.addCode,type:"primary",className:"btn_usual"},"+ Add Subitem")),h.default.createElement(s.default,{loading:a["codeList/getCodeItemList"],dataSource:C,pagination:!1,columns:this.state.columns}),C&&C.length>0&&h.default.createElement(c.default,{showSizeChanger:!0,current:p.pageNumber,showTotal:function(){return"Page ".concat(r?p.pageNumber:0," of ").concat(Math.ceil((r||0)/p.pageSize).toString())},onShowSizeChange:this.onShowItemSizeChange,onChange:this.pageItemChange,total:r,pageSize:p.pageSize})))))}}]),t}(h.Component),I=b))||I),P=q;t.default=P},W981:function(e,t,a){e.exports={clearfix:"antd-pro-pages-system-management-code-maintenance-code-maintenance-clearfix",fl:"antd-pro-pages-system-management-code-maintenance-code-maintenance-fl",fr:"antd-pro-pages-system-management-code-maintenance-code-maintenance-fr","login-name":"antd-pro-pages-system-management-code-maintenance-code-maintenance-login-name",header:"antd-pro-pages-system-management-code-maintenance-code-maintenance-header",formWrap:"antd-pro-pages-system-management-code-maintenance-code-maintenance-formWrap",inputValue:"antd-pro-pages-system-management-code-maintenance-code-maintenance-inputValue",content:"antd-pro-pages-system-management-code-maintenance-code-maintenance-content",tableTop:"antd-pro-pages-system-management-code-maintenance-code-maintenance-tableTop"}},n4cM:function(e,t,a){"use strict";var n=a("g09b"),d=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var o=n(a("BMrR"));a("jCWc");var i=n(a("kPKH"));a("+L6B");var l=n(a("2/Rp"));a("miYZ");var c=n(a("tsqr"));a("y8nQ");var s=n(a("Vl3Y"));a("5NDa");var u,r,m,f=n(a("5rEg")),p=n(a("2Taf")),g=n(a("vZ4D")),I=n(a("l4Ni")),b=n(a("ujKo")),C=n(a("MhPg")),h=d(a("q1tI")),v=a("LLXN"),y=a("MuoO"),M=function(e){function t(){var e;return(0,p.default)(this,t),e=(0,I.default)(this,(0,b.default)(t).call(this)),e.state={},e}return(0,C.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.codeId,n=t.updateCodeItemParams;return h.default.createElement(h.Fragment,null,h.default.createElement(s.default,null,h.default.createElement(s.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.codeMaintenance.codeID"}),labelCol:{span:4},wrapperCol:{span:8}},e("codeId",{initialValue:a||void 0})(h.default.createElement(f.default,{disabled:!0}))),h.default.createElement(s.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.codeMaintenance.subitemId"}),labelCol:{span:4},wrapperCol:{span:8}},e("subitemId",{rules:[{required:!0,message:"Subitem ID should not be empty"}],initialValue:n&&n.subitemId||void 0})(h.default.createElement(f.default,{placeholder:"Please input"}))),h.default.createElement(s.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.codeMaintenance.subitemName"}),labelCol:{span:4},wrapperCol:{span:8}},e("subitemName",{rules:[{required:!0,message:"Subitem Name should not be empty"}],initialValue:n&&n.subitemName||void 0})(h.default.createElement(f.default,{placeholder:"Please input"}))),h.default.createElement(s.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.codeMaintenance.sequence"}),labelCol:{span:4},wrapperCol:{span:8}},e("sequence",{rules:[{required:!0,message:"Sequence should not be empty"}],initialValue:n&&n.sequence||void 0})(h.default.createElement(f.default,{placeholder:"Please input"})))))}}]),t}(h.Component),S=s.default.create()(M),N=(u=(0,y.connect)(function(e){var t=e.codeList,a=e.loading;return{loading:a.effects,addCodeData:t.obj}}),u((m=function(e){function t(e){var a;return(0,p.default)(this,t),a=(0,I.default)(this,(0,b.default)(t).call(this,e)),a.newUserRef=h.default.createRef(),a.onCancel=function(){a.props.onCancel()},a.onSave=function(){var e=a.props,t=e.dispatch,n=e.codeId,d=e.modifyFlag,o=e.updateCodeItemParams;a.newUserRef.current.validateFields(function(e,i){if(!e){var l={operType:d?"subitemUpdateBycodeId":"subitemAddBycodeId",codeId:n,subitemId:i.subitemId,subitem:d?o.subitem:i.subitemId,subitemName:i.subitemName,sequence:i.sequence};t({type:"codeList/addCodeItem",payload:l,callback:function(){c.default.success("success"),a.props.onSave()}})}})},a.state={},a}return(0,C.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.codeId,a=e.updateCodeItemParams;return h.default.createElement(h.Fragment,null,h.default.createElement(S,{ref:this.newUserRef,codeId:t,updateCodeItemParams:a}),h.default.createElement(o.default,{type:"flex",justify:"end",style:{position:"absolute",right:0,bottom:0,width:"100%",padding:"10px 16px",background:"#fff",textAlign:"right"}},h.default.createElement(i.default,null,h.default.createElement(l.default,{onClick:this.onCancel},"CANCEL"),h.default.createElement(l.default,{type:"primary",onClick:this.onSave},"SAVE"))))}}]),t}(h.Component),r=m))||r),E=N;t.default=E},qiIZ:function(e,t,a){"use strict";var n=a("tAuX"),d=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var o=d(a("BMrR"));a("+L6B");var i=d(a("2/Rp"));a("jCWc");var l=d(a("kPKH"));a("y8nQ");var c=d(a("Vl3Y"));a("5NDa");var s=d(a("5rEg")),u=d(a("2Taf")),r=d(a("vZ4D")),m=d(a("l4Ni")),f=d(a("ujKo")),p=d(a("MhPg")),g=n(a("q1tI")),I=a("LLXN"),b=d(a("W981")),C=d(a("BN5G")),h=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,d=new Array(n),o=0;o<n;o++)d[o]=arguments[o];return a=(0,m.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(d))),a.state={},a}return(0,p.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.search;return g.default.createElement(c.default,{className:"ant-advanced-search-form search-wraper",layout:"vertical"},g.default.createElement(o.default,{gutter:{xs:0,sm:8,md:10,lg:20,xl:24},align:"bottom",type:"flex"},g.default.createElement(l.default,{xs:24,sm:12,xl:7,xxl:5},g.default.createElement(c.default.Item,{label:(0,I.formatMessage)({id:"systemManagement.codeMaintenance.codeName"})},e("codeName",{})(g.default.createElement(s.default,{className:b.default.inputvalue,placeholder:"Please Input ".concat((0,I.formatMessage)({id:"systemManagement.codeMaintenance.codeName"}))})))),g.default.createElement(l.default,{xs:24,sm:12,xl:7,xxl:5},g.default.createElement(c.default.Item,null,g.default.createElement(i.default,{type:"primary",onClick:t},g.default.createElement(C.default,{type:"iconsousuo",style:{color:"#fff"}}),(0,I.formatMessage)({id:"app.common.search"}))))))}}]),t}(g.Component);t.default=h}}]);