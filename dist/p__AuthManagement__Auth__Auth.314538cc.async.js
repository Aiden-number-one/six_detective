(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{ikTN:function(e,t,a){"use strict";var u=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("d6i3"));a("14J3");var r=n(a("BMrR"));a("/zsF");var c=n(a("PArb"));a("+L6B");var d=n(a("2/Rp"));a("jCWc");var o=n(a("kPKH"));a("ozfa");var f=n(a("MJZm")),s=n(a("1l/V")),p=n(a("qIgq")),i=u(a("q1tI")),m=a("MuoO"),h=a("fN+A"),v=n(a("zbwe"));function b(e){var t=e.dispatch,a=e.roleGroups,u=e.publicMenus,n=e.checkedRoleMenus;(0,i.useEffect)(function(){t({type:"auth/queryRoleGroups"}),t({type:"auth/queryPublicMenus",params:{endType:"0"}})},[]);var m=(0,i.useState)(""),b=(0,p.default)(m,2),y=b[0],k=b[1],E=(0,i.useState)([]),M=(0,p.default)(E,2),g=M[0],w=M[1],R=(0,i.useState)(!1),I=(0,p.default)(R,2),q=I[0],C=I[1];function G(e,t){return N.apply(this,arguments)}function N(){return N=(0,s.default)(l.default.mark(function e(a,u){var n;return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=u.node.props.roleId,n&&(k(n),t({type:"auth/queryRoleMenusById",params:{roleId:n}})),C(!!n);case 3:case"end":return e.stop()}},e)})),N.apply(this,arguments)}function z(e){w(e)}function J(){t({type:"auth/setRoleMenu",params:{roleId:y,menuId:g.join()}})}return(0,i.useEffect)(function(){w(n)},[n]),0===a.length&&0===u.length?i.default.createElement("p",null,"loading"):i.default.createElement("div",null,i.default.createElement(r.default,{className:v.default.container},i.default.createElement(o.default,{span:8},i.default.createElement(f.default,{className:v.default.tree,onSelect:G},(0,h.loopRoleGroups)(a))),i.default.createElement(o.default,{span:8,offset:1},i.default.createElement("div",null,i.default.createElement(d.default,{type:"danger",onClick:J,disabled:!q},"\u6388\u6743\u83dc\u5355\u6743\u9650"),i.default.createElement(d.default,{type:"danger",disabled:!q,onClick:function(){return w(u.map(function(e){return e.menuId}))}},"\u9009\u62e9\u5168\u90e8\u6743\u9650"),i.default.createElement(d.default,{disabled:!q,onClick:function(){return w([])}},"\u6e05\u9664\u6743\u9650")),i.default.createElement(c.default,null),q&&i.default.createElement(f.default,{className:v.default.tree,checkable:!0,checkedKeys:g,onCheck:z},(0,h.loopRoleMenus)(u)))))}var y=function(e){var t=e.auth,a=t.roleGroups,u=t.publicMenus,n=t.checkedRoleMenus;return{roleGroups:a,publicMenus:u,checkedRoleMenus:n}},k=(0,m.connect)(y)(b);t.default=k},zbwe:function(e,t,a){e.exports={container:"antd-pro-pages-auth-management-auth-auth-container",tree:"antd-pro-pages-auth-management-auth-auth-tree"}}}]);