(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"3ATK":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3"));a("T2oS");var u=n(a("W9HT"));a("jCWc");var d=n(a("kPKH")),c=n(a("1l/V")),i=n(a("qIgq"));a("14J3");var o=n(a("BMrR"));a("R9oj");var f=n(a("ECub"));a("Znn+");var s=n(a("ZTPi")),m=l(a("q1tI")),p=a("LLXN"),E=a("MuoO"),g=n(a("BN5G")),v=n(a("H7wn")),h=a("zhlU"),b=s.default.TabPane;function y(e){var t=e.className,a=void 0===t?"":t,l=e.style,n=void 0===l?{}:l;return m.default.createElement(o.default,{className:a,style:n,type:"flex",align:"middle",justify:"center"},m.default.createElement(f.default,null))}function C(e){var t=e.dispatch,a=e.loading,l=e.alert,n=e.comments,f=void 0===n?[]:n,E=e.logs,C=void 0===E?[]:E,I=(0,m.useState)(!1),A=(0,i.default)(I,2),x=A[0],N=A[1];function w(e,t){return S.apply(this,arguments)}function S(){return S=(0,c.default)(r.default.mark(function e(a,n){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"alertCenter/postComment",payload:{alertId:l.alertId,content:a,fileList:n.map(function(e){return e.url})}});case 2:case"end":return e.stop()}},e)})),S.apply(this,arguments)}return(0,m.useEffect)(function(){var e=l.alertTypeId,a=l.alertId,n=l.itemsTotal;0!==+n&&t({type:"alertCenter/fetchAlertItems",payload:{alertTypeId:e,alertId:a}}),t({type:"alertCenter/fetchLogs",payload:{alertId:a}}),t({type:"alertCenter/fetchComments",payload:{alertId:a}})},[l]),m.default.createElement(o.default,{className:v.default["detail-container"],gutter:10},m.default.createElement(d.default,{span:16,className:x?v.default.fullscreen:""},m.default.createElement(s.default,{hideAdd:!0,className:v.default["detail-des"],defaultActiveKey:"1",tabBarExtraContent:m.default.createElement(g.default,{type:x?"iconfullscreen-exit":"iconfull-screen",className:v.default["fullscreen-icon"],onClick:function(){return N(!x)}})},m.default.createElement(b,{key:"1",className:v.default["tab-content"],closable:!1,tab:m.default.createElement(p.FormattedMessage,{id:"alert-center.alert-detail"})},m.default.createElement(h.AlertDes,{alert:l})),0!==+l.itemsTotal&&m.default.createElement(b,{key:"2",className:v.default["tab-content"],closable:!1,tab:m.default.createElement(p.FormattedMessage,{id:"alert-center.alert-item-list"})},m.default.createElement(h.AlertTask,{alert:l})))),m.default.createElement(d.default,{span:8},m.default.createElement(s.default,{defaultActiveKey:"1",className:v.default["detail-comment"]},m.default.createElement(b,{key:"1",tab:m.default.createElement(p.FormattedMessage,{id:"alert-center.comment-history"}),className:v.default["tab-content"]},m.default.createElement(u.default,{spinning:a["alertCenter/fetchComments"]},f.length>0?m.default.createElement("ul",{className:v.default["comment-list"]},f.map(function(e){return m.default.createElement(h.AlertComment,{comment:e,key:e.id})})):m.default.createElement(y,{className:v.default["comment-list"]})),m.default.createElement(h.AlertRichText,{loading:a["alertCenter/postComment"],onCommit:w})),m.default.createElement(b,{key:"2",tab:m.default.createElement(p.FormattedMessage,{id:"alert-center.alert-lifecycle"}),className:v.default["tab-content"]},m.default.createElement(u.default,{spinning:a["alertCenter/fetchLogs"]},m.default.createElement("div",{style:{height:370,overflowY:"auto"}},C.length>0?C.map(function(e){return m.default.createElement(h.AlertLog,{log:e,key:e.id})}):m.default.createElement(y,{className:v.default["comment-list"],style:{height:370}})))))))}var I=(0,E.connect)(function(e){var t=e.loading,a=e.alertCenter,l=a.comments,n=a.logs;return{loading:t.effects,comments:l,logs:n}})(C);t.default=I},"7gX1":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.ClaimModal=u,t.CloseModal=d,t.ExportModal=c,a("2qtc");var n=l(a("kLXV")),r=l(a("q1tI"));function u(e){var t=e.visible,a=e.onCancel,l=e.onOk,u=e.loading,d=e.content;return r.default.createElement(n.default,{title:"CONFIRM",visible:t,closable:!1,onCancel:a,onOk:l,confirmLoading:u},r.default.createElement("div",{style:{textAlign:"center"}},d,r.default.createElement("div",null,"Do you confirm to re-claim?")))}function d(e){var t=e.visible,a=e.onCancel,l=e.loading,u=e.onOk,d=e.content;return r.default.createElement(n.default,{title:"CONFIRM",visible:t,closable:!1,onCancel:a,onOk:u,confirmLoading:l},r.default.createElement("div",{style:{textAlign:"center"}},d))}function c(e){var t=e.visible,a=e.onCancel,l=e.loading,u=e.onOk;return r.default.createElement(n.default,{title:"EXPORT",visible:t,closable:!1,onCancel:a,onOk:u,confirmLoading:l},r.default.createElement("div",{style:{textAlign:"center"}},"111"))}},"8Qir":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=f,a("bP8k");var n=l(a("gFTJ"));a("tU7J");var r=l(a("wFql")),u=l(a("q1tI")),d=a("LLXN"),c=l(a("wd/R")),i=a("8Br5"),o=r.default.Paragraph;function f(e){var t=e.alert,a=t.alertId,l=t.alertType,r=t.alertStatusDesc,f=t.alertTime,s=t.alertDesc,m=t.tradeDate,p=t.submissionTime,E=t.submitter,g=t.userName;return u.default.createElement(n.default,{column:1},u.default.createElement(n.default.Item,{label:u.default.createElement(d.FormattedMessage,{id:"alert-center.alert-id"})},a),u.default.createElement(n.default.Item,{label:u.default.createElement(d.FormattedMessage,{id:"alert-center.alert-type"})},l),u.default.createElement(n.default.Item,{label:u.default.createElement(d.FormattedMessage,{id:"alert-center.trade-date"})},(0,c.default)(m).format(i.dateFormat)),u.default.createElement(n.default.Item,{label:u.default.createElement(d.FormattedMessage,{id:"alert-center.alert-timestamp"})},(0,c.default)(f,i.timestampFormat).format(i.timestampFormat)),p&&u.default.createElement(n.default.Item,{label:u.default.createElement(d.FormattedMessage,{id:"alert-center.submission-time"})},(0,c.default)(p).format(i.timestampFormat)),E&&u.default.createElement(n.default.Item,{label:u.default.createElement(d.FormattedMessage,{id:"alert-center.submitter"})},E),u.default.createElement(n.default.Item,{label:u.default.createElement(d.FormattedMessage,{id:"alert-center.description"})},u.default.createElement(o,{ellipsis:{rows:3,expandable:!0}},s)),u.default.createElement(n.default.Item,{label:u.default.createElement(d.FormattedMessage,{id:"alert-center.owner"})},g),u.default.createElement(n.default.Item,{label:u.default.createElement(d.FormattedMessage,{id:"alert-center.status"})},r))}},AfXI:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=I;var r=n(a("d6i3"));a("14J3");var u=n(a("BMrR"));a("+L6B");var d=n(a("2/Rp"));a("DZo9");var c=n(a("8z0m"));a("jCWc");var i=n(a("kPKH")),o=n(a("p0pE")),f=n(a("gWZ8")),s=n(a("1l/V")),m=n(a("qIgq"));a("5NDa");var p=n(a("5rEg")),E=l(a("q1tI")),g=n(a("BN5G")),v=n(a("H7wn")),h=n(a("xxPW")),b=n(a("JKiI")),y=p.default.TextArea,C=function(e){return e/1024/1024<5};function I(e){var t=e.loading,a=e.onCommit,l=(0,E.useState)(""),n=(0,m.default)(l,2),p=n[0],I=n[1],A=(0,E.useState)([]),x=(0,m.default)(A,2),N=x[0],w=x[1];function S(){return T.apply(this,arguments)}function T(){return T=(0,s.default)(r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a(p,N);case 2:I(""),w([]);case 4:case"end":return e.stop()}},e)})),T.apply(this,arguments)}function M(e){var t=(0,f.default)(e.fileList);t=t.slice(-5),t=t.map(function(e){var t=e.response||{},a=t.bcjson,l=a||{},n=l.flag,r=l.items,u=void 0===r?{}:r;return"1"===n&&u?(0,o.default)({url:u.relativeUrl},e):e}),w(t)}function k(e){w(N.filter(function(t){return t.uid!==e.uid}))}return E.default.createElement("div",{className:v.default["comment-box"]},E.default.createElement(y,{placeholder:"COMMENT",className:v.default.txt,value:p,onChange:function(e){var t=e.target.value;return I(t)}}),E.default.createElement(u.default,{className:v.default["comment-commit"],type:"flex",align:"middle",justify:"space-between"},E.default.createElement(i.default,{span:11,offset:1},E.default.createElement(b.default,{postComment:function(e){return I("".concat(p).concat(e," "))}})),E.default.createElement(i.default,{span:6,align:"right"},E.default.createElement(c.default,{multiple:!0,action:"/upload?fileClass=alert_comment",beforeUpload:function(e){return C(e.size)},showUploadList:!1,fileList:N,onChange:M},E.default.createElement("span",{className:v.default["up-icon"],title:"please select a file"},E.default.createElement(g.default,{type:"iconbiezhen"}),N.length>0&&N.length))),E.default.createElement(i.default,{span:6,align:"right"},E.default.createElement(d.default,{type:"primary",loading:t,disabled:!p,onClick:S},"Submit"))),!!N.length&&E.default.createElement(h.default,{attachments:N,onRemove:k,onRemoveAll:function(){return w([])}}))}},ChdA:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,a("g9YV");var n=l(a("wCAj")),r=l(a("q1tI")),u=a("LLXN"),d=n.default.Column;function c(e){var t=e.dataSource,a=e.loading,l=e.getSelectedRows,c=e.renderAction;return r.default.createElement(n.default,{border:!0,dataSource:t,rowKey:"ALERT_ITEM_ID",scroll:{y:320},loading:a["alertCenter/fetchAlertItems"],pagination:{showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")}},rowSelection:{columnWidth:40,onChange:function(e,t){l(t)}}},r.default.createElement(d,{align:"center",dataIndex:"TASK_ID",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.task-id"})}),r.default.createElement(d,{align:"center",dataIndex:"EFFECTIVE_DATE",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.effective-date"})}),r.default.createElement(d,{align:"center",dataIndex:"MARKET",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.market"})}),r.default.createElement(d,{align:"center",dataIndex:"CA_PRODUCT_CODE",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.original-product-code"})}),r.default.createElement(d,{dataIndex:"EXPIRY_DATE",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.expiry-date"})}),r.default.createElement(d,{dataIndex:"USER_NAME",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.owner"})}),r.default.createElement(d,{ellipsis:!0,align:"center",dataIndex:"TASK_STATUS_DESC",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.status"})}),c())}},H0HP:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=g,a("Q9mQ");var n=l(a("diRs"));a("14J3");var r=l(a("BMrR"));a("jCWc");var u=l(a("kPKH"));a("tU7J");var d=l(a("wFql")),c=l(a("q1tI")),i=a("LLXN"),o=l(a("wd/R")),f=l(a("BN5G")),s=a("8Br5"),m=d.default.Paragraph,p=d.default.Text;function E(e){var t=e.attachments;return c.default.createElement(n.default,{placement:"bottomRight",title:c.default.createElement(i.FormattedMessage,{id:"alert-center.attachement-list"}),content:c.default.createElement(r.default,{style:{padding:"6px 14px",width:240,maxHeight:150,overflowY:"auto"}},t.map(function(e,t){var a=e.name,l=e.url;return c.default.createElement(u.default,{key:l},c.default.createElement(p,{ellipsis:!0,style:{width:"100%"},title:a},c.default.createElement("a",{download:!0,href:"/download?filePath=".concat(l),style:{marginBottom:20}},t+1,". ",a)))}))},c.default.createElement(f.default,{type:"iconbiezhen"}),t.length)}function g(e){var t=e.comment,a=t.id,l=t.commitTime,n=t.commentContent,d=t.fileList,i=d?d.split(","):[];return i=i.map(function(e){var t=e.split("/"),a=t.slice(-1)[0];return{name:a,url:e}}),c.default.createElement("li",{key:a},c.default.createElement(r.default,null,c.default.createElement(u.default,{span:18,style:{color:"#0D87D4"}},(0,o.default)(l).format(s.timestampFormat)),c.default.createElement(u.default,{span:5,offset:1,align:"right"},i.length>0&&c.default.createElement(E,{attachments:i}))),c.default.createElement(r.default,null,c.default.createElement(m,{ellipsis:{rows:3,expandable:!0}},n)))}},HItR:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=f,a("14J3");var n=l(a("BMrR"));a("jCWc");var r=l(a("kPKH"));a("tU7J");var u=l(a("wFql")),d=l(a("q1tI")),c=l(a("wd/R")),i=a("8Br5"),o=u.default.Paragraph;function f(e){var t=e.log,a=t.operateTime,l=t.log;return d.default.createElement(n.default,{style:{fontSize:13}},d.default.createElement(r.default,{span:11},(0,c.default)(a).format(i.timestampFormat)),d.default.createElement(r.default,{span:12,offset:1},d.default.createElement(o,{ellipsis:{rows:3,expandable:!0}},l)))}},JKiI:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=f,a("Q9mQ");var r=n(a("diRs"));a("+L6B");var u=n(a("2/Rp")),d=n(a("qIgq")),c=l(a("q1tI")),i=n(a("H7wn")),o=a("jz0T");function f(e){var t=e.postComment,a=(0,c.useState)(!1),l=(0,d.default)(a,2),n=l[0],f=l[1];function s(e){f(!1),t(e)}return c.default.createElement(r.default,{visible:n,onVisibleChange:function(e){return f(e)},placement:"topRight",trigger:"click",content:c.default.createElement("ul",{className:i.default.phase},o.PHASES.map(function(e,t){return c.default.createElement("li",{key:e,onClick:function(){return s(e)}},t+1,". ",e)}))},c.default.createElement(u.default,{type:"primary",onClick:function(){return f(!0)}},"Phase"))}},Oazy:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,a("g9YV");var n=l(a("wCAj")),r=l(a("q1tI")),u=a("LLXN"),d=n.default.Column;function c(e){var t=e.dataSource,a=e.loading,l=e.getSelectedRows,c=e.renderAction;return r.default.createElement(n.default,{border:!0,dataSource:t,rowKey:"ALERT_ITEM_ID",scroll:{y:320},loading:a["alertCenter/fetchAlertItems"],pagination:{showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")}},rowSelection:{columnWidth:40,onChange:function(e,t){l(t)}}},r.default.createElement(d,{align:"center",dataIndex:"TASK_ID",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.task-id"})}),r.default.createElement(d,{align:"center",dataIndex:"MARKET",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.market"})}),r.default.createElement(d,{ellipsis:!0,align:"center",dataIndex:"PRODUCT_CODE",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.product-code"})}),r.default.createElement(d,{ellipsis:!0,dataIndex:"PRODUCT_CATEGROY",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.product-category"})}),r.default.createElement(d,{dataIndex:"USER_NAME",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.owner"})}),r.default.createElement(d,{ellipsis:!0,align:"center",dataIndex:"TASK_STATUS_DESC",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.status"})}),c())}},PSbl:function(e,t,a){e.exports={icon:"antd-pro-pages-alert-center-column-title-index-icon","filter-icon":"antd-pro-pages-alert-center-column-title-index-filter-icon",active:"antd-pro-pages-alert-center-column-title-index-active",title:"antd-pro-pages-alert-center-column-title-index-title",clear:"antd-pro-pages-alert-center-column-title-index-clear",text:"antd-pro-pages-alert-center-column-title-index-text",container:"antd-pro-pages-alert-center-column-title-index-container",content:"antd-pro-pages-alert-center-column-title-index-content","bottom-btns":"antd-pro-pages-alert-center-column-title-index-bottom-btns","filter-type":"antd-pro-pages-alert-center-column-title-index-filter-type",type:"antd-pro-pages-alert-center-column-title-index-type",des:"antd-pro-pages-alert-center-column-title-index-des",selectbox:"antd-pro-pages-alert-center-column-title-index-selectbox",select:"antd-pro-pages-alert-center-column-title-index-select",checkbox:"antd-pro-pages-alert-center-column-title-index-checkbox",search:"antd-pro-pages-alert-center-column-title-index-search","check-content":"antd-pro-pages-alert-center-column-title-index-check-content","scroll-container":"antd-pro-pages-alert-center-column-title-index-scroll-container"}},VCye:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=n(a("d6i3"));a("bbsP");var u=n(a("/wGt"));a("+L6B");var d=n(a("2/Rp"));a("T2oS");var c=n(a("W9HT"));a("R9oj");var i=n(a("ECub"));a("7Kak");var o=n(a("9yH6")),f=n(a("1l/V")),s=n(a("qIgq")),m=l(a("q1tI")),p=a("LLXN"),E=n(a("H7wn")),g={display:"block",height:"30px",lineHeight:"30px"};function v(e){var t=e.loading,a=e.visible,l=e.users,n=e.handleCancel,v=e.assignUser,h=(0,m.useState)(""),b=(0,s.default)(h,2),y=b[0],C=b[1];function I(){return A.apply(this,arguments)}function A(){return A=(0,f.default)(r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v(y);case 2:C("");case 3:case"end":return e.stop()}},e)})),A.apply(this,arguments)}return m.default.createElement(u.default,{title:m.default.createElement(p.FormattedMessage,{id:"alert-center.assign"}),width:320,visible:a,closable:!1,bodyStyle:{paddingBottom:80},onClose:n},m.default.createElement(c.default,{spinning:t["alertCenter/fetchAssignUsers"]},l.length>0?m.default.createElement(o.default.Group,{onChange:function(e){return C(e.target.value)},value:y},l.map(function(e){return m.default.createElement(o.default,{style:g,value:e.userId,key:e.userId},e.userName)})):m.default.createElement(i.default,null)),m.default.createElement("div",{className:E.default["bottom-btns"]},m.default.createElement(d.default,{onClick:n},"Cancel"),m.default.createElement(d.default,{type:"primary",disabled:!y,onClick:I,loading:t["alertCenter/assignTask"]},"Commit")))}},XFor:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=n(a("d6i3"));a("Q9mQ");var u=n(a("diRs")),d=n(a("eHn4")),c=n(a("1l/V")),i=n(a("qIgq")),o=l(a("q1tI")),f=n(a("TSYQ")),s=n(a("BN5G")),m=a("tyJf"),p=n(a("PSbl")),E=[];function g(e){var t=e.children,a=e.isNum,l=e.loading,n=e.curColumn,g=e.filterItems,v=e.getFilterItems,h=e.onCommit,b=(0,o.useState)(!1),y=(0,i.default)(b,2),C=y[0],I=y[1],A=(0,o.useState)(!1),x=(0,i.default)(A,2),N=x[0],w=x[1],S=(0,o.useState)(a?1:7),T=(0,i.default)(S,2),M=T[0],k=T[1],F=(0,o.useState)([]),_=(0,i.default)(F,2),P=_[0],R=_[1],O=[1,3,4,5,6].includes(M);function L(e){w(e),e&&v()}function j(){return D.apply(this,arguments)}function D(){return D=(0,c.default)(r.default.mark(function e(){var t,a;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={column:n,value:P.toString(),condition:M.toString()},a=E.find(function(e){return e.column===n}),a?E=E.map(function(e){return e.column===n?Object.assign(e,t):e}):E.push(t),I(P.toString()!==g.toString()),e.next=6,h(E);case 6:w(!1);case 7:case"end":return e.stop()}},e)})),D.apply(this,arguments)}function q(e){R(e)}return o.default.createElement(u.default,{placement:"bottomLeft",trigger:"click",visible:N,onVisibleChange:L,overlayClassName:p.default.container,overlayStyle:{width:260},content:o.default.createElement(o.default.Fragment,null,o.default.createElement(m.FilterHeader,null),o.default.createElement("div",{className:p.default.content},o.default.createElement(m.FilterType,{isNum:a,handleTypeChange:function(e){return k(e)}}),O?o.default.createElement(m.FilterSelect,{filterList:g}):o.default.createElement(m.FilterCheckbox,{loading:l,filterList:g,curColumn:n,conditions:E,onCheckedList:q}),o.default.createElement(m.FilterFooter,{disabled:!P.length,onCancel:function(){return w(!1)},onOk:j})))},o.default.createElement("div",null,o.default.createElement(s.default,{type:"iconfilter1",className:(0,f.default)(p.default.icon,p.default["filter-icon"],(0,d.default)({},p.default.active,C))}),t))}},a3ln:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=l(a("q1tI")),r=a("Hx5s"),u=l(a("sPvl"));function d(){return n.default.createElement(r.PageHeaderWrapper,null,n.default.createElement(u.default,null))}},fUac:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,a("g9YV");var n=l(a("wCAj")),r=l(a("q1tI")),u=a("LLXN"),d=n.default.Column;function c(e){var t=e.dataSource,a=e.loading,l=e.getSelectedRows,c=e.renderAction;return r.default.createElement(n.default,{border:!0,dataSource:t,rowKey:"ALERT_ITEM_ID",scroll:{y:320},loading:a["alertCenter/fetchAlertItems"],pagination:{showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")}},rowSelection:{columnWidth:40,onChange:function(e,t){l(t)}}},r.default.createElement(d,{align:"center",dataIndex:"TASK_ID",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.task-id"})}),r.default.createElement(d,{align:"center",dataIndex:"MARKET",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.market"})}),r.default.createElement(d,{align:"center",dataIndex:"EP_CODE",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.ep-code"})}),r.default.createElement(d,{dataIndex:"EP_NAME",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.ep-name"})}),r.default.createElement(d,{dataIndex:"USER_NAME",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.owner"})}),r.default.createElement(d,{ellipsis:!0,align:"center",dataIndex:"TASK_STATUS_DESC",title:r.default.createElement(u.FormattedMessage,{id:"alert-center.status"})}),c())}},jz0T:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PHASES=void 0;var l=["All the data is problematic.","Data correct,can be turned off.","Remember to download all the attachments.","Statistics are collected every Friday.","Emai me before you turn off alert."];t.PHASES=l},sPvl:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_PAGE_SIZE=t.DEFAULT_PAGE=void 0;var r=n(a("qIgq"));a("14J3");var u=n(a("BMrR"));a("jCWc");var d=n(a("kPKH"));a("Pwec");var c=n(a("CtXQ")),i=n(a("d6i3")),o=n(a("1l/V"));a("g9YV");var f=n(a("wCAj")),s=l(a("q1tI")),m=n(a("mOP9")),p=a("MuoO"),E=n(a("wd/R")),g=a("LLXN"),v=n(a("BN5G")),h=a("8Br5"),b=a("7gX1"),y=n(a("XFor")),C=n(a("3ATK")),I=n(a("H7wn")),A=f.default.Column,x=1;t.DEFAULT_PAGE=x;var N=10;function w(e){var t=e.dispatch,a=e.loading,l=e.filterItems,n=e.tableColumn,r=e.id;function u(){t({type:"global/fetchTableFilterItems",payload:{tableName:"slop_biz.v_alert_center",tableColumn:n}})}function d(e){return c.apply(this,arguments)}function c(){return c=(0,o.default)(i.default.mark(function e(a){return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t({type:"alertCenter/fetch",payload:{currentColumn:n,conditions:a}});case 1:case"end":return e.stop()}},e)})),c.apply(this,arguments)}return s.default.createElement(y.default,{isNum:"itemsTotal"===n,curColumn:n,loading:a["global/fetchTableFilterItems"],filterItems:l,getFilterItems:u,onCommit:d},s.default.createElement(g.FormattedMessage,{id:"alert-center.".concat(r)}))}t.DEFAULT_PAGE_SIZE=N;var S=(0,p.connect)(function(e){var t=e.loading,a=e.global.filterItems;return{loading:t.effects,filterItems:a}})(w);function T(e){var t=e.disabled,a=e.loading,l=e.isBatchAction,n=e.isReClaim,r=e.claimAlerts,i=e.closeAlerts,o=e.exportAlerts;return s.default.createElement(u.default,{className:I.default.btns},s.default.createElement(d.default,{span:18},s.default.createElement("button",{type:"button",disabled:t,onClick:r,className:a["alertCenter/claim"]?I.default.loading:""},l&&!t&&!n&&a["alertCenter/claim"]?s.default.createElement(c.default,{type:"loading",className:I.default["btn-icon"]}):s.default.createElement(v.default,{type:"iconqizhi",className:I.default["btn-icon"]}),s.default.createElement(g.FormattedMessage,{id:"alert-center.claim"})),s.default.createElement("button",{type:"button",disabled:t,onClick:i},s.default.createElement(v.default,{type:"iconclose-circle",className:I.default["btn-icon"]}),s.default.createElement(g.FormattedMessage,{id:"alert-center.close"})),s.default.createElement("button",{type:"button",disabled:t,onClick:o},s.default.createElement(v.default,{type:"iconexport",className:I.default["btn-icon"]}),s.default.createElement(g.FormattedMessage,{id:"alert-center.export"}))),s.default.createElement(d.default,{span:6,align:"right"},s.default.createElement(m.default,{to:"/homepage/information",className:I.default.info},"Information")))}function M(e){var t=e.dispatch,a=e.loading,l=e.alerts,n=e.total,d=e.claimInfos,m=(0,s.useState)(null),p=(0,r.default)(m,2),y=p[0],x=p[1],N=(0,s.useState)(!1),w=(0,r.default)(N,2),M=w[0],k=w[1],F=(0,s.useState)(""),_=(0,r.default)(F,2),P=_[0],R=_[1],O=(0,s.useState)(!1),L=(0,r.default)(O,2),j=L[0],D=L[1],q=(0,s.useState)(""),H=(0,r.default)(q,2),U=H[0],X=H[1],K=(0,s.useState)(!1),B=(0,r.default)(K,2),z=B[0],G=B[1],V=(0,s.useState)([]),J=(0,r.default)(V,2),W=J[0],Q=J[1],Y=(0,s.useState)(!1),Z=(0,r.default)(Y,2),$=Z[0],ee=Z[1],te=(0,s.useState)(!1),ae=(0,r.default)(te,2),le=ae[0],ne=ae[1];function re(e,a){t({type:"alertCenter/fetch",payload:{page:e,pageSize:a}})}function ue(){k(!1),ee(!1),ne(!1)}function de(e){ee(!1),x(e),e.userName?(k(!0),R(s.default.createElement("div",null,"this alert has been claimed by ",e.userName))):t({type:"alertCenter/claim",payload:{alertIds:[e.alertId],isCoverClaim:0}})}function ce(){ee(!0);var e=W.find(function(e){return e.userName});e&&e.userName?(k(!0),ne(!0),R(s.default.createElement("div",null,"some alerts has been claimed"))):(ne(!1),t({type:"alertCenter/claim",payload:{alertIds:W.map(function(e){return e.alertId}),isCoverClaim:0}}))}function ie(){return oe.apply(this,arguments)}function oe(){return oe=(0,o.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return ne(!0),a=y.alertId,e.next=4,t({type:"alertCenter/claim",payload:{alertIds:$?W.map(function(e){return e.alertId}):[a],isCoverClaim:1}});case 4:k(!1);case 5:case"end":return e.stop()}},e)})),oe.apply(this,arguments)}function fe(e){D(!0),e?(x(e),ee(!1),X(s.default.createElement(s.default.Fragment,null,s.default.createElement("div",null,"Do you confirm to close this alert?"),s.default.createElement("div",null,"(AlertId: ",e.alertId,")")))):(ee(!0),X("Do you confirm to close these alerts?"))}function se(){return me.apply(this,arguments)}function me(){return me=(0,o.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=y.alertId,e.next=3,t({type:"alertCenter/close",payload:{alertIds:$?W.map(function(e){return e.alertId}):[a]}});case 3:D(!1);case 4:case"end":return e.stop()}},e)})),me.apply(this,arguments)}function pe(){}return(0,s.useEffect)(function(){t({type:"alertCenter/fetch"})},[]),(0,s.useEffect)(function(){if(l&&l.length>0){var e=(0,r.default)(l,1),t=e[0],a=y&&l.find(function(e){return e.alertId===y.alertId});x(a||t)}else x(null)},[l]),(0,s.useEffect)(function(){d&&d.length>0&&d.forEach(function(e){if(e.userName){var t=$?s.default.createElement("div",null,"some alerts has been claimed"):s.default.createElement("div",null,"this alert has been claimed by ",e.userName);R(t),k(!0)}})},[d]),s.default.createElement("div",{className:I.default["list-container"]},s.default.createElement("div",{className:I.default.list},s.default.createElement(T,{loading:a,disabled:!W.length,isReClaim:le,isBatchAction:$,claimAlerts:function(){return ce()},closeAlerts:function(){return fe()}}),s.default.createElement(b.ClaimModal,{visible:M,content:P,onCancel:ue,onOk:ie,loading:a["alertCenter/claim"]}),s.default.createElement(b.CloseModal,{visible:j,onCancel:function(){return D(!1)},onOk:se,content:U,loading:a["alertCenter/close"]}),s.default.createElement(b.ExportModal,{visible:z,onCancel:function(){return G(!1)},onOk:pe}),s.default.createElement(f.default,{border:!0,dataSource:l,rowKey:"alertId",loading:a["alertCenter/fetch"],rowClassName:function(e){return y&&e.alertId===y.alertId?"active":""},rowSelection:{getCheckboxProps:function(e){return{disabled:1===+e.alertStatus}},onChange:function(e,t){Q(t)}},pagination:{total:n,showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(e,t){return re(e,t)},onShowSizeChange:function(e,t){return re(e,t)}},onRow:function(e){return{onClick:function(){x(e)}}}},s.default.createElement(A,{align:"center",dataIndex:"alertId",title:s.default.createElement(S,{tableColumn:"alertId",id:"alert-id"})}),s.default.createElement(A,{width:"15%",align:"center",dataIndex:"alertType",title:s.default.createElement(S,{tableColumn:"alertType",id:"alert-type"})}),s.default.createElement(A,{align:"center",dataIndex:"tradeDate",title:s.default.createElement(S,{tableColumn:"tradeDate",id:"trade-date"}),render:function(e,t){return(0,E.default)(t.tradeDate).format(h.dateFormat)}}),s.default.createElement(A,{align:"center",dataIndex:"alertTime",title:s.default.createElement(S,{tableColumn:"alertTime",id:"alert-timestamp"}),render:function(e,t){return(0,E.default)(t.alertTime,h.timestampFormat).format(h.timestampFormat)}}),s.default.createElement(A,{align:"center",dataIndex:"itemsTotal",title:s.default.createElement(S,{tableColumn:"itemsTotal",id:"items-total"}),render:function(e,t){return+t.itemsTotal}}),s.default.createElement(A,{align:"center",dataIndex:"userName",title:s.default.createElement(g.FormattedMessage,{id:"alert-center.owner"})}),s.default.createElement(A,{align:"center",dataIndex:"alertStatusDesc",title:s.default.createElement(g.FormattedMessage,{id:"alert-center.status"})}),s.default.createElement(A,{align:"center",width:"8%",dataIndex:"action",title:s.default.createElement(g.FormattedMessage,{id:"alert-center.actions"}),render:function(e,t){return s.default.createElement(u.default,{type:"flex",justify:"space-around",align:"middle",className:I.default["icon-btns"]},a["alertCenter/claim"]&&y&&y.alertId===t.alertId&&!$&&!le?s.default.createElement(c.default,{type:"loading"}):s.default.createElement("button",{type:"button",disabled:1===+t.alertStatus,title:(0,g.formatMessage)({id:"alert-center.claim"}),onClick:function(){return de(t)}},s.default.createElement(v.default,{type:"iconqizhi",className:I.default.icon})),1===+t.isClosedManually&&s.default.createElement("button",{type:"button",disabled:1===+t.alertStatus,title:(0,g.formatMessage)({id:"alert-center.close"}),onClick:function(){return fe(t)}},s.default.createElement(v.default,{type:"iconclose",className:I.default.icon})))}}))),y&&s.default.createElement(C.default,{alert:y}))}var k=function(e){var t=e.loading,a=e.alertCenter,l=a.alerts,n=a.alertItems,r=a.page,u=a.total,d=a.claimInfos;return{alerts:l,page:r,total:u,alertItems:n,claimInfos:d,loading:t.effects}},F=(0,p.connect)(k)(M);t.default=F},tyJf:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.FilterHeader=y,t.FilterFooter=C,t.FilterType=I,t.FilterSelect=A,t.FilterCheckbox=x,a("T2oS");var r=n(a("W9HT"));a("R9oj");var u=n(a("ECub"));a("sRBo");var d=n(a("kaz8")),c=n(a("qIgq"));a("+L6B");var i=n(a("2/Rp"));a("14J3");var o=n(a("BMrR"));a("jCWc");var f=n(a("kPKH"));a("5NDa");var s=n(a("5rEg"));a("OaEy");var m=n(a("2fM7")),p=l(a("q1tI")),E=n(a("BN5G")),g=n(a("PSbl")),v=m.default.Option,h=s.default.Search,b=[{id:1,name:"EQUAL"},{id:2,name:"NOT EQUAL"},{id:3,name:"GREATER THAN"},{id:4,name:"GREATER THAN OR EQUAL"},{id:5,name:"LESS THAN"},{id:6,name:"LESS THAN OR EQUAL"},{id:7,name:"CONTAIN"}];function y(){function e(){}return p.default.createElement(o.default,{className:g.default.title},p.default.createElement(f.default,{span:12,align:"left"},p.default.createElement(E.default,{type:"iconsort-asc",className:g.default.icon}),p.default.createElement(E.default,{type:"iconsort-desc",className:g.default.icon})),p.default.createElement(f.default,{span:12,align:"right"},p.default.createElement("span",{className:g.default.clear,onClick:e},p.default.createElement(E.default,{type:"icondelete",className:g.default.icon}),p.default.createElement("span",{className:g.default.text},"CLEAR"))))}function C(e){var t=e.disabled,a=e.onCancel,l=e.onOk;return p.default.createElement("div",{className:g.default["bottom-btns"]},p.default.createElement(i.default,{size:"small",onClick:a},"Cancel"),p.default.createElement(i.default,{type:"primary",disabled:t,onClick:l},"Commit"))}function I(e){var t=e.isNum,a=e.loading,l=e.handleTypeChange,n=function(e){var a=e.id;return t?7!==a:[1,2,7].includes(a)};return p.default.createElement("div",{className:g.default["filter-type"]},p.default.createElement("span",null,t?"NUM":"TEXT"),p.default.createElement(m.default,{ellipsis:!0,loading:a,className:g.default.type,defaultValue:t?1:7,onChange:function(e){return l(e)}},b.filter(n).map(function(e){var t=e.id,a=e.name;return p.default.createElement(v,{value:t,key:t},a)})))}function A(e){var t=e.filterList;function a(e){console.log("search:",e)}function l(e){console.log("selected ".concat(e))}return p.default.createElement("div",{className:g.default.selectbox},p.default.createElement("div",{className:g.default.des},"Description"),p.default.createElement(m.default,{showSearch:!0,allowClear:!0,placeholder:"Select a item",className:g.default.select,optionFilterProp:"children",onChange:l,onSearch:a,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},t.map(function(e){return p.default.createElement(v,{value:e,key:e},e)})))}function x(e){var t=e.loading,a=e.filterList,l=e.curColumn,n=e.conditions,i=e.onCheckedList,f=(0,p.useState)(!0),s=(0,c.default)(f,2),m=s[0],E=s[1],v=(0,p.useState)(!1),b=(0,c.default)(v,2),y=b[0],C=b[1],I=(0,p.useState)([]),A=(0,c.default)(I,2),x=A[0],N=A[1];function w(e){N(e),i(e),C(e.length&&e.length<a.length),E(e.length===a.length)}function S(e){var t=e.target.checked,l=t?a:[];N(l),i(l),C(!1),E(t)}function T(e){console.log("value",e)}return(0,p.useEffect)(function(){var e=n.find(function(e){return e.column===l});N(e?e.value.split(","):a)},[a,l,n]),p.default.createElement("div",{className:g.default.checkbox},p.default.createElement(h,{placeholder:"input search keyword",className:g.default.search,onSearch:T}),p.default.createElement("div",{className:g.default.des},"Description"),p.default.createElement(r.default,{spinning:t},a.length>0?p.default.createElement("div",{className:g.default["check-content"]},p.default.createElement(o.default,null,p.default.createElement(d.default,{indeterminate:y,onChange:S,checked:m},"Select All")),p.default.createElement(d.default.Group,{className:g.default["scroll-container"],value:x,onChange:w},a.map(function(e){return p.default.createElement(o.default,{key:e},p.default.createElement(d.default,{value:e},e))}))):p.default.createElement(u.default,{image:u.default.PRESENTED_IMAGE_SIMPLE})))}},ugel:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3"));a("g9YV");var u=n(a("wCAj"));a("Pwec");var d=n(a("CtXQ")),c=n(a("1l/V")),i=n(a("qIgq")),o=l(a("q1tI")),f=a("LLXN"),s=n(a("mOP9")),m=a("MuoO"),p=n(a("H7wn")),E=n(a("BN5G")),g=n(a("VCye")),v=n(a("fUac")),h=n(a("Oazy")),b=n(a("ChdA")),y={301:v.default,302:h.default,303:b.default};function C(e){var t=e.dispatch,a=e.loading,l=e.alert,n=l.alertTypeId,m=l.alertId,v=e.alertItems,h=e.users,b=(0,o.useState)(!1),C=(0,i.default)(b,2),I=C[0],A=C[1],x=(0,o.useState)([]),N=(0,i.default)(x,2),w=N[0],S=N[1],T=y[+n];function M(){return k.apply(this,arguments)}function k(){return k=(0,c.default)(r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"alertCenter/fetchAssignUsers",payload:{alertItemIds:w.map(function(e){return e.ALERT_ITEM_ID})}});case 2:A(!0);case 3:case"end":return e.stop()}},e)})),k.apply(this,arguments)}function F(e){return _.apply(this,arguments)}function _(){return _=(0,c.default)(r.default.mark(function e(a){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"alertCenter/assignTask",payload:{userId:a,taskIds:w.map(function(e){return e.TASK_ID}),alertTypeId:n,alertId:m}});case 2:A(!1);case 3:case"end":return e.stop()}},e)})),_.apply(this,arguments)}return o.default.createElement("div",{className:p.default["task-container"]},o.default.createElement(g.default,{loading:a,visible:I,users:h,handleCancel:function(){return A(!1)},assignUser:F}),o.default.createElement("div",{className:p.default.btns},o.default.createElement("button",{type:"button",disabled:!w.length,onClick:M},a["alertCenter/fetchAssignUsers"]?o.default.createElement(d.default,{type:"loading",className:p.default["btn-icon"]}):o.default.createElement(E.default,{type:"iconicon_assign-copy",className:p.default["btn-icon"]}),o.default.createElement(f.FormattedMessage,{id:"alert-center.assign"}))),T&&o.default.createElement(T,{dataSource:v,loading:a,getSelectedRows:function(e){return S(e)},renderAction:function(){return o.default.createElement(u.default.Column,{width:"15%",align:"center",dataIndex:"action",title:o.default.createElement(f.FormattedMessage,{id:"alert-center.actions"}),render:function(e,t){return o.default.createElement(s.default,{disabled:!t.USER_NAME,to:"/homepage/Approval-Process-Center?taskCode=".concat(t.TASK_ID),title:(0,f.formatMessage)({id:"alert-center.enter-workflow"})},o.default.createElement(f.FormattedMessage,{id:"alert-center.enter-workflow"}))}})}}))}var I=(0,m.connect)(function(e){var t=e.loading,a=e.alertCenter,l=a.users,n=a.alertItems;return{users:l,alertItems:n,loading:t.effects}})(C);t.default=I},xxPW:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=l(a("q1tI")),r=a("LLXN"),u=l(a("BN5G")),d=l(a("H7wn"));function c(e){var t=e.attachments,a=e.onRemove,l=e.onRemoveAll;return n.default.createElement("div",{className:d.default["up-attachments"]},n.default.createElement("div",{className:d.default["file-desc"]},n.default.createElement("span",null,(0,r.formatMessage)({id:"alert-center.attachment-des"},{count:t.length,size:(t.reduce(function(e,t){return e+t.size},0)/1024).toFixed(2)})),n.default.createElement("span",{onClick:l},(0,r.formatMessage)({id:"alert-center.delete-all"}))),n.default.createElement("ul",null,t.map(function(e){return n.default.createElement("li",{key:e.uid},n.default.createElement("span",{className:d.default["icon-btns"]},n.default.createElement("a",{download:!0,href:"/download?filePath=".concat(e.url)},n.default.createElement(u.default,{type:"icondownload",className:d.default.icon})),n.default.createElement(u.default,{type:"icondelete",className:d.default.icon,onClick:function(){return a(e)}})),n.default.createElement("span",null,e.name))})))}},zhlU:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AlertTask",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"AlertDes",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"AlertLog",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"AlertPhase",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"AlertAttachments",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"AlertComment",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"AlertRichText",{enumerable:!0,get:function(){return o.default}});var n=l(a("ugel")),r=l(a("8Qir")),u=l(a("HItR")),d=l(a("JKiI")),c=l(a("xxPW")),i=l(a("H0HP")),o=l(a("AfXI"))}}]);