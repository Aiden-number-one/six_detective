(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[56],{"D+Sn":function(e,a,t){e.exports={clearfix:"antd-pro-pages-system-parameters-system-parameters-clearfix",fl:"antd-pro-pages-system-parameters-system-parameters-fl",fr:"antd-pro-pages-system-parameters-system-parameters-fr","login-name":"antd-pro-pages-system-parameters-system-parameters-login-name",header:"antd-pro-pages-system-parameters-system-parameters-header",inputValue:"antd-pro-pages-system-parameters-system-parameters-inputValue",formWrap:"antd-pro-pages-system-parameters-system-parameters-formWrap",operation:"antd-pro-pages-system-parameters-system-parameters-operation"}},bvBD:function(e,a,t){"use strict";var s=t("g09b"),r=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("g9YV");var m=s(t("wCAj"));t("2qtc");var l=s(t("kLXV"));t("y8nQ");var n=s(t("Vl3Y"));t("5NDa");var u=s(t("5rEg")),p=s(t("2Taf")),i=s(t("vZ4D")),d=s(t("l4Ni")),o=s(t("ujKo")),f=s(t("MhPg"));t("OaEy");var c,y,g,P=s(t("2fM7")),h=r(t("q1tI")),S=t("Hx5s"),v=t("LLXN"),E=t("MuoO"),V=s(t("D+Sn")),M=s(t("2Dbc")),b=P.default.Option,T=function(e){function a(){return(0,p.default)(this,a),(0,d.default)(this,(0,o.default)(a).apply(this,arguments))}return(0,f.default)(a,e),(0,i.default)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props.paramObj;return h.default.createElement(h.Fragment,null,h.default.createElement("div",null,h.default.createElement(n.default,{layout:"inline",className:V.default.formWrap},h.default.createElement(n.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.systemParameters.parameterType"})},e("paramType",{rules:[{required:!0,message:"Please input your paramType"}],initialValue:a.paramType})(h.default.createElement(u.default,{className:V.default.inputValue}))),h.default.createElement(n.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.systemParameters.parameterKey"})},e("paramId",{rules:[{required:!0,message:"Please input your paramId"}],initialValue:a.paramId})(h.default.createElement(u.default,{className:V.default.inputValue}))),h.default.createElement(n.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.systemParameters.parameterValue"})},e("paramValue",{rules:[{type:"email",message:"The input is not valid paramValue!"},{required:!0,message:"Please input your paramValue"}],initialValue:a.paramValue})(h.default.createElement(u.default,{className:V.default.inputValue}))),h.default.createElement(n.default.Item,{label:"\u662f\u5426\u5f00\u542f\uff1a"},e("paramStatus",{rules:[{required:!0,message:"Please input your paramStatus"}],initialValue:a.paramStatus})(h.default.createElement(P.default,{defaultValue:"0",style:{width:300},onChange:this.handleChange,placeholder:"Please select",className:V.default.inputValue},h.default.createElement(b,{value:"0"},"\u505c\u7528"),h.default.createElement(b,{value:"1"},"\u542f\u7528")))),h.default.createElement(n.default.Item,{label:(0,v.formatMessage)({id:"app.common.note"})},e("comments",{rules:[{required:!0,message:"Please input your comments"}],initialValue:a.comments})(h.default.createElement(u.default,{className:V.default.inputValue}))))))}}]),a}(h.Component),I=n.default.create({})(T),C=(c=(0,E.connect)(function(e){var a=e.systemParams,t=e.loading;return{loading:t.effects,getSystemParamsListData:a.data,getParamsTypeData:a.getParamsData}}),c((g=function(e){function a(){var e;return(0,p.default)(this,a),e=(0,d.default)(this,(0,o.default)(a).call(this)),e.updateSystemParamsComfirm=function(){e.modifyFormRef.current.validateFields(function(a,t){var s=e.props.dispatch,r={comments:t.comments,paramId:t.paramId,paramStatus:t.paramStatus,paramType:t.paramType,paramValue:t.paramValue};s({type:"systemParams/systemParamsUpdate",payload:r,callback:function(){e.querySystemParams()}})}),e.setState({updateSystemParamsVisible:!1})},e.updateSystemParamsCancel=function(){e.setState({updateSystemParamsVisible:!1})},e.handleChange=function(){},e.updateSystemParams=function(a,t){var s={comments:t.comments,paramId:t.paramId,paramStatus:t.paramStatus,paramType:t.paramType,paramValue:t.paramValue};e.setState({updateSystemParamsVisible:!0,paramObj:s})},e.querySystemParams=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.props.dispatch,s={paramType:a,pageNumber:e.state.pageNum,pageSize:e.state.pageSize};t({type:"systemParams/getSystemParamsList",payload:s})},e.getParamsTypeList=function(){var a=e.props.dispatch;a({type:"systemParams/getParamsType",payload:{}})},e.onChangeOption=function(a){e.querySystemParams(a)},e.pageChange=function(a){e.setState({pageNum:a.current,pageSize:a.pageSize},function(){e.querySystemParams()})},e.modifyFormRef=h.default.createRef(),e.state={updateSystemParamsVisible:!1,pageNum:"1",pageSize:"10",columns:[{title:(0,v.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index"},{title:(0,v.formatMessage)({id:"systemManagement.systemParameters.parameterType"}),dataIndex:"paramType",key:"paramType"},{title:(0,v.formatMessage)({id:"systemManagement.systemParameters.parameterKey"}),dataIndex:"paramId",key:"paramId"},{title:(0,v.formatMessage)({id:"systemManagement.systemParameters.parameterValue"}),dataIndex:"paramValue",key:"paramValue"},{title:(0,v.formatMessage)({id:"app.common.note"}),dataIndex:"comments",key:"comments"},{title:(0,v.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",key:"operation",render:function(a,t,s,r){return h.default.createElement("span",{className:V.default.operation},h.default.createElement("a",{href:"#",onClick:function(){e.updateSystemParams(a,t,s,r)}},(0,v.formatMessage)({id:"app.common.modify"})))}}],getSystemParamsList:[],ParamsTypeData:{},paramObj:{}},e}return(0,f.default)(a,e),(0,i.default)(a,[{key:"componentDidMount",value:function(){this.querySystemParams(),this.getParamsTypeList()}},{key:"render",value:function(){var e=this,a=this.props,t=a.loading,s=a.getParamsTypeData,r=a.getSystemParamsListData,n=this.state,u=n.ParamsTypeData,p=n.getSystemParamsList,i=this.state.pageSize;u=s,p=r.items;var d=r&&r.totalCount;return p&&p.forEach(function(a,t){a.index=(e.state.pageNum-1)*i+t+1}),h.default.createElement(S.PageHeaderWrapper,null,h.default.createElement(h.Fragment,null,h.default.createElement("div",null,h.default.createElement("div",null,h.default.createElement("div",null,h.default.createElement("span",null,(0,v.formatMessage)({id:"systemManagement.systemParameters.parameterType"}),"\uff1a"),h.default.createElement(P.default,{defaultValue:"\u8bf7\u9009\u62e9",onChange:this.onChangeOption,style:{width:"220px"}},h.default.createElement(b,{value:""},"\u8bf7\u9009\u62e9"),u[0]&&u[0].data.map(function(e){return h.default.createElement(b,{value:e},e)}))),h.default.createElement(l.default,{title:"\u4fee\u6539\u7cfb\u7edf\u53c2\u6570",visible:this.state.updateSystemParamsVisible,onOk:this.updateSystemParamsComfirm,onCancel:this.updateSystemParamsCancel,cancelText:(0,v.formatMessage)({id:"app.common.cancel"}),okText:(0,v.formatMessage)({id:"app.common.save"})},h.default.createElement(I,{ref:this.modifyFormRef,paramObj:this.state.paramObj}))),h.default.createElement("div",null,h.default.createElement(M.default,{showEdit:!1,showSelect:!1}),h.default.createElement(m.default,{loading:t["systemParams/getSystemParamsList"],dataSource:p,columns:this.state.columns,pagination:{total:d,pageSize:i},onChange:this.pageChange})))))}}]),a}(h.Component),y=g))||y),k=C;a.default=k}}]);