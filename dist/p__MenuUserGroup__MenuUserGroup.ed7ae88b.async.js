(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36],{"0fil":function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var l=r(a("wCAj"));a("+L6B");var u=r(a("2/Rp"));a("2qtc");var o=r(a("kLXV"));a("bbsP");var s=r(a("/wGt")),d=r(a("2Taf")),i=r(a("vZ4D")),c=r(a("l4Ni")),p=r(a("ujKo")),f=r(a("MhPg"));a("y8nQ");var m,g,h,v=r(a("Vl3Y")),y=n(a("q1tI")),M=a("Hx5s"),b=a("LLXN"),N=a("MuoO"),E=r(a("Ae4O")),C=r(a("n2Oh")),k=r(a("dNqO")),U=v.default.create({})(C.default),I=(m=(0,N.connect)(function(e){var t=e.menuUserGroup,a=e.loading;return{loading:a.effects,menuUserGroup:t.data,updateGroup:t.updateUserGroup}}),m((h=function(e){function t(){var e;return(0,d.default)(this,t),e=(0,c.default)(this,(0,p.default)(t).call(this)),e.searchForm=y.default.createRef(),e.newUser=function(){e.setState({modifyVisible:!0,groupTitle:"New User Group",updateFlag:!1})},e.onClose=function(){e.setState({modifyVisible:!1})},e.onSave=function(){e.queryUserList(),e.setState({modifyVisible:!1})},e.updateUser=function(t,a){console.log("res, obj=",t,a);var r={roleId:a.roleId,roleName:a.roleName,roleDesc:a.roleDesc};e.setState({modifyVisible:!0,updateFlag:!0,groupTitle:"Modify User Group",groupMenuInfo:r})},e.deleteUser=function(t,a){console.log("delete====",a);var r={roleId:a.roleId};e.setState({deleteVisible:!0,groupMenuInfo:r})},e.deleteConfirm=function(){var t=e.props.dispatch,a=e.state.groupMenuInfo,r={operType:"deleteById",roleId:a.roleId};t({type:"menuUserGroup/updateUserGroup",payload:r,callback:function(){e.queryUserList(),e.setState({deleteVisible:!1})}})},e.deleteCancel=function(){e.setState({deleteVisible:!1})},e.queryLog=function(){e.searchForm.current.validateFields(function(t,a){console.log("values===",a);var r={roleName:a.roleName,roleDesc:a.roleDesc};e.queryUserList(r)})},e.pageChange=function(t){var a={pageNumber:t.current.toString(),pageSize:t.pageSize.toString()};e.setState({page:a},function(){e.queryUserList()})},e.queryUserList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{roleName:void 0,roleDesc:void 0},a=e.props.dispatch,r=t.roleName,n=t.roleDesc,l={roleName:r,roleDesc:n,pageNumber:e.state.page.pageNumber,pageSize:e.state.page.pageSize};a({type:"menuUserGroup/getMenuUserGroup",payload:l})},e.state={modifyVisible:!1,deleteVisible:!1,updateFlag:!1,groupMenuInfo:{},columns:[{title:(0,b.formatMessage)({id:"systemManagement.userMaintenance.name"}),dataIndex:"roleName",key:"roleName"},{title:(0,b.formatMessage)({id:"systemManagement.userGroup.remark"}),dataIndex:"roleDesc",key:"roleDesc"},{title:(0,b.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",key:"operation",render:function(t,a){return y.default.createElement("span",{className:E.default.operation},y.default.createElement("a",{href:"#",onClick:function(){return e.updateUser(t,a)}},(0,b.formatMessage)({id:"app.common.modify"})),y.default.createElement("a",{href:"#",onClick:function(){return e.deleteUser(t,a)}},(0,b.formatMessage)({id:"app.common.delete"})))}}],page:{pageNumber:"1",pageSize:"10"}},e}return(0,f.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.queryUserList()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.menuUserGroup,r=this.state,n=r.groupTitle,d=r.deleteVisible,i=r.groupMenuInfo,c=r.updateFlag;console.log("menuUserGroup=",a);var p=this.state,f=p.columns,m=p.page,g=p.modifyVisible;return y.default.createElement(M.PageHeaderWrapper,null,y.default.createElement(U,{search:this.queryLog,ref:this.searchForm}),y.default.createElement(s.default,{closable:!1,title:n,width:700,onClose:this.onClose,visible:g},g&&y.default.createElement(k.default,{onCancel:this.onClose,onSave:this.onSave,groupMenuInfo:i,updateFlag:c})),y.default.createElement(o.default,{title:"CONFIRM",visible:d,onOk:this.deleteConfirm,onCancel:this.deleteCancel,cancelText:(0,b.formatMessage)({id:"app.common.cancel"}),okText:(0,b.formatMessage)({id:"app.common.save"})},y.default.createElement("span",null,"Are you sure you want to delete this form?")),y.default.createElement("div",{className:E.default.content},y.default.createElement("div",{className:E.default.tableTop},y.default.createElement(u.default,{onClick:this.newUser,type:"primary",className:"btn_usual"},"+ New User Group")),y.default.createElement(l.default,{loading:t["menuUserGroup/getMenuUserGroup"],pagination:{total:a.totalCount,pageSize:m.pageSize},onChange:this.pageChange,dataSource:a.items,columns:f})))}}]),t}(y.Component),g=h))||g),G=I;t.default=G},Ae4O:function(e,t,a){e.exports={operation:"antd-pro-pages-menu-user-group-menu-user-group-operation",inputValue:"antd-pro-pages-menu-user-group-menu-user-group-inputValue",content:"antd-pro-pages-menu-user-group-menu-user-group-content",tableTop:"antd-pro-pages-menu-user-group-menu-user-group-tableTop",title:"antd-pro-pages-menu-user-group-menu-user-group-title",userGroup:"antd-pro-pages-menu-user-group-menu-user-group-userGroup",groupTitle:"antd-pro-pages-menu-user-group-menu-user-group-groupTitle",treeWraper:"antd-pro-pages-menu-user-group-menu-user-group-treeWraper"}},dNqO:function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var l=r(a("BMrR"));a("jCWc");var u=r(a("kPKH"));a("+L6B");var o=r(a("2/Rp"));a("miYZ");var s=r(a("tsqr")),d=r(a("rlhR"));a("y8nQ");var i=r(a("Vl3Y")),c=r(a("2Taf")),p=r(a("vZ4D")),f=r(a("l4Ni")),m=r(a("ujKo")),g=r(a("MhPg"));a("5NDa");var h,v,y,M=r(a("5rEg")),b=n(a("q1tI")),N=a("LLXN"),E=a("MuoO"),C=r(a("Ae4O")),k=r(a("HV4n")),U=M.default.TextArea,I=function(e){function t(){var e;return(0,c.default)(this,t),e=(0,f.default)(this,(0,m.default)(t).call(this)),e.state={},e}return(0,g.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.groupMenuInfo;return b.default.createElement(b.Fragment,null,b.default.createElement(i.default,null,b.default.createElement(i.default.Item,{label:(0,N.formatMessage)({id:"systemManagement.userMaintenance.name"}),labelCol:{span:4},wrapperCol:{span:8}},e("roleName",{rules:[{required:!0,message:"Please input Name of Menu User Group"}],initialValue:t&&t.roleName})(b.default.createElement(M.default,{placeholder:"Please input"}))),b.default.createElement(i.default.Item,{label:(0,N.formatMessage)({id:"systemManagement.userGroup.remark"}),labelCol:{span:4},wrapperCol:{span:8}},e("roleDesc",{rules:[{required:!0,message:"Please input Remark of Menu User Group"}],initialValue:t&&t.roleDesc})(b.default.createElement(U,{rows:4,placeholder:"Please input"})))))}}]),t}(b.Component),G=i.default.create()(I),D=(h=(0,E.connect)(function(e){var t=e.menuUserGroup,a=e.loading;return{loading:a.effects,userGroup:t.saveUser,updateGroup:t.updateData}}),h((y=function(e){function t(e){var a;return(0,c.default)(this,t),a=(0,f.default)(this,(0,m.default)(t).call(this,e)),a.newUserRef=b.default.createRef(),a.onCancel=function(){a.props.onCancel()},a.onSave=function(){var e=a.state.selectedKeys;console.log("selectedKeys============",e);var t=a.props,r=t.dispatch,n=t.updateFlag;a.newUserRef.current.validateFields(function(t,l){if(e<=0)s.default.warning("Please checked Authorizing access to menus");else if(console.log("updateFlag===",n),n){var u=a.props.groupMenuInfo,o={operType:"modifyById",roleId:u.roleId,roleName:l.roleName,roleDesc:l.roleDesc,menuIds:e.join(",")};r({type:"menuUserGroup/updateUserGroup",payload:o,callback:function(){a.props.onSave()}})}else{var d={roleName:l.roleName,roleDesc:l.roleDesc,menuIds:e.join(",")};r({type:"menuUserGroup/newUserGroup",payload:d,callback:function(){s.default.success("success"),a.props.onSave()}})}})},a.getMenuGrops=function(){var e=a.props,t=e.dispatch,r=e.groupMenuInfo,n=(0,d.default)(a),l={operType:"queryById",roleId:r.roleId};t({type:"menuUserGroup/updateUserGroup",payload:l,callback:function(){var e=a.props.updateGroup.map(function(e){return e.menuId});n.setState({selectedKeys:e})}})},a.onChangeMenuUserGroup=function(e){console.log("checkedValues=",e)},a.onChangeAlertUserGroup=function(e){console.log("checkedValues=",e)},a.onSelect=function(e){console.log("value===",e)},a.onCheck=function(e){console.log("selectedKeyss==selectedKeyssselectedKeyssselectedKeyss=",e);var t=e;a.setState({selectedKeys:t})},a.state={selectedKeys:[]},a}return(0,g.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.updateFlag;e&&this.getMenuGrops()}},{key:"render",value:function(){var e=this.props,t=e.menuData,a=e.groupMenuInfo,r=this.state.selectedKeys;return console.log("defaultCheckedKeys111111====",r),console.log("menuData=",t),b.default.createElement(b.Fragment,null,b.default.createElement(G,{ref:this.newUserRef,groupMenuInfo:a}),b.default.createElement("ul",{type:"flex",className:C.default.userGroup},b.default.createElement("li",null,b.default.createElement("h3",{className:C.default.groupTitle},"Authorizing access to menus"),b.default.createElement("div",{className:C.default.treeWraper},b.default.createElement(k.default,{all:!0,checkable:!0,onCheck:this.onCheck,treeData:t,checkedKeys:r,treeKey:{currentKey:"menuid",currentName:"menuname",parentKey:"parentmenuid"},onSelect:this.onSelect})))),b.default.createElement(l.default,{type:"flex",justify:"end",style:{position:"absolute",right:0,bottom:0,width:"100%",padding:"10px 16px",background:"#fff",textAlign:"right"}},b.default.createElement(u.default,null,b.default.createElement(o.default,{onClick:this.onCancel},"CANCEL"),b.default.createElement(o.default,{type:"primary",onClick:this.onSave},"SAVE"))))}}]),t}(b.Component),v=y))||v),S=function(e){var t=e.menu;return{menuData:t.menuData}},w=(0,E.connect)(S)(D);t.default=w},n2Oh:function(e,t,a){"use strict";var r=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var l=n(a("2/Rp"));a("14J3");var u=n(a("BMrR"));a("jCWc");var o=n(a("kPKH"));a("y8nQ");var s=n(a("Vl3Y"));a("5NDa");var d=n(a("5rEg")),i=n(a("2Taf")),c=n(a("vZ4D")),p=n(a("l4Ni")),f=n(a("ujKo")),m=n(a("MhPg")),g=r(a("q1tI")),h=a("LLXN"),v=n(a("Ae4O")),y=function(e){function t(){var e,a;(0,i.default)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return a=(0,p.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),a.state={},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.search;return g.default.createElement(s.default,{className:"ant-advanced-search-form"},g.default.createElement(u.default,{gutter:{xs:24,sm:48,md:144,lg:48,xl:96}},g.default.createElement(o.default,{xs:12,sm:12,lg:8},g.default.createElement(s.default.Item,{label:(0,h.formatMessage)({id:"systemManagement.userMaintenance.name"})},e("roleName",{})(g.default.createElement(d.default,{className:v.default.inputvalue,placeholder:"Please Input ".concat((0,h.formatMessage)({id:"systemManagement.userMaintenance.name"}))})))),g.default.createElement(o.default,{xs:12,sm:12,lg:8},g.default.createElement(s.default.Item,{label:(0,h.formatMessage)({id:"systemManagement.userGroup.remark"})},e("roleDesc",{})(g.default.createElement(d.default,{className:v.default.inputvalue,placeholder:"Please Input ".concat((0,h.formatMessage)({id:"systemManagement.userGroup.remark"}))}))))),g.default.createElement("div",{className:"btnArea"},g.default.createElement(l.default,{type:"primary",onClick:t},(0,h.formatMessage)({id:"app.common.search"}))))}}]),t}(g.Component);t.default=y}}]);