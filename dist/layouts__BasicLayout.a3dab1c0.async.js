(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"/Lk6":function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var n=l(a("2/Rp"));a("5NDa");var o=l(a("5rEg")),d=l(a("2Taf")),u=l(a("vZ4D")),i=l(a("l4Ni")),s=l(a("ujKo")),c=l(a("MhPg"));a("y8nQ");var f,p,m,g,v=l(a("Vl3Y")),h=r(a("q1tI")),y=(l(a("17x9")),f=v.default.create({}),f((g=m=function(e){function t(){var e,a;(0,d.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),a.handleSubmit=function(e){e.preventDefault();var t=a.props,l=t.handleSubmit,r=t.form;r.validateFieldsAndScroll(function(e,t){e||(l(t),r.resetFields())})},a}return(0,c.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.nodeTree,l=t.toggleDrawer,r=t.clearNodeTree,d=t.operateType;return h.default.createElement(v.default,{onSubmit:this.handleSubmit},"DELETE"===d?"Please Confirm to delete":h.default.createElement(v.default.Item,{label:"Classify Name",labelCol:{span:8},wrapperCol:{span:16}},e("className",{rules:[{required:!0}],initialValue:a&&a.className})(h.default.createElement(o.default,null))),h.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},h.default.createElement(n.default,{onClick:function(){l("operateTree"),r()},style:{marginRight:8}},"Cancel"),h.default.createElement(n.default,{htmlType:"submit",type:"primary"},"Submit")))}}]),t}(h.PureComponent),m.defaultProps={nodeTree:{},handleSubmit:function(){},toggleDrawer:function(){},clearNodeTree:function(){}},p=g))||p);t.default=y},"/PE8":function(e,t,a){e.exports={"bottom-btns":"antd-pro-pages-data-import-log-index-bottom-btns",container:"antd-pro-pages-data-import-log-index-container",form:"antd-pro-pages-data-import-log-index-form","list-wrap":"antd-pro-pages-data-import-log-index-list-wrap","no-margin":"antd-pro-pages-data-import-log-index-no-margin","table-title":"antd-pro-pages-data-import-log-index-table-title","btn-group":"antd-pro-pages-data-import-log-index-btn-group","modal-form":"antd-pro-pages-data-import-log-index-modal-form"}},"0ZA8":function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("d6i3"));a("14J3");var o=r(a("BMrR"));a("+L6B");var d=r(a("2/Rp")),u=r(a("1l/V")),i=r(a("p0pE")),s=r(a("qIgq")),c=l(a("q1tI")),f=a("MuoO"),p=a("LLXN"),m=a("Hx5s"),g=r(a("YFOJ")),v=r(a("nUXP")),h=r(a("u3cq")),y=r(a("/PE8"));function b(e){var t=e.dispatch,a=e.loading,l=e.logs,r=e.total,f=(0,c.useState)(!1),b=(0,s.default)(f,2),E=b[0],w=b[1],D=(0,c.useState)({}),C=(0,s.default)(D,2),S=C[0],N=C[1];function x(e){N(e),t({type:"market/reload",payload:e})}function M(e,a){t({type:"lop/reload",payload:(0,i.default)({page:e,pageSize:a},S)})}function k(e){return I.apply(this,arguments)}function I(){return I=(0,u.default)(n.default.mark(function e(a){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"market/importByManual",payload:a});case 2:w(!1);case 3:case"end":return e.stop()}},e)})),I.apply(this,arguments)}return(0,c.useEffect)(function(){t({type:"market/fetch"})},[]),c.default.createElement(m.PageHeaderWrapper,null,c.default.createElement("div",{className:y.default.container},c.default.createElement(g.default,{handleSearch:x}),c.default.createElement(v.default,{visible:E,handleCancel:function(){return w(!1)},handleUpload:k}),c.default.createElement("div",{className:y.default["list-wrap"]},c.default.createElement(o.default,{className:y.default["btn-group"]},c.default.createElement(d.default,{type:"primary",onClick:function(){return t({type:"market/importByAuto"})},loading:a["lop/importByAuto"]},c.default.createElement(p.FormattedMessage,{id:"data-import.lop.auto-import"})),c.default.createElement(d.default,{type:"primary",className:y.default["no-margin"],onClick:function(){return w(!0)}},c.default.createElement(p.FormattedMessage,{id:"data-import.lop.manual-import"}))),c.default.createElement(h.default,{dataSource:l,total:r,loading:a["lop/fetch"],handlePageChange:M,handlePageSizeChange:M}))))}var E=(0,f.connect)(function(e){var t=e.loading,a=e.market,l=a.logs,r=a.page,n=a.total;return{loading:t.effects,logs:l,page:r,total:n}})(b);t.default=E},"2drZ":function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=l(a("kLXV"));a("bbsP");var o=l(a("/wGt"));a("DZo9");var d=l(a("8z0m"));a("+L6B");var u=l(a("2/Rp"));a("Pwec");var i=l(a("CtXQ"));a("miYZ");var s=l(a("tsqr"));a("y8nQ");var c=l(a("Vl3Y")),f=l(a("2Taf")),p=l(a("vZ4D")),m=l(a("l4Ni")),g=l(a("ujKo")),v=l(a("MhPg"));a("5NDa");var h,y,b,E=l(a("5rEg")),w=r(a("q1tI")),D=a("Hx5s"),C=a("MuoO"),S=a("LLXN"),N=l(a("YOzA")),x=l(a("U+i4")),M=E.default.TextArea,k=function(e){function t(){return(0,f.default)(this,t),(0,m.default)(this,(0,g.default)(t).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return w.default.createElement(c.default,{onSubmit:this.handleSubmit},w.default.createElement(c.default.Item,{label:"Name",labelCol:{span:5},wrapperCol:{span:16}},e("name",{rules:[{required:!0,message:"Please input your name!"}]})(w.default.createElement(E.default,{placeholder:""}))),w.default.createElement(c.default.Item,{label:"Description:",labelCol:{span:5},wrapperCol:{span:16}},e("description",{rules:[{required:!0,message:"Please input your description!"}]})(w.default.createElement(M,{rows:4}))))}}]),t}(w.Component),I=c.default.create({})(k),P=(h=(0,C.connect)(function(e){var t=e.approvalDesign;return{modelList:t.data,chooseModelId:t.chooseModelId,modelImage:t.modelImage}}),h((b=function(e){function t(){var e,a;(0,f.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,m.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(r))),a.state={visible:!1,deleteVisible:!1},a.newFlowChartForm=w.default.createRef(),a.getModelList=function(e,t){var l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=a.props.dispatch;r({type:"approvalDesign/modelListDatas",payload:{pageNumber:e,pageSize:t},callback:function(e){return a.getModelImage(e)},callback2:l?a.goProcessPage:null})},a.getModelImage=function(e){var t=a.props.dispatch;t({type:"approvalDesign/modelImageDatas",payload:{modelId:e}})},a.createModel=function(e){var t=a.props.dispatch;t({type:"approvalDesign/createModel",payload:e,callback:function(e,t){return a.getModelList(e,t,!0)}})},a.goProcessPage=function(){var e=a.props.chooseModelId,t="/process/modeler.html?modelId=".concat(e);window.location.href=t},a.deleteModel=function(e){var t=a.props.dispatch;t({type:"approvalDesign/deleteModel",payload:e,callback:function(e,t){return a.getModelList(e,t)}})},a.deployModel=function(){var e=a.props,t=e.dispatch,l=e.chooseModelId;t({type:"approvalDesign/deployModel",payload:{modelId:l}})},a.importModel=function(e){var t=a.props.dispatch;t({type:"approvalDesign/importModel",payload:e,callback:function(e,t){return a.getModelList(e,t)}})},a.deleteOpenModel=function(){a.setState({deleteVisible:!0})},a.handleDeleteOk=function(){var e=a.props.chooseModelId,t={modelId:e};a.deleteModel(t),a.setState({deleteVisible:!1})},a.handleCloseModelCancel=function(){a.setState({deleteVisible:!1})},a.importFileStatus=function(e){if("done"===e.file.status){var t=e.file.response.bcjson.items.relativeUrl;a.importModel({filename:t})}else"error"===e.file.status&&s.default.error("".concat(e.file.name," file upload failed."))},a.exportModel=function(){var e=a.props,t=e.dispatch,l=e.chooseModelId;t({type:"approvalDesign/exportModel",payload:{modelId:l,type:"xml"},callback:function(e){return a.downloadHerf(e)}})},a.downloadHerf=function(e){var t=document.createElement("a");t.href="/download?filePath=".concat(e),t.download=!0,t.click()},a.uploadFile=function(e){var t=a.props.dispatch;t({type:"approvalDesign/uploadFile",payload:{param:e}})},a.chooseTab=function(e){if(e!==a.props.chooseModelId){var t=a.props.dispatch;t({type:"approvalDesign/changeModelId",payload:{chooseModelId:e}}),a.getModelImage(e)}},a.AddNewFlowChart=function(){a.newFlowChartForm.current.validateFields(function(e,t){e||(console.log("Received values of form: ",t),a.createModel(t),a.setState({visible:!1}))})},a.showDrawer=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.getModelList("1","10")}},{key:"render",value:function(){var e=this,t=this.props,a=t.modelList,l=t.chooseModelId,r=t.modelImage,s=this.state.deleteVisible;return w.default.createElement(w.Fragment,null,w.default.createElement(D.PageHeaderWrapper,null,w.default.createElement("div",{className:x.default.approvalDesign},w.default.createElement("div",{className:x.default.contentBox},w.default.createElement("div",{className:x.default.leftBox},w.default.createElement(i.default,{type:"file-add",onClick:this.showDrawer,style:{marginRight:"15px",marginTop:"8px",float:"right"}}),w.default.createElement(N.default,{listData:a,chooseId:l,currentId:"id",chooseTab:this.chooseTab,title:"Flow Chart List"})),w.default.createElement("div",{className:x.default.rightBox},w.default.createElement("div",null,w.default.createElement(u.default,{className:"btn_usual",onClick:this.deployModel,type:"primary",icon:"deployment-unit"},(0,S.formatMessage)({id:"systemManagement.flowDesign.flowRelease"})),w.default.createElement(u.default,{className:"btn_usual",onClick:this.goProcessPage,type:"primary",icon:"edit"},(0,S.formatMessage)({id:"systemManagement.flowDesign.flowModify"})),w.default.createElement(u.default,{className:"btn_usual",type:"primary",icon:"delete",onClick:this.deleteOpenModel},(0,S.formatMessage)({id:"systemManagement.flowDesign.flowDelete"})),w.default.createElement(u.default,{className:"btn_usual",onClick:this.exportModel,type:"primary",icon:"export"},(0,S.formatMessage)({id:"systemManagement.flowDesign.flowExport"})),w.default.createElement(d.default,{onChange:function(t){return e.importFileStatus(t)},action:"/upload"},w.default.createElement(u.default,{className:"btn_usual",type:"primary",icon:"import"},(0,S.formatMessage)({id:"systemManagement.flowDesign.flowImport"})))),w.default.createElement("div",null,r?w.default.createElement("img",{src:r,alt:""}):null))),w.default.createElement(o.default,{title:"New Flow Chart",width:500,onClose:this.handleCancel,visible:this.state.visible,bodyStyle:{paddingBottom:80}},w.default.createElement(I,{ref:this.newFlowChartForm}),w.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},w.default.createElement(u.default,{onClick:this.AddNewFlowChart,type:"primary"},"Save"),w.default.createElement(u.default,{onClick:this.handleCancel,style:{marginRight:12}},"Cancel"))),w.default.createElement(n.default,{title:"delete",visible:s,onOk:this.handleDeleteOk,onCancel:this.handleCloseModelCancel},w.default.createElement("p",null,"Are you sure delete this model?")))))}}]),t}(w.PureComponent),y=b))||y),T=P;t.default=T},"2n1B":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var r=l(a("CtXQ"));a("lUTK");var n=l(a("BvKs")),o=a("Y2fQ"),d=l(a("q1tI")),u=l(a("TSYQ")),i=l(a("6Wvd")),s=l(a("Kkfi")),c=function(e){var t=e.className,a=(0,o.getLocale)(),l=function(e){var t=e.key;return(0,o.setLocale)(t,!1)},c=["zh-CN","zh-TW","en-US","pt-BR"],f={"zh-CN":"\u7b80\u4f53\u4e2d\u6587","zh-TW":"\u7e41\u4f53\u4e2d\u6587","en-US":"English","pt-BR":"Portugu\xeas"},p={"zh-CN":"\ud83c\udde8\ud83c\uddf3","zh-TW":"\ud83c\udded\ud83c\uddf0","en-US":"\ud83c\uddec\ud83c\udde7","pt-BR":"\ud83c\udde7\ud83c\uddf7"},m=d.default.createElement(n.default,{className:s.default.menu,selectedKeys:[a],onClick:l},c.map(function(e){return d.default.createElement(n.default.Item,{key:e},d.default.createElement("span",{role:"img","aria-label":f[e]},p[e])," ",f[e])}));return d.default.createElement(i.default,{overlay:m,placement:"bottomRight"},d.default.createElement("span",{className:(0,u.default)(s.default.dropDown,t)},d.default.createElement(r.default,{type:"global",title:(0,o.formatMessage)({id:"navBar.lang"})})))},f=c;t.default=f},"57a1":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("q1tI")),n=a("MuoO"),o=l(a("kaFD")),d=l(a("2n1B")),u=l(a("h3zL")),i=function(e){var t=e.theme,a=e.layout,l=u.default.right;return"dark"===t&&"topmenu"===a&&(l="".concat(u.default.right,"  ").concat(u.default.dark)),r.default.createElement("div",{className:l},r.default.createElement(o.default,null),r.default.createElement(d.default,{className:u.default.action}))},s=(0,n.connect)(function(e){var t=e.settings;return{theme:t.navTheme,layout:t.layout}})(i);t.default=s},"6Wvd":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("qVdP");var r=l(a("jsC+")),n=l(a("jehZ")),o=l(a("Y/ft")),d=l(a("q1tI")),u=l(a("TSYQ")),i=l(a("QyDn")),s=function(e){var t=e.overlayClassName,a=(0,o.default)(e,["overlayClassName"]);return d.default.createElement(r.default,(0,n.default)({overlayClassName:(0,u.default)(i.default.container,t)},a))},c=s;t.default=c},"8Br5":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.today=t.yesterday=t.timestampFormat=t.timeFormat=t.dateFormat=t.SUBMISSION_REPORT=t.PROCESSING_STATUS=void 0;var r=l(a("wd/R")),n=["wait for validation","failed validation","validated","processing","failed processing","processed","canceled"];t.PROCESSING_STATUS=n;var o=["LOPBI","LOPTO","SOLBI","SOLTO","EXCESS POSITION LIMIT FOR ETF MARKET MAKERS REPORTING"];t.SUBMISSION_REPORT=o;var d="DD-MM-YYYY";t.dateFormat=d;var u="hh:mm:ss";t.timeFormat=u;var i="".concat(d," ").concat(u);t.timestampFormat=i;var s=(0,r.default)().subtract(1,"days");t.yesterday=s;var c=(0,r.default)();t.today=c},"97vF":function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=l(a("/wGt"));a("+L6B");var o=l(a("2/Rp"));a("sRBo");var d,u,i,s=l(a("kaz8")),c=l(a("d6i3")),f=l(a("1l/V")),p=l(a("2Taf")),m=l(a("vZ4D")),g=l(a("l4Ni")),v=l(a("ujKo")),h=l(a("MhPg")),y=r(a("q1tI")),b=a("Hx5s"),E=a("MuoO"),w=l(a("YOzA")),D=l(a("FS8v")),C=(d=(0,E.connect)(function(e){var t=e.ApprovalAuditor;return{deployedModelDatas:t.deployedModelDatas,processDefinitionId:t.processDefinitionId,groupList:t.GroupList,checkboxData:t.checkboxData,auditorData:t.auditorData}}),d((i=function(e){function t(){var e,a;(0,p.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,g.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(r))),a.state={visible:!1,stepId:"",checkedValues:[]},a.showDrawer=function(){var e=(0,f.default)(c.default.mark(function e(t,l){var r,n,o;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.getAuditorData(t,l);case 2:r=a.props.auditorData,n=r.length>0&&r[0].relateNo||[],o=n.length&&n.split(","),a.setState({visible:!0,stepId:l,checkedValues:o}),console.log("auditorData--\x3e",a.props.auditorData,a.state.checkedValues);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.saveConfig=function(e){var t=a.props.dispatch;t({type:"ApprovalAuditor/setAuditorConfigDatas",payload:e})},a.onSave=function(){var e=a.state,t=e.checkedValues,l=e.stepId,r=[];r.push({stepId:l,auditIds:t.join(),auditType:"0"});var n={processUuid:a.props.processDefinitionId,auditInfo:JSON.stringify(r)};console.log("param---\x3e",n),a.saveConfig(n),a.setState({visible:!1})},a.getQueryMenu=(0,f.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.props.dispatch,e.next=3,t({type:"ApprovalAuditor/getQueryMenuDatas",payload:{}});case 3:case"end":return e.stop()}},e)})),a.getAuditorData=function(){var e=(0,f.default)(c.default.mark(function e(t,l){var r;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.props.dispatch,e.next=3,r({type:"ApprovalAuditor/getAuditorlistDatas",payload:{processUuid:t,stepId:l}});case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.deployedModelList=function(e){var t=a.props.dispatch;t({type:"ApprovalAuditor/deployedModelListDatas",payload:e})},a.chooseTab=function(e){e!==a.props.processDefinitionId&&a.changeProcessDefinitionId(e)},a.changeProcessDefinitionId=function(e){var t=a.props.dispatch;t({type:"ApprovalAuditor/chooseProcessDefinitionId",payload:{processDefinitionId:e}})},a.onClose=function(){a.setState({visible:!1})},a.selectAuditor=function(e){a.setState({checkedValues:e})},a}return(0,h.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.deployedModelList({pageNumber:"1",pageSize:"10"}),this.getQueryMenu(),window.showAudit=function(t,a){e.showDrawer(t,a)}}},{key:"render",value:function(){var e=this.props,t=e.deployedModelDatas,a=e.processDefinitionId,l=e.checkboxData,r=this.state.checkedValues;console.log("checkboxData---",l,r);var d="/process/diagram-viewer/index.html?isClick=1&processDefinitionId=".concat(a);return y.default.createElement(y.Fragment,null,y.default.createElement(b.PageHeaderWrapper,null,y.default.createElement("div",{className:D.default.approvalAuditor},y.default.createElement("div",{className:D.default.contentBox},y.default.createElement("div",{className:D.default.leftBox},y.default.createElement(w.default,{listData:t,chooseId:a,currentId:"processDefinitionId",chooseTab:this.chooseTab,title:"List of deployed models"})),y.default.createElement("div",{className:D.default.rightBox},y.default.createElement("iframe",{title:"diagram",width:"100%",height:"300px",src:d})),y.default.createElement(n.default,{title:"Auditor",width:500,onClose:this.onClose,visible:this.state.visible,bodyStyle:{paddingBottom:80}},y.default.createElement(s.default.Group,{options:l,value:r,onChange:this.selectAuditor}),y.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},y.default.createElement(o.default,{onClick:this.onSave,type:"primary"},"Save"),y.default.createElement(o.default,{onClick:this.onClose,style:{marginRight:12}},"Cancel")))))))}}]),t}(y.PureComponent),u=i))||u),S=C;t.default=S},Awhp:function(e,t,a){"use strict";a.r(t);a("cIOH"),a("PQMj")},DLUj:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=l(a("/wGt"));a("g9YV");var o=l(a("wCAj"));a("+L6B");var d=l(a("2/Rp"));a("14J3");var u=l(a("BMrR"));a("jCWc");var i=l(a("kPKH"));a("y8nQ");var s=l(a("Vl3Y"));a("5NDa");var c=l(a("5rEg")),f=l(a("2Taf")),p=l(a("vZ4D")),m=l(a("l4Ni")),g=l(a("ujKo")),v=l(a("MhPg"));a("OaEy");var h,y,b,E=l(a("2fM7")),w=r(a("q1tI")),D=a("Hx5s"),C=a("MuoO"),S=a("LLXN"),N=l(a("cZ2p")),x=E.default.Option,M=function(e){function t(){return(0,f.default)(this,t),(0,m.default)(this,(0,g.default)(t).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.search;return w.default.createElement(s.default,{className:"ant-advanced-search-form"},w.default.createElement(u.default,{gutter:{xs:24,sm:48,md:144,lg:48,xl:96}},w.default.createElement(i.default,{xs:12,sm:12,lg:8},w.default.createElement(s.default.Item,{label:"Function ID",colon:!1},e("functionId")(w.default.createElement(c.default,null)))),w.default.createElement(i.default,{xs:12,sm:12,lg:8},w.default.createElement(s.default.Item,{label:"Flow Name",colon:!1},e("flowName")(w.default.createElement(c.default,null))))),w.default.createElement("div",{className:"btnArea"},w.default.createElement(d.default,{type:"primary",onClick:t},"Search")))}}]),t}(w.PureComponent),k=s.default.create({})(M),I=function(e){function t(){return(0,f.default)(this,t),(0,m.default)(this,(0,g.default)(t).apply(this,arguments))}return(0,v.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.flowNameList,l=t.configItem;return w.default.createElement(s.default,{onSubmit:this.handleSubmit},w.default.createElement(s.default.Item,{label:"Function Id",labelCol:{span:5},wrapperCol:{span:16}},e("functionId",{initialValue:l.functionId||""})(w.default.createElement(c.default,{disabled:!0}))),w.default.createElement(s.default.Item,{label:"Flow Name",labelCol:{span:5},wrapperCol:{span:16}},e("processUuid",{rules:[{required:!1}],initialValue:l.processUuid})(w.default.createElement(E.default,null,a.map(function(e){return w.default.createElement(x,{value:e.processDefinitionId},e.name)})))))}}]),t}(w.PureComponent),P=s.default.create({})(I),T=(h=(0,C.connect)(function(e){var t=e.approvalConfiguration,a=e.loading;return{loading:a.effects["approvalConfiguration/approvalConfigDatas"],approvalConfigList:t.data,deployedModelList:t.deployedModelDatas}}),h((b=function(e){function t(){var e,a;(0,f.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,m.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(r))),a.state={visible:!1,configItem:{}},a.newConfigurationForm=w.default.createRef(),a.newModifyForm=w.default.createRef(),a.configData=function(e){var t=a.props.dispatch;t({type:"approvalConfiguration/approvalConfigDatas",payload:e})},a.deployedModelList=function(e){var t=a.props.dispatch;t({type:"approvalConfiguration/deployedModelListDatas",payload:e})},a.handleSubmit=function(){a.newConfigurationForm.current.validateFields(function(e,t){a.configData({pageNumber:"1",pageSize:"10",functionId:t.functionId,flowName:t.flowName})})},a.showModel=function(e){a.setState({visible:!0,configItem:e})},a.handleCancel=function(){a.setState({visible:!1})},a.handelSave=function(){a.newModifyForm.current.validateFields(function(e,t){console.log("values--------\x3e",t),a.saveConfig(t),a.handleCancel()})},a.saveConfig=function(e){var t=a.props.dispatch;t({type:"approvalConfiguration/saveConfigDatas",payload:e,callback:function(e){return a.configData(e)}})},a}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.configData({pageNumber:"1",pageSize:"10"}),this.deployedModelList({pageNumber:"1",pageSize:"10"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.approvalConfigList,l=t.deployedModelList,r=this.state,u=r.configItem,i=r.visible,s=[{title:"Function ID",dataIndex:"functionId",align:"center"},{title:(0,S.formatMessage)({id:"systemManagement.flowConfig.flowName"}),dataIndex:"flowName",align:"center"},{title:(0,S.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",align:"center",render:function(t,a){return w.default.createElement("span",null,w.default.createElement("a",{href:"#",onClick:function(){return e.showModel(a)}},(0,S.formatMessage)({id:"app.common.modify"})))}}];return w.default.createElement(w.Fragment,null,w.default.createElement(D.PageHeaderWrapper,null,w.default.createElement("div",{className:N.default.approvalConfiguration},w.default.createElement(k,{search:this.handleSubmit,ref:this.newConfigurationForm}),w.default.createElement("div",{className:N.default.content},w.default.createElement(o.default,{columns:s,dataSource:a,className:N.default.tableBox,pagination:{size:"small"}})),w.default.createElement(n.default,{title:"Set Flow Name",width:500,onClose:this.handleCancel,visible:i,bodyStyle:{paddingBottom:80}},i&&w.default.createElement(w.default.Fragment,null,w.default.createElement(P,{flowNameList:l,configItem:u,ref:this.newModifyForm}),w.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},w.default.createElement(d.default,{onClick:this.handelSave,style:{marginRight:12},type:"primary"},"Save"),w.default.createElement(d.default,{onClick:this.handleCancel},"Cancel")))))))}}]),t}(w.PureComponent),y=b))||y),O=T;t.default=O},F4OS:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=r(a("/wGt"));a("+L6B");var o=r(a("2/Rp")),d=r(a("2Taf")),u=r(a("vZ4D")),i=r(a("l4Ni")),s=r(a("ujKo")),c=r(a("MhPg")),f=l(a("q1tI")),p=(r(a("17x9")),function(e){function t(){return(0,d.default)(this,t),(0,i.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleDrawer,l=t.clearRecord,r=t.visible;return f.default.createElement(n.default,{title:"Delete DataSet",width:350,visible:r,onClose:function(){l(),a("deleteDataSet")},destroyOnClose:!0},f.default.createElement("div",null,"Please Confirm to delete"),f.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},f.default.createElement(o.default,{onClick:function(){l(),a("deleteDataSet")},style:{marginRight:8}},"Cancel"),f.default.createElement(o.default,{onClick:function(){var t=e.props.handleDeleteDataSet;t()},type:"primary"},"Submit")))}}]),t}(f.PureComponent));t.default=p,p.defaultProps={handleDeleteDataSet:function(){},toggleDrawer:function(){},clearRecord:function(){}}},FS8v:function(e,t,a){e.exports={approvalAuditor:"antd-pro-pages-approval-approval-auditor-approval-auditor-approvalAuditor",contentBox:"antd-pro-pages-approval-approval-auditor-approval-auditor-contentBox",leftBox:"antd-pro-pages-approval-approval-auditor-approval-auditor-leftBox",rightBox:"antd-pro-pages-approval-approval-auditor-approval-auditor-rightBox"}},Kkfi:function(e,t,a){e.exports={dropDown:"antd-pro-components-select-lang-index-dropDown"}},KrTs:function(e,t,a){"use strict";a.r(t);var l=a("q1tI"),r=a("17x9"),n=a("MFj2"),o=a("BGR+"),d=a("TSYQ"),u=a.n(d),i=a("VCL8"),s=a("H84U");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},f.apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function g(e,t,a){return t&&m(e.prototype,t),a&&m(e,a),e}function v(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function w(e){return e?e.toString().split("").reverse().map(function(e){var t=Number(e);return isNaN(t)?e:t}):[]}function D(e){for(var t=[],a=0;a<30;a++){var r=e===a?"current":"";t.push(l["createElement"]("p",{key:a.toString(),className:r},a%10))}return t}var C=function(e){function t(e){var a;return p(this,t),a=v(this,y(t).call(this,e)),a.onAnimated=function(){var e=a.props.onAnimated;e&&e()},a.renderScrollNumber=function(e){var t=e.getPrefixCls,r=a.props,n=r.prefixCls,d=r.className,i=r.style,s=r.title,c=r.component,p=void 0===c?"sup":c,m=r.displayComponent,g=Object(o["default"])(a.props,["count","onAnimated","component","prefixCls","displayComponent"]),v=t("scroll-number",n),h=f(f({},g),{className:u()(v,d),title:s});return i&&i.borderColor&&(h.style=f(f({},i),{boxShadow:"0 0 0 1px ".concat(i.borderColor," inset")})),m?l["cloneElement"](m,{className:u()("".concat(v,"-custom-component"),m.props&&m.props.className)}):l["createElement"](p,h,a.renderNumberElement(v))},a.state={animateStarted:!0,count:e.count},a}return b(t,e),g(t,[{key:"componentDidUpdate",value:function(e,t){this.lastCount=t.count;var a=this.state.animateStarted;a&&this.setState(function(e,t){return{animateStarted:!1,count:t.count}},this.onAnimated)}},{key:"getPositionByNum",value:function(e,t){var a=this.state.count,l=Math.abs(Number(a)),r=Math.abs(Number(this.lastCount)),n=Math.abs(w(this.state.count)[t]),o=Math.abs(w(this.lastCount)[t]);return this.state.animateStarted?10+e:l>r?n>=o?10+e:20+e:n<=o?10+e:e}},{key:"renderCurrentNumber",value:function(e,t,a){if("number"===typeof t){var r=this.getPositionByNum(t,a),n=this.state.animateStarted||void 0===w(this.lastCount)[a];return l["createElement"]("span",{className:"".concat(e,"-only"),style:{transition:n?"none":void 0,msTransform:"translateY(".concat(100*-r,"%)"),WebkitTransform:"translateY(".concat(100*-r,"%)"),transform:"translateY(".concat(100*-r,"%)")},key:a},D(r))}return l["createElement"]("span",{key:"symbol",className:"".concat(e,"-symbol")},t)}},{key:"renderNumberElement",value:function(e){var t=this,a=this.state.count;return a&&Number(a)%1===0?w(a).map(function(a,l){return t.renderCurrentNumber(e,a,l)}).reverse():a}},{key:"render",value:function(){return l["createElement"](s["a"],null,this.renderScrollNumber)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"count"in e?t.count===e.count?null:{animateStarted:!0}:null}}]),t}(l["Component"]);C.defaultProps={count:null,onAnimated:function(){}},Object(i["polyfill"])(C);var S=C,N=a("09Wf");function x(e){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},M.apply(this,arguments)}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function T(e,t,a){return t&&P(e.prototype,t),a&&P(e,a),e}function O(e,t){return!t||"object"!==x(t)&&"function"!==typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function B(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}a.d(t,"default",function(){return _});var L=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]])}return a};function j(e){return-1!==N["a"].indexOf(e)}var _=function(e){function t(){var e;return I(this,t),e=O(this,A(t).apply(this,arguments)),e.renderBadge=function(t){var a,r=t.getPrefixCls,d=e.props,i=d.prefixCls,s=d.scrollNumberPrefixCls,c=d.children,f=d.status,p=d.text,m=d.color,g=L(d,["prefixCls","scrollNumberPrefixCls","children","status","text","color"]),v=["count","showZero","overflowCount","className","style","dot","offset","title"],h=r("badge",i),y=r("scroll-number",s),b=e.renderBadgeNumber(h,y),E=e.renderStatusText(h),w=u()((a={},k(a,"".concat(h,"-status-dot"),e.hasStatus()),k(a,"".concat(h,"-status-").concat(f),!!f),k(a,"".concat(h,"-status-").concat(m),j(m)),a)),D={};if(m&&!j(m)&&(D.background=m),!c&&e.hasStatus()){var C=e.getStyleWithOffset(),S=C&&C.color;return l["createElement"]("span",M({},Object(o["default"])(g,v),{className:e.getBadgeClassName(h),style:C}),l["createElement"]("span",{className:w,style:D}),l["createElement"]("span",{style:{color:S},className:"".concat(h,"-status-text")},p))}return l["createElement"]("span",M({},Object(o["default"])(g,v),{className:e.getBadgeClassName(h)}),c,l["createElement"](n["a"],{component:"",showProp:"data-show",transitionName:c?"".concat(h,"-zoom"):"",transitionAppear:!0},b),E)},e}return B(t,e),T(t,[{key:"getNumberedDispayCount",value:function(){var e=this.props,t=e.count,a=e.overflowCount,l=t>a?"".concat(a,"+"):t;return l}},{key:"getDispayCount",value:function(){var e=this.isDot();return e?"":this.getNumberedDispayCount()}},{key:"getScrollNumberTitle",value:function(){var e=this.props,t=e.title,a=e.count;return t||("string"===typeof a||"number"===typeof a?a:void 0)}},{key:"getStyleWithOffset",value:function(){var e=this.props,t=e.offset,a=e.style;return t?M({right:-parseInt(t[0],10),marginTop:t[1]},a):a}},{key:"getBadgeClassName",value:function(e){var t,a=this.props,l=a.className,r=a.children;return u()(l,e,(t={},k(t,"".concat(e,"-status"),this.hasStatus()),k(t,"".concat(e,"-not-a-wrapper"),!r),t))}},{key:"hasStatus",value:function(){var e=this.props,t=e.status,a=e.color;return!!t||!!a}},{key:"isZero",value:function(){var e=this.getNumberedDispayCount();return"0"===e||0===e}},{key:"isDot",value:function(){var e=this.props.dot,t=this.isZero();return e&&!t||this.hasStatus()}},{key:"isHidden",value:function(){var e=this.props.showZero,t=this.getDispayCount(),a=this.isZero(),l=this.isDot(),r=null===t||void 0===t||""===t;return(r||a&&!e)&&!l}},{key:"renderStatusText",value:function(e){var t=this.props.text,a=this.isHidden();return a||!t?null:l["createElement"]("span",{className:"".concat(e,"-status-text")},t)}},{key:"renderDispayComponent",value:function(){var e=this.props.count,t=e;if(t&&"object"===x(t))return l["cloneElement"](t,{style:M(M({},this.getStyleWithOffset()),t.props&&t.props.style)})}},{key:"renderBadgeNumber",value:function(e,t){var a,r=this.props,n=r.status,o=r.count,d=this.getDispayCount(),i=this.isDot(),s=this.isHidden(),c=u()((a={},k(a,"".concat(e,"-dot"),i),k(a,"".concat(e,"-count"),!i),k(a,"".concat(e,"-multiple-words"),!i&&o&&o.toString&&o.toString().length>1),k(a,"".concat(e,"-status-").concat(n),this.hasStatus()),a));return s?null:l["createElement"](S,{prefixCls:t,"data-show":!s,className:c,count:d,displayComponent:this.renderDispayComponent(),title:this.getScrollNumberTitle(),style:this.getStyleWithOffset(),key:"scrollNumber"})}},{key:"render",value:function(){return l["createElement"](s["a"],null,this.renderBadge)}}]),t}(l["Component"]);_.defaultProps={count:null,showZero:!1,dot:!1,overflowCount:99},_.propTypes={count:r["node"],showZero:r["bool"],dot:r["bool"],overflowCount:r["number"]}},Lazj:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=l(a("/wGt"));a("g9YV");var o=l(a("wCAj"));a("+L6B");var d=l(a("2/Rp"));a("Pwec");var u=l(a("CtXQ")),i=l(a("eHn4")),s=l(a("p0pE")),c=l(a("2Taf")),f=l(a("vZ4D")),p=l(a("l4Ni")),m=l(a("ujKo")),g=l(a("MhPg"));a("5NDa");var v,h,y,b=l(a("5rEg")),E=r(a("q1tI")),w=a("Hx5s"),D=a("MuoO"),C=l(a("usdK")),S=l(a("HV4n")),N=l(a("zNtm")),x=l(a("/Lk6")),M=l(a("j854")),k=l(a("F4OS")),I=l(a("l10n")),P=b.default.Search,T=(v=(0,D.connect)(function(e){var t=e.dataSet;return{classifyTreeData:t.classifyTreeData,dataSetData:t.dataSetData,column:t.column,tableData:t.tableData}}),v((y=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,p.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(r))),a.operateType="ADD",a.nodeTree={},a.record={},a.state={drawerTitle:"",selectedRowKeys:[],visible:{operateTree:!1,dataSetName:!1,deleteDataSet:!1,dataPerform:!1}},a.toggleDrawer=function(e){var t=a.state.visible;a.setState({visible:(0,s.default)({},t,(0,i.default)({},e,!t[e]))})},a.Title=function(){return E.default.createElement("span",{className:N.default.titleBox},E.default.createElement("span",null,"DataSet Classify"),E.default.createElement(u.default,{type:"plus",onClick:function(){a.handleAddTree()}}))},a.clearNodeTree=function(){a.nodeTree={}},a.clearRecord=function(){a.record={}},a.handleDeleteTree=function(e,t){a.setState({drawerTitle:"Delete DataSet Classify"}),a.operateType="DELETE",a.nodeTree=t,a.toggleDrawer("operateTree")},a.handleModifyTree=function(e,t){a.setState({drawerTitle:"Edit DataSet Classify"}),a.operateType="EDIT",a.nodeTree=t,a.toggleDrawer("operateTree")},a.handleAddTree=function(e,t){a.setState({drawerTitle:"ADD DataSet Classify"}),a.operateType="ADD",t&&(a.nodeTree=t),a.toggleDrawer("operateTree")},a.onSelect=function(e){var t=a.props.dispatch;t({type:"dataSet/setActiveTree",payload:e}),t({type:"dataSet/getDataSet",payload:{taskId:e,isShare:0}})},a.operateClassifyTree=function(e){var t=a.props.dispatch,l={};"ADD"===a.operateType&&(a.nodeTree?(l.className=e.className,l.parentClassId=a.nodeTree.classId):l.className=e.className,t({type:"dataSet/operateClassifyTree",payload:(0,s.default)({},l)})),"EDIT"===a.operateType&&(l.className=e.className,l.classId=a.nodeTree.classId,t({type:"dataSet/operateClassifyTree",payload:(0,s.default)({},l)})),"DELETE"===a.operateType&&(l.ids=[a.nodeTree.classId],t({type:"dataSet/deleteClassifyTree",payload:(0,s.default)({},l)})),a.toggleDrawer("operateTree"),a.nodeTree={}},a.handleSetDataSetName=function(e){var t=a.props.dispatch,l=(0,s.default)({},a.record,e);l.basicOperation="update",t({type:"dataSet/operateDataSet",payload:l}),a.toggleDrawer("dataSetName"),a.record={}},a.handleDeleteDataSet=function(){var e=a.props.dispatch,t={};t.serialNo=a.record.serialNo,t.basicOperation="del",e({type:"dataSet/operateDataSet",payload:t}),a.toggleDrawer("deleteDataSet"),a.record={}},a}return(0,g.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"dataSet/getClassifyTree"})}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"sqlName",key:"sqlName"},{title:"Type",dataIndex:"mdType",key:"mdType"},{title:"Data Source",dataIndex:"tableCat",key:"tableCat"},{title:"Creat by",dataIndex:"schemName",key:"schemName"},{title:"Modified by",dataIndex:"lastOperator",key:"lastOperator",render:function(e){return E.default.createElement("span",{style:{color:"#6ed2cb"}},e)}},{title:"Modified at",dataIndex:"lastupdatetime",key:"lastupdatetime"},{title:"Action",key:"action",render:function(t,a){return E.default.createElement(E.default.Fragment,null,E.default.createElement(u.default,{type:"edit",onClick:function(){C.default.push({pathname:"/add-dataset",query:{connectionId:a.dbId,record:JSON.stringify(a)}})}}),E.default.createElement(u.default,{type:"copy",onClick:function(){e.toggleDrawer("dataSetName"),e.record=a}}),E.default.createElement(u.default,{type:"eye",onClick:function(){var t=e.props.dispatch;t({type:"dataSet/getMetadataTablePerform",payload:{connectionId:a.dbId,previewStatement:a.sqlStatement,previewNum:10},callback:function(){e.toggleDrawer("dataPerform")}})}}),E.default.createElement(u.default,{type:"delete",onClick:function(){e.toggleDrawer("deleteDataSet"),e.record=a}}))}}],a=this.state,l=a.selectedRowKeys,r=a.drawerTitle,i={selectedRowKeys:l,type:"checkbox",onSelect:function(t,a,l){var r=l.map(function(e){return e.tableId});e.tableIds=r.join(",")},onChange:function(t){e.setState({selectedRowKeys:t})}},s=this.props,c=s.classifyTreeData,f=s.dataSetData,p=s.column,m=s.tableData;return E.default.createElement(w.PageHeaderWrapper,null,E.default.createElement("div",{style:{display:"flex",minHeight:500}},E.default.createElement("div",{style:{flex:"0 0 220px",background:"#fff"}},this.Title(),E.default.createElement(S.default,{add:!0,modify:!0,move:!0,handleAddTree:this.handleAddTree,handleModifyTree:this.handleModifyTree,handleDeleteTree:this.handleDeleteTree,checkable:!1,treeData:c,treeKey:{currentKey:"classId",currentName:"className"},onSelect:this.onSelect,showSearch:!1})),E.default.createElement("div",{style:{flex:1,overflowX:"auto"}},E.default.createElement("div",{style:{height:"100%",padding:"0 0 0 15px"}},E.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 5px 0",backgroundColor:"#fff"}},E.default.createElement(d.default,{style:{width:120},type:"primary",onClick:function(){C.default.push({pathname:"/add-dataset",query:{}})}},"Creat DataSet"),E.default.createElement(P,{style:{width:220},onSearch:function(t){e.getDataSourceList(t)}})),E.default.createElement(o.default,{className:"basicTable",rowSelection:i,columns:t,dataSource:f,pagination:{size:"small",showSizeChanger:!0},scroll:{x:"max-content"}})))),E.default.createElement(n.default,{title:r,width:350,visible:this.state.visible.operateTree,onClose:function(){e.clearNodeTree(),e.toggleDrawer("operateTree")},destroyOnClose:!0},E.default.createElement(x.default,{handleSubmit:this.operateClassifyTree,nodeTree:"ADD"===this.operateType?{}:this.nodeTree,toggleDrawer:this.toggleDrawer,clearNodeTree:this.clearNodeTree,operateType:this.operateType})),E.default.createElement(M.default,{toggleDrawer:this.toggleDrawer,visible:this.state.visible.dataSetName,clearRecord:this.clearRecord,record:this.record,handleSetDataSetName:this.handleSetDataSetName}),E.default.createElement(k.default,{handleDeleteDataSet:this.handleDeleteDataSet,visible:this.state.visible.deleteDataSet,toggleDrawer:this.toggleDrawer}),E.default.createElement(I.default,{column:p,tableData:m,visible:this.state.visible.dataPerform,toggleDrawer:this.toggleDrawer}))}}]),t}(E.PureComponent),h=y))||h);t.default=T},PQMj:function(e,t,a){e.exports={"ant-badge":"ant-badge","ant-badge-count":"ant-badge-count","ant-badge-multiple-words":"ant-badge-multiple-words","ant-badge-dot":"ant-badge-dot","ant-scroll-number-custom-component":"ant-scroll-number-custom-component","ant-badge-status":"ant-badge-status","ant-badge-status-dot":"ant-badge-status-dot","ant-badge-status-success":"ant-badge-status-success","ant-badge-status-processing":"ant-badge-status-processing",antStatusProcessing:"antStatusProcessing","ant-badge-status-default":"ant-badge-status-default","ant-badge-status-error":"ant-badge-status-error","ant-badge-status-warning":"ant-badge-status-warning","ant-badge-status-pink":"ant-badge-status-pink","ant-badge-status-magenta":"ant-badge-status-magenta","ant-badge-status-red":"ant-badge-status-red","ant-badge-status-volcano":"ant-badge-status-volcano","ant-badge-status-orange":"ant-badge-status-orange","ant-badge-status-yellow":"ant-badge-status-yellow","ant-badge-status-gold":"ant-badge-status-gold","ant-badge-status-cyan":"ant-badge-status-cyan","ant-badge-status-lime":"ant-badge-status-lime","ant-badge-status-green":"ant-badge-status-green","ant-badge-status-blue":"ant-badge-status-blue","ant-badge-status-geekblue":"ant-badge-status-geekblue","ant-badge-status-purple":"ant-badge-status-purple","ant-badge-status-text":"ant-badge-status-text","ant-badge-zoom-appear":"ant-badge-zoom-appear","ant-badge-zoom-enter":"ant-badge-zoom-enter",antZoomBadgeIn:"antZoomBadgeIn","ant-badge-zoom-leave":"ant-badge-zoom-leave",antZoomBadgeOut:"antZoomBadgeOut","ant-badge-not-a-wrapper":"ant-badge-not-a-wrapper","ant-scroll-number":"ant-scroll-number","ant-scroll-number-only":"ant-scroll-number-only","ant-scroll-number-symbol":"ant-scroll-number-symbol"}},QyDn:function(e,t,a){e.exports={container:"antd-pro-components-header-dropdown-index-container"}},"U+i4":function(e,t,a){e.exports={approvalDesign:"antd-pro-pages-approval-approval-design-approval-design-approvalDesign",contentBox:"antd-pro-pages-approval-approval-design-approval-design-contentBox",leftBox:"antd-pro-pages-approval-approval-design-approval-design-leftBox",rightBox:"antd-pro-pages-approval-approval-design-approval-design-rightBox"}},UYam:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=v,a("Pwec");var n=r(a("CtXQ")),o=r(a("qIgq"));a("g9YV");var d=r(a("wCAj")),u=l(a("q1tI")),i=r(a("wd/R")),s=a("LLXN"),c=r(a("BN5G")),f=a("8Br5"),p=d.default.Column,m=(0,s.formatMessage)({id:"data-import.lop.submission-report"}),g=(0,s.formatMessage)({id:"data-import.lop.processing-status"});function v(e){var t=e.dataSource,a=e.loading,l=e.total,r=e.handlePageChange,v=e.handlePageSizeChange,h=e.handleDownload,y=(0,u.useState)(""),b=(0,o.default)(y,2),E=b[0],w=b[1];function D(e){w(e),h(e)}return u.default.createElement(d.default,{dataSource:t,rowKey:"lopImpId",loading:a["lop/fetch"],pagination:{total:l,pageSizeOptions:["10","20","50","100"],showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(e,t){r(e,t)},onShowSizeChange:function(e,t){v(e,t)}}},u.default.createElement(p,{width:"10%",align:"center",dataIndex:"tradeDate",title:u.default.createElement(s.FormattedMessage,{id:"data-import.lop.trade-date"}),render:function(e,t){return u.default.createElement("span",null,(0,i.default)(t.tradeDate).format(f.dateFormat))}}),u.default.createElement(p,{align:"center",dataIndex:"submitterCode",title:u.default.createElement(s.FormattedMessage,{id:"data-import.lop.submitter-code"})}),u.default.createElement(p,{align:"center",dataIndex:"submitterName",title:u.default.createElement(s.FormattedMessage,{id:"data-import.lop.submitter-name"})}),u.default.createElement(p,{ellipsis:!0,dataIndex:"submissionReport",title:u.default.createElement("span",{title:m},m)}),u.default.createElement(p,{width:"10%",align:"center",dataIndex:"submissionChannel",title:u.default.createElement(s.FormattedMessage,{id:"data-import.lop.submission-channel"})}),u.default.createElement(p,{width:"10%",align:"center",dataIndex:"submissionDate",title:u.default.createElement(s.FormattedMessage,{id:"data-import.lop.submission-date"}),render:function(e,t){return(0,i.default)(t.submissionDate).format(f.timestampFormat)}}),u.default.createElement(p,{width:"10%",align:"center",dataIndex:"submissionStatus",title:u.default.createElement(s.FormattedMessage,{id:"data-import.lop.submission-status"})}),u.default.createElement(p,{width:"10%",align:"center",dataIndex:"lateSubmission",title:u.default.createElement(s.FormattedMessage,{id:"data-import.lop.late-submission"})}),u.default.createElement(p,{align:"center",dataIndex:"latestVersion",title:u.default.createElement(s.FormattedMessage,{id:"data-import.lop.latest-version"})}),u.default.createElement(p,{ellipsis:!0,align:"center",dataIndex:"processingStatus",title:u.default.createElement("span",{title:g},g)}),u.default.createElement(p,{align:"center",dataIndex:"download",title:u.default.createElement(s.FormattedMessage,{id:"data-import.lop.download"}),render:function(e,t){var l=t.lopImpId;return u.default.createElement(u.default.Fragment,null,a["lop/fetchReportUrl"]&&l===E?u.default.createElement(n.default,{type:"loading"}):u.default.createElement(c.default,{type:"icondownload",onClick:function(){return D(l)},style:{fontSize:24,cursor:"pointer"}}))}}))}},W660:function(e,t,a){e.exports={footerRender:"antd-pro-layouts-basic-layout-footerRender",headerRender:"antd-pro-layouts-basic-layout-headerRender",left:"antd-pro-layouts-basic-layout-left",collapsed:"antd-pro-layouts-basic-layout-collapsed",right:"antd-pro-layouts-basic-layout-right",info:"antd-pro-layouts-basic-layout-info",bell:"antd-pro-layouts-basic-layout-bell",user:"antd-pro-layouts-basic-layout-user",avatar:"antd-pro-layouts-basic-layout-avatar",username:"antd-pro-layouts-basic-layout-username",popover:"antd-pro-layouts-basic-layout-popover",popoverHeader:"antd-pro-layouts-basic-layout-popoverHeader",popoverContent:"antd-pro-layouts-basic-layout-popoverContent",imgBox:"antd-pro-layouts-basic-layout-imgBox",popoverFooter:"antd-pro-layouts-basic-layout-popoverFooter"}},YFOJ:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=l(a("2/Rp"));a("14J3");var n=l(a("BMrR"));a("sRBo");var o=l(a("kaz8"));a("jCWc");var d=l(a("kPKH"));a("y8nQ");var u=l(a("Vl3Y")),i=l(a("p0pE")),s=l(a("qIgq")),c=l(a("Y/ft"));a("iQDF");var f=l(a("+eQT"));a("OaEy");var p=l(a("2fM7")),m=l(a("q1tI")),g=a("LLXN"),v=a("8Br5"),h=l(a("/PE8")),y=p.default.Option,b=f.default.RangePicker;function E(e){var t=e.form,a=e.handleSearch,l=t.getFieldDecorator,f=t.validateFields;function E(){f(function(e,t){if(!e){var l="YYYYMMDD",r=t.tradeDate,n=t.market,o=(0,c.default)(t,["tradeDate","market"]),d="",u="";if(r){var f=(0,s.default)(r,2),p=f[0],m=f[1];d=p&&p.format(l),u=m&&m.format(l)}a((0,i.default)({},o,{market:n.toString(),tradeDateSt:d,tradeDateEt:u}))}})}return m.default.createElement(u.default,{layout:"vertical",className:h.default.form},m.default.createElement(n.default,null,m.default.createElement(d.default,{span:7},m.default.createElement(u.default.Item,{label:m.default.createElement(g.FormattedMessage,{id:"data-import.market.trade-date"})},l("tradeDate",{initialValue:[v.yesterday,v.today],rules:[{required:!1,message:"Please select trade date!"}]})(m.default.createElement(b,{format:v.dateFormat})))),m.default.createElement(d.default,{span:7,offset:1},m.default.createElement(u.default.Item,{label:m.default.createElement(g.FormattedMessage,{id:"data-import.market.file-type"})},l("fileType",{rules:[{required:!1,message:"Please select file type!"}]})(m.default.createElement(p.default,{placeholder:"please select file type",allowClear:!0},m.default.createElement(y,{value:"TP001"},"TP001"),m.default.createElement(y,{value:"GREK020"},"GREK020"),m.default.createElement(y,{value:"OMD"},"OMD"))))),m.default.createElement(d.default,{span:8,offset:1},m.default.createElement(u.default.Item,{label:m.default.createElement(g.FormattedMessage,{id:"data-import.market.market"})},l("market")(m.default.createElement(o.default.Group,{options:["HKFE","SEHK"]}))))),m.default.createElement(n.default,{type:"flex",justify:"end"},m.default.createElement(r.default,{type:"primary",icon:"search",onClick:E,className:h.default["no-margin"]},m.default.createElement(g.FormattedMessage,{id:"data-import.market.search"}))))}var w=u.default.create()(E);t.default=w},YOzA:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var n=r(a("CtXQ")),o=r(a("2Taf")),d=r(a("vZ4D")),u=r(a("l4Ni")),i=r(a("ujKo")),s=r(a("MhPg")),c=l(a("q1tI")),f=r(a("vt1u")),p=function(e){function t(){var e,a;(0,o.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,u.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(r))),a.state={},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.listData,a=e.chooseId,l=e.chooseTab,r=e.title,o=e.currentId;return c.default.createElement("div",{className:f.default.listBox},c.default.createElement("h2",null,r),c.default.createElement("ul",null,t.map(function(e){return c.default.createElement("li",{key:e[o],icon:"copy",onClick:function(){l(e[o])},className:a===e[o]?f.default.liActive:null},c.default.createElement(n.default,{type:"copy",style:{color:"#FFB81C",marginRight:"4px"}}),e.name)})))}}]),t}(c.PureComponent);t.default=p,p.defaultProps={title:"List",currentId:"id",chooseTab:function(){}}},"c6D+":function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.LopLog=D,t.default=void 0;var n=r(a("d6i3"));a("14J3");var o=r(a("BMrR"));a("+L6B");var d=r(a("2/Rp")),u=r(a("1l/V")),i=r(a("p0pE")),s=r(a("qIgq")),c=l(a("q1tI")),f=a("MuoO"),p=a("Hx5s"),m=a("LLXN"),g=a("8Br5"),v=r(a("sV7J")),h=r(a("UYam")),y=r(a("jbR8")),b=r(a("/PE8")),E="YYYYMMDD",w=document.createElement("a");function D(e){var t=e.dispatch,a=e.loading,l=e.logs,r=e.total,f=e.reportUrl,D=(0,c.useState)(!1),C=(0,s.default)(D,2),S=C[0],N=C[1],x=(0,c.useState)({}),M=(0,s.default)(x,2),k=M[0],I=M[1];function P(e){I(e),t({type:"lop/reload",payload:e})}function T(e,a){t({type:"lop/reload",payload:(0,i.default)({page:e,pageSize:a},k)})}function O(e){return F.apply(this,arguments)}function F(){return F=(0,u.default)(n.default.mark(function e(a){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"lop/importByManual",payload:a});case 2:N(!1);case 3:case"end":return e.stop()}},e)})),F.apply(this,arguments)}function A(e){return B.apply(this,arguments)}function B(){return B=(0,u.default)(n.default.mark(function e(a){return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"lop/fetchReportUrl",payload:{lopImpId:a}});case 2:w.href="/download?filePath=".concat(f),w.click();case 4:case"end":return e.stop()}},e)})),B.apply(this,arguments)}return(0,c.useEffect)(function(){t({type:"lop/fetch",payload:{startTradeDate:g.yesterday.format(E),endTradeDate:g.today.format(E)}})},[]),c.default.createElement(p.PageHeaderWrapper,null,c.default.createElement("div",{className:b.default.container},c.default.createElement(v.default,{handleSearch:P}),c.default.createElement(y.default,{visible:S,handleCancel:function(){return N(!1)},handleUpload:O}),c.default.createElement("div",{className:b.default["list-wrap"]},c.default.createElement(o.default,{className:b.default["btn-group"]},c.default.createElement(d.default,{type:"primary",onClick:function(){return t({type:"lop/importByAuto"})},loading:a["lop/importByAuto"]},c.default.createElement(m.FormattedMessage,{id:"data-import.lop.auto-import"})),c.default.createElement(d.default,{type:"primary",className:b.default["no-margin"],onClick:function(){return N(!0)}},c.default.createElement(m.FormattedMessage,{id:"data-import.lop.manual-import"}))),c.default.createElement(h.default,{total:r,dataSource:l,loading:a,reportUrl:f,handlePageChange:T,handlePageSizeChange:T,handleDownload:A}))))}w.download=!0;var C=(0,f.connect)(function(e){var t=e.loading,a=e.lop,l=a.logs,r=a.page,n=a.total,o=a.reportUrl;return{loading:t.effects,logs:l,page:r,total:n,reportUrl:o}})(D);t.default=C},cZ2p:function(e,t,a){e.exports={approvalConfiguration:"antd-pro-pages-approval-approval-configuration-approval-configuration-approvalConfiguration",content:"antd-pro-pages-approval-approval-configuration-approval-configuration-content"}},h3zL:function(e,t,a){e.exports={logo:"antd-pro-components-global-header-index-logo",trigger:"antd-pro-components-global-header-index-trigger",dark:"antd-pro-components-global-header-index-dark",right:"antd-pro-components-global-header-index-right",search:"antd-pro-components-global-header-index-search",account:"antd-pro-components-global-header-index-account",avatar:"antd-pro-components-global-header-index-avatar",action:"antd-pro-components-global-header-index-action",name:"antd-pro-components-global-header-index-name"}},j854:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=l(a("/wGt"));a("+L6B");var o=l(a("2/Rp"));a("5NDa");var d=l(a("5rEg")),u=l(a("2Taf")),i=l(a("vZ4D")),s=l(a("l4Ni")),c=l(a("ujKo")),f=l(a("MhPg"));a("y8nQ");var p,m,g,v,h=l(a("Vl3Y")),y=r(a("q1tI")),b=(l(a("17x9")),p=h.default.create({}),p((v=g=function(e){function t(){var e,a;(0,u.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),a.handleSubmit=function(e){e.preventDefault();var t=a.props,l=t.handleSetDataSetName,r=t.form;r.validateFieldsAndScroll(function(e,t){e||(l(t),r.resetFields())})},a}return(0,f.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.record,l=t.toggleDrawer,r=t.clearRecord,u=t.visible;return y.default.createElement(n.default,{title:"DataSet Name",width:350,visible:u,onClose:function(){r(),l("dataSetName")},destroyOnClose:!0},y.default.createElement(h.default,{onSubmit:this.handleSubmit},y.default.createElement(h.default.Item,{label:"DataSet Name",labelCol:{span:8},wrapperCol:{span:16}},e("sqlName",{rules:[{required:!0}],initialValue:a&&a.sqlName})(y.default.createElement(d.default,null))),y.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},y.default.createElement(o.default,{onClick:function(){r(),l("dataSetName")},style:{marginRight:8}},"Cancel"),y.default.createElement(o.default,{htmlType:"submit",type:"primary"},"Submit"))))}}]),t}(y.PureComponent),g.defaultProps={record:{},handleSetDataSetName:function(){},toggleDrawer:function(){},clearRecord:function(){}},m=v))||m);t.default=b},jbR8:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var r=l(a("/wGt"));a("DZo9");var n=l(a("8z0m"));a("+L6B");var o=l(a("2/Rp"));a("Pwec");var d=l(a("CtXQ"));a("5NDa");var u=l(a("5rEg"));a("y8nQ");var i=l(a("Vl3Y"));a("iQDF");var s=l(a("+eQT")),c=l(a("d6i3")),f=l(a("p0pE")),p=l(a("Y/ft")),m=l(a("1l/V"));a("OaEy");var g=l(a("2fM7")),v=l(a("q1tI")),h=a("LLXN"),y=a("8Br5"),b=l(a("/PE8")),E=g.default.Option,w=function(e){return e/1024/1024<5};function D(e){var t=e.form,a=e.visible,l=e.handleCancel,D=e.handleUpload,C=t.getFieldDecorator,S=t.validateFields;function N(){S(function(){var e=(0,m.default)(c.default.mark(function e(a,l){var r,n,o,d,u,i,s,m,g,v;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=9;break}if(r=l.tradeDate,n=l.uploadFiles,o=(0,p.default)(l,["tradeDate","uploadFiles"]),d=n&&n.length&&n[0].response||{},u=d.bcjson,i=u||{},s=i.flag,m=i.items,g=void 0===m?{}:m,"1"!==s||!g){e.next=9;break}return v=g.relativeUrl,e.next=8,D((0,f.default)({tradeDate:r.format("YYYYMMDD"),filename:v},o));case 8:t.resetFields();case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())}return v.default.createElement(r.default,{title:v.default.createElement(h.FormattedMessage,{id:"data-import.lop.manual-import-lop-report"}),width:320,closable:!1,bodyStyle:{paddingBottom:60,paddingTop:10},visible:a,onClose:l},v.default.createElement(i.default,{className:b.default["modal-form"]},v.default.createElement(i.default.Item,{label:v.default.createElement(h.FormattedMessage,{id:"data-import.lop.trade-date"})},C("tradeDate",{initialValue:y.yesterday,rules:[{required:!0,message:"Please select trade date!"}]})(v.default.createElement(s.default,{format:y.dateFormat}))),v.default.createElement(i.default.Item,{label:v.default.createElement(h.FormattedMessage,{id:"data-import.lop.submitter-code"})},C("submitterCode",{initialValue:"",rules:[{required:!0,message:"Please input submitter code!"}]})(v.default.createElement(u.default,{placeholder:"please input submitter code"}))),v.default.createElement(i.default.Item,{label:v.default.createElement(h.FormattedMessage,{id:"data-import.lop.submitter-name"})},C("submitterName",{initialValue:"",rules:[{required:!0,message:"Please input submitter name!"}]})(v.default.createElement(u.default,{placeholder:"please input submmitter name"}))),v.default.createElement(i.default.Item,{label:v.default.createElement(h.FormattedMessage,{id:"data-import.lop.submission-report"})},C("submissionReport",{rules:[{required:!0,message:"Please select submission report!"}]})(v.default.createElement(g.default,{placeholder:"please select submission report",allowClear:!0},y.SUBMISSION_REPORT.map(function(e){return v.default.createElement(E,{key:e},e)})))),v.default.createElement(i.default.Item,{label:v.default.createElement(h.FormattedMessage,{id:"data-import.lop.submission-report"})},C("uploadFiles",{rules:[{validator:function(e,t,a){if(!t)return a("Please select a file!");if(t&&t.length){var l=t[0];if(!w(l.size))return a("file size must less than 5M");if(l.error)return a(l.error.message)}return a()}}],valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList.slice(-1)}})(v.default.createElement(n.default,{accept:".xlsm,.xls,.xlsx,.pdf,application/msexcel",action:"/upload",beforeUpload:function(e){return w(e.size)}},v.default.createElement(o.default,null,v.default.createElement(d.default,{type:"upload"}),v.default.createElement(h.FormattedMessage,{id:"data-import.lop.browse"})))))),v.default.createElement("div",{className:b.default["bottom-btns"]},v.default.createElement(o.default,{onClick:l},"Cancel"),v.default.createElement(o.default,{type:"primary",onClick:N},"Commit")))}var C=i.default.create()(D);t.default=C},kaFD:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var r=l(a("W9HT"));a("Telt");var n=l(a("Tckk"));a("lUTK");var o=l(a("BvKs"));a("Pwec");var d=l(a("CtXQ")),u=l(a("2Taf")),i=l(a("vZ4D")),s=l(a("l4Ni")),c=l(a("ujKo")),f=l(a("MhPg")),p=a("Y2fQ"),m=l(a("q1tI")),g=a("MuoO"),v=l(a("usdK")),h=l(a("6Wvd")),y=l(a("h3zL")),b=function(e){function t(){var e,a;(0,u.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),a.onMenuClick=function(e){var t=e.key;if("logout"!==t)v.default.push("/account/".concat(t));else{var l=a.props.dispatch;l&&l({type:"login/logout"})}},a}return(0,f.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.currentUser,t=void 0===e?{}:e;t.name=localStorage.getItem("currentUser")?localStorage.getItem("currentUser"):"";var a=m.default.createElement(o.default,{className:y.default.menu,selectedKeys:[],onClick:this.onMenuClick},m.default.createElement(o.default.Item,{key:"center"},m.default.createElement(d.default,{type:"user"}),m.default.createElement(p.FormattedMessage,{id:"menu.account.center",defaultMessage:"account center"})),m.default.createElement(o.default.Item,{key:"settings"},m.default.createElement(d.default,{type:"setting"}),m.default.createElement(p.FormattedMessage,{id:"menu.account.settings",defaultMessage:"account settings"})),m.default.createElement(o.default.Divider,null),m.default.createElement(o.default.Item,{key:"logout"},m.default.createElement(d.default,{type:"logout"}),m.default.createElement(p.FormattedMessage,{id:"menu.account.logout",defaultMessage:"logout"})));return t&&t.name?m.default.createElement(h.default,{overlay:a},m.default.createElement("span",{className:"".concat(y.default.action," ").concat(y.default.account)},m.default.createElement(n.default,{size:"small",className:y.default.avatar,src:t.avatar,alt:"avatar"}),m.default.createElement("span",{className:y.default.name},t.name))):m.default.createElement(r.default,{size:"small",style:{marginLeft:8,marginRight:8}})}}]),t}(m.default.Component),E=(0,g.connect)(function(e){var t=e.user;return{currentUser:t.currentUser}})(b);t.default=E},l10n:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=r(a("/wGt"));a("+L6B");var o=r(a("2/Rp"));a("g9YV");var d=r(a("wCAj")),u=r(a("2Taf")),i=r(a("vZ4D")),s=r(a("l4Ni")),c=r(a("ujKo")),f=r(a("MhPg")),p=l(a("q1tI")),m=(r(a("17x9")),function(e){function t(){return(0,u.default)(this,t),(0,s.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.toggleDrawer,a=e.visible,l=e.column,r=e.tableData;return p.default.createElement(n.default,{title:"Data Perform",width:800,visible:a,onClose:function(){t("dataPerform")},destroyOnClose:!0},p.default.createElement(d.default,{columns:l,dataSource:r}),p.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},p.default.createElement(o.default,{onClick:function(){t("dataPerform")},type:"primary"},"OK")))}}]),t}(p.PureComponent));t.default=m,m.defaultProps={column:[],tableData:[],visible:!1,toggleDrawer:function(){}}},maEh:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("jehZ")),o=r(a("gWZ8"));a("Q9mQ");var d=r(a("diRs"));a("Awhp");var u=r(a("KrTs"));a("Pwec");var i=r(a("CtXQ")),s=r(a("qIgq")),c=r(a("p0pE")),f=r(a("Hx5s")),p=l(a("q1tI")),m=r(a("mOP9")),g=a("MuoO"),v=a("Y2fQ"),h=a("LLXN"),y=r(a("usdK")),b=r(a("HZnN")),E=r(a("57a1")),w=r(a("zwU1")),D=r(a("yFqQ")),C=r(a("W660")),S=r(a("BN5G")),N=a("+n12"),x=function(e){return e.map(function(e){var t=(0,c.default)({},e,{children:e.children?x(e.children):[]});return b.default.check(e.authority,t,null)})},M=function(){return p.default.createElement("footer",{className:C.default.footerRender},p.default.createElement("div",null),p.default.createElement("div",null,"@ 2019 Hong Kong Exchanges and Clearing Limited. All rights reserved"))},k=function(e){var t=e.dispatch,a=e.children,l=e.settings,r=e.collapsed,c=e.menuData,g=(0,p.useState)([]),b=(0,s.default)(g,2),k=b[0],I=b[1];(0,p.useEffect)(function(){(0,h.setLocale)("en-US"),t&&(t({type:"menu/getMenuData"}),t({type:"login/getLoginStatus",payload:{}}),N.isProOrDev||setInterval(function(){t({type:"login/getLoginStatus",payload:{}})},25e3))},[]);var P=function(){return t&&t({type:"global/changeLayoutCollapsed",payload:!r})},T=function(){return p.default.createElement("div",{className:C.default.popover},p.default.createElement("div",{className:C.default.popoverHeader},p.default.createElement("p",null,"Surveillacnce Dep."),p.default.createElement("p",null,"thomaschow@hkex.com")),p.default.createElement("div",{className:C.default.popoverContent},p.default.createElement("div",{className:C.default.left},p.default.createElement("div",{className:C.default.imgBox}),p.default.createElement("span",null,"Profile")),p.default.createElement("div",{className:C.default.right},p.default.createElement("div",{className:C.default.imgBox}),p.default.createElement("span",null,"Setting"))),p.default.createElement("div",{className:C.default.popoverFooter},p.default.createElement("a",{onClick:function(){t&&t({type:"login/logout"})}},"Sign Out")))},O=function(){return p.default.createElement("div",{className:C.default.headerRender},p.default.createElement("div",{className:C.default.left},p.default.createElement(i.default,{className:C.default.collapsed,type:r?"menu-unfold":"menu-fold",onClick:function(){return P()}})),p.default.createElement("div",{className:C.default.right},p.default.createElement("div",{className:C.default.info},p.default.createElement(u.default,{dot:!0},p.default.createElement(S.default,{type:"icon-xiaoxi",className:C.default.bell}))),p.default.createElement("div",{className:C.default.user},p.default.createElement(S.default,{type:"icon-usercircle",className:C.default.avatar}),p.default.createElement("span",{title:"Thomas Chow",className:C.default.username},window.localStorage.loginName),p.default.createElement(d.default,{placement:"bottomRight",content:T(),trigger:"click",overlayClassName:"userinfo"},p.default.createElement(i.default,{type:"caret-down"})))))};return p.default.createElement("div",{className:"proLayout"},p.default.createElement(f.default,(0,n.default)({iconfontUrl:"http://".concat(window.location.host,"/iconfont.js"),siderWidth:250,logo:r?D.default:w.default,headerRender:O,menuHeaderRender:function(e){return p.default.createElement("a",{onClick:function(){y.default.push("/")}},e)},onCollapse:P,menuItemRender:function(e,t){return e.isUrl||e.children?t:e.iframeUrl?p.default.createElement(m.default,{to:{pathname:e.path,query:{iframeUrl:e.iframeUrl}}},t):p.default.createElement(m.default,{to:e.path},t)},breadcrumbRender:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{path:"/",breadcrumbName:(0,v.formatMessage)({id:"menu.home",defaultMessage:"Home"})}].concat((0,o.default)(e))},itemRender:function(e,t,a,l){var r=0===a.indexOf(e);return r?p.default.createElement(m.default,{to:l.join("/")},e.breadcrumbName):p.default.createElement("span",null,e.breadcrumbName)},footerRender:M,menuDataRender:function(){return x(c)},formatMessage:v.formatMessage,rightContentRender:function(e){return p.default.createElement(E.default,e)}},e,l,{menuProps:{openKeys:k,onOpenChange:function(e){var t=e.slice(-1)?e.slice(-1)[0]:"";-1===c.map(function(e){return e.page}).indexOf(t)?I(e):I(t?[t]:[])}}}),a))},I=(0,g.connect)(function(e){var t=e.global,a=e.settings,l=e.menu;return{collapsed:t.collapsed,settings:a,menuData:l.menuData}})(k);t.default=I},nUXP:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var r=l(a("/wGt"));a("y8nQ");var n=l(a("Vl3Y"));a("DZo9");var o=l(a("8z0m"));a("+L6B");var d=l(a("2/Rp"));a("Pwec");var u=l(a("CtXQ")),i=l(a("p0pE")),s=l(a("Y/ft")),c=l(a("q1tI")),f=a("LLXN"),p=l(a("/PE8")),m=function(e){return e/1024/1024<5};function g(e){var t=e.form,a=e.visible,l=e.handleCancel,g=e.handleUpload,v=t.getFieldDecorator,h=t.validateFields;function y(){h(function(e,a){if(!e){var l=a.uploadFiles,r=(0,s.default)(a,["uploadFiles"]),n=l&&l.length&&l[0].response||{},o=n.bcjson,d=o||{},u=d.flag,c=d.items,f=void 0===c?{}:c;if("1"===u&&f){var p=f.relativeUrl.split("/"),m=p.slice(-1)[0],v=p.slice(1,-1).reduce(function(e,t){return"".concat(e).concat(t,"/")},""),h=m.replace(/\d{8}_\d{1}_/,"");g((0,i.default)({fileName:m,fileDir:v,fileType:h},r)),t.resetFields()}}})}return c.default.createElement(r.default,{title:c.default.createElement(f.FormattedMessage,{id:"data-import.market.manual-upload"}),width:320,closable:!1,bodyStyle:{paddingBottom:80},visible:a,onClose:l},c.default.createElement(n.default,{layout:"inline"},c.default.createElement(n.default.Item,{label:c.default.createElement(f.FormattedMessage,{id:"data-import.market.file"})},v("uploadFiles",{rules:[{validator:function(e,t,a){if(!t)return a("Please select a file!");if(t&&t.length){var l=t[0];if(!m(l.size))return a("file size must less than 5M");if(l.error)return a(l.error.message)}return a()}}],valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList.slice(-1)}})(c.default.createElement(o.default,{accept:".xlsm,.csv,.xls,.xlsx,.pdf,application/msexcel",action:"/upload?fileClass=MARKET",beforeUpload:function(e){return m(e.size)}},c.default.createElement(d.default,null,c.default.createElement(u.default,{type:"upload"}),c.default.createElement(f.FormattedMessage,{id:"data-import.lop.browse"})))))),c.default.createElement("div",{className:p.default["bottom-btns"]},c.default.createElement(d.default,{onClick:l},"Cancel"),c.default.createElement(d.default,{type:"primary",onClick:y},"Commit")))}var v=n.default.create()(g);t.default=v},sV7J:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=l(a("2/Rp"));a("14J3");var n=l(a("BMrR"));a("5NDa");var o=l(a("5rEg"));a("jCWc");var d=l(a("kPKH"));a("y8nQ");var u=l(a("Vl3Y")),i=l(a("p0pE")),s=l(a("qIgq")),c=l(a("Y/ft"));a("OaEy");var f=l(a("2fM7"));a("iQDF");var p=l(a("+eQT")),m=l(a("q1tI")),g=a("LLXN"),v=a("8Br5"),h=l(a("/PE8")),y=p.default.RangePicker,b=f.default.Option;function E(e){var t=e.form,a=e.handleSearch,l=t.getFieldDecorator,p=t.validateFields;function E(){p(function(e,t){if(!e){var l="YYYYMMDD",r=t.tradeDate,n=t.submissionDate,o=(0,c.default)(t,["tradeDate","submissionDate"]),d="",u="",f="",p="";if(r){var m=(0,s.default)(r,2),g=m[0],v=m[1];f=g&&g.format(l),p=v&&v.format(l)}if(n){var h=(0,s.default)(n,2),y=h[0],b=h[1];d=y&&y.format(l),u=b&&b.format(l)}a((0,i.default)({},o,{startTradeDate:f,endTadeDate:p,startSubmissionDate:d,endSubmissionDate:u}))}})}return m.default.createElement(u.default,{layout:"vertical",className:h.default.form},m.default.createElement(n.default,null,m.default.createElement(d.default,{span:7},m.default.createElement(u.default.Item,{label:m.default.createElement(g.FormattedMessage,{id:"data-import.lop.trade-date"})},l("tradeDate",{initialValue:[v.yesterday,v.today],rules:[{required:!1,message:"Please select trade date!"}]})(m.default.createElement(y,{format:v.dateFormat})))),m.default.createElement(d.default,{span:7,offset:1},m.default.createElement(u.default.Item,{label:m.default.createElement(g.FormattedMessage,{id:"data-import.lop.submission-report"})},l("submissionReport",{rules:[{required:!1,message:"Please select submission report!"}]})(m.default.createElement(f.default,{placeholder:"please select submission report",allowClear:!0},v.SUBMISSION_REPORT.map(function(e){return m.default.createElement(b,{key:e},e)}))))),m.default.createElement(d.default,{span:7,offset:1},m.default.createElement(u.default.Item,{label:m.default.createElement(g.FormattedMessage,{id:"data-import.lop.submitter-code"})},l("submitterCode",{rules:[{required:!1,message:"Please input submitter code!"}]})(m.default.createElement(o.default,{placeholder:"please input submitter code"}))))),m.default.createElement(n.default,null,m.default.createElement(d.default,{span:7},m.default.createElement(u.default.Item,{label:m.default.createElement(g.FormattedMessage,{id:"data-import.lop.submitter-name"})},l("submitterName",{rules:[{required:!1,message:"Please input submitter name!"}]})(m.default.createElement(o.default,{placeholder:"please input submitter name"}))))),m.default.createElement(n.default,{type:"flex",justify:"end"},m.default.createElement(r.default,{type:"primary",icon:"search",className:h.default["no-margin"],onClick:E},m.default.createElement(g.FormattedMessage,{id:"data-import.lop.search"}))))}var w=u.default.create()(E);t.default=w},u3cq:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u,a("g9YV");var r=l(a("wCAj")),n=l(a("q1tI")),o=a("LLXN"),d=r.default.Column;function u(e){var t=e.dataSource,a=e.loading,l=e.total,u=e.handlePageChange,i=e.handlePageSizeChange;return n.default.createElement(r.default,{dataSource:t,loading:a,pagination:{total:l,pageSizeOptions:["10","20","50","100"],showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(e,t){u(e,t)},onShowSizeChange:function(e,t){i(e,t)}}},n.default.createElement(d,{align:"center",dataIndex:"tradeDate",title:n.default.createElement(o.FormattedMessage,{id:"data-import.market.trade-date"})}),n.default.createElement(d,{align:"center",dataIndex:"market",title:n.default.createElement(o.FormattedMessage,{id:"data-import.market.market"})}),n.default.createElement(d,{dataIndex:"fileType",title:n.default.createElement(o.FormattedMessage,{id:"data-import.market.file-type"})}),n.default.createElement(d,{dataIndex:"uploadDate",title:n.default.createElement(o.FormattedMessage,{id:"data-import.market.upload-date"})}),n.default.createElement(d,{align:"center",dataIndex:"uploadChannel",title:n.default.createElement(o.FormattedMessage,{id:"data-import.market.upload-channel"})}),n.default.createElement(d,{dataIndex:"statusMark",title:n.default.createElement(o.FormattedMessage,{id:"data-import.market.status"})}),n.default.createElement(d,{dataIndex:"description",title:n.default.createElement(o.FormattedMessage,{id:"data-import.market.description"})}))}},vt1u:function(e,t,a){e.exports={listBox:"antd-pro-components-list-index-listBox",liActive:"antd-pro-components-list-index-liActive"}},yFqQ:function(e,t,a){e.exports=a.p+"static/logo-small.5712abd8.png"},zNtm:function(e,t,a){e.exports={titleBox:"antd-pro-pages-dataset-management-dataset-management-titleBox"}},zwU1:function(e,t,a){e.exports=a.p+"static/logo.a36066ba.png"}}]);