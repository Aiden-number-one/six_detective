(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{h07G:function(e,t,r){"use strict";var a=r("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getLogs=l,t.postManual=d,t.postAuto=w,t.default=t.pageSelector=void 0,r("miYZ");var n=a(r("tsqr")),u=a(r("d6i3")),s=a(r("p0pE")),o=a(r("1l/V")),c=r("jveU"),p="YYYYMMDD";function l(){return i.apply(this,arguments)}function i(){return i=(0,o.default)(u.default.mark(function e(){var t,r,a,n,s,o,l,i,d,f=arguments;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},r=t.page,a=void 0===r?1:r,n=t.pageSize,s=void 0===n?10:n,o=t.market,l=t.tradeDateSt,i=t.tradeDateEt,d=t.fileType,e.abrupt("return",(0,c.request)("get_md_proc_progress",{data:{pageNumber:a.toString(),pageSize:s.toString(),market:o&&o.toString(),fileType:d,tradeDateSt:l&&l.format(p),tradeDateEt:i&&i.format(p)}}));case 3:case"end":return e.stop()}},e)})),i.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=(0,o.default)(u.default.mark(function e(t){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("set_imp_his_add",{data:t}));case 1:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function w(){return h.apply(this,arguments)}function h(){return h=(0,o.default)(u.default.mark(function e(){return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("set_market_task_execute"));case 1:case"end":return e.stop()}},e)})),h.apply(this,arguments)}var v=function(e){var t=e.lop;return t.page};t.pageSelector=v;var y={namespace:"market",state:{logs:[],total:0},reducers:{save:function(e,t){var r=t.payload,a=r.logs,n=r.total;return(0,s.default)({},e,{logs:a,total:n})}},effects:{fetch:u.default.mark(function e(t,r){var a,n,s,o,c,p,i;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.call,s=r.put,e.next=4,n(l,a);case 4:if(o=e.sent,c=o.items,p=o.totalCount,i=o.err,!i){e.next=10;break}throw new Error(i);case 10:return e.next=12,s({type:"save",payload:{logs:c,total:p}});case 12:case"end":return e.stop()}},e)}),importByManual:u.default.mark(function e(t,r){var a,s,o,c;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,s=r.call,e.next=4,s(d,a);case 4:if(o=e.sent,c=o.err,!c){e.next=8;break}throw new Error(c);case 8:n.default.success("upload success");case 9:case"end":return e.stop()}},e)}),importByAuto:u.default.mark(function e(t,r){var a,s,o,c,p;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,s=r.call,o=r.put,e.next=4,s(w);case 4:if(c=e.sent,p=c.err,!p){e.next=8;break}throw new Error(p);case 8:return n.default.success("execute success"),e.next=11,o({type:"reload",payload:a});case 11:case"end":return e.stop()}},e)}),reload:u.default.mark(function e(t,r){var a,n;return u.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,n=r.put,e.next=4,n({type:"fetch",payload:a});case 4:case"end":return e.stop()}},e)})}};t.default=y}}]);