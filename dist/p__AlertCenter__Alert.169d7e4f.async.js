(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"3ATK":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.AlertDes=F,t.default=void 0,a("Q9mQ");var r=n(a("diRs"));a("14J3");var c=n(a("BMrR"));a("jCWc");var o=n(a("kPKH"));a("+L6B");var d=n(a("2/Rp")),u=n(a("qIgq"));a("bbsP");var i=n(a("/wGt"));a("bP8k");var s=n(a("gFTJ"));a("tU7J");var f=n(a("wFql"));a("g9YV");var m=n(a("wCAj"));a("5NDa");var p=n(a("5rEg"));a("Znn+");var E=n(a("ZTPi")),b=l(a("q1tI")),g=a("LLXN"),y=n(a("mOP9")),v=a("MuoO"),h=n(a("BN5G")),w=n(a("H7wn")),x=E.default.TabPane,C=p.default.TextArea,k=m.default.Column,M=f.default.Paragraph,I=f.default.Text;function F(e){var t=e.alert,a=t.alertId,l=t.alertType,n=t.alertStatus,r=t.alertTime,c=t.alertDesc,o=t.tradeDate,d=t.submissionTime,u=t.submitter,i=t.owner;return b.default.createElement(s.default,{column:1},b.default.createElement(s.default.Item,{label:b.default.createElement(g.FormattedMessage,{id:"alert-center.alert-id"})},a),b.default.createElement(s.default.Item,{label:b.default.createElement(g.FormattedMessage,{id:"alert-center.alert-type"})},l),b.default.createElement(s.default.Item,{label:b.default.createElement(g.FormattedMessage,{id:"alert-center.trade-date"})},o),b.default.createElement(s.default.Item,{label:b.default.createElement(g.FormattedMessage,{id:"alert-center.alert-timestamp"})},r),b.default.createElement(s.default.Item,{label:b.default.createElement(g.FormattedMessage,{id:"alert-center.submission-time"})},d),b.default.createElement(s.default.Item,{label:b.default.createElement(g.FormattedMessage,{id:"alert-center.submitter"})},u),b.default.createElement(s.default.Item,{label:b.default.createElement(g.FormattedMessage,{id:"alert-center.description"})},b.default.createElement(M,{ellipsis:{rows:3,expandable:!0}},c)),b.default.createElement(s.default.Item,{label:b.default.createElement(g.FormattedMessage,{id:"alert-center.owner"})},i),b.default.createElement(s.default.Item,{label:b.default.createElement(g.FormattedMessage,{id:"alert-center.status"})},n))}function N(e){var t=e.visible,a=e.handleCancel;return b.default.createElement(i.default,{title:b.default.createElement(g.FormattedMessage,{id:"alert-center.assign"}),width:320,visible:t,onClose:a},"1323")}function S(e){var t=e.dataSource,a=(0,b.useState)(!1),l=(0,u.default)(a,2),n=l[0],r=l[1],c=(0,b.useState)([]),o=(0,u.default)(c,2),i=o[0],s=o[1];return b.default.createElement(b.default.Fragment,null,b.default.createElement(N,{visible:n,handleCancel:function(){return r(!1)}}),b.default.createElement(d.default,{style:{marginBottom:10},disabled:!i.length,onClick:function(){return r(!0)}},b.default.createElement(g.FormattedMessage,{id:"alert-center.assign"})),b.default.createElement(m.default,{border:!0,dataSource:t,rowKey:"epCode",scroll:{y:320},rowSelection:{onChange:function(e){s(e)}}},b.default.createElement(k,{align:"center",dataIndex:"market",title:b.default.createElement(g.FormattedMessage,{id:"alert-center.market"})}),b.default.createElement(k,{align:"center",dataIndex:"epCode",title:b.default.createElement(g.FormattedMessage,{id:"alert-center.ep-code"})}),b.default.createElement(k,{dataIndex:"epName",title:b.default.createElement(g.FormattedMessage,{id:"alert-center.ep-name"})}),b.default.createElement(k,{dataIndex:"owner",title:b.default.createElement(g.FormattedMessage,{id:"alert-center.owner"})}),b.default.createElement(k,{align:"center",dataIndex:"status",title:b.default.createElement(g.FormattedMessage,{id:"alert-center.status"})}),b.default.createElement(k,{align:"center",dataIndex:"action",title:b.default.createElement(g.FormattedMessage,{id:"alert-center.action"}),render:function(){return b.default.createElement(y.default,{to:"/system-management/workflow-design",style:{fontSize:12}},b.default.createElement(g.FormattedMessage,{id:"alert-center.enter-workflow"}))}})))}function P(e){var t=e.attachments;return b.default.createElement(r.default,{placement:"bottomRight",title:b.default.createElement(g.FormattedMessage,{id:"alert-center.attachement-list"}),content:b.default.createElement(c.default,{style:{padding:"6px 14px",width:240,maxHeight:150,overflowY:"auto"}},t.map(function(e,t){var a=e.name,l=e.url;return b.default.createElement(o.default,{key:l},b.default.createElement(I,{ellipsis:!0,style:{width:"100%"},title:a},b.default.createElement("a",{download:!0,href:"/download?filePath=".concat(l),style:{marginBottom:20}},t+1,". ",a)))}))},b.default.createElement(h.default,{type:"iconbiezhen"}),t.length)}function A(e){var t=e.comment,a=t.time,l=t.text,n=t.attachments;return b.default.createElement("li",{key:"".concat(a,"-").concat(l)},b.default.createElement(c.default,null,b.default.createElement(o.default,{span:18,style:{color:"#0D87D4"}},a),b.default.createElement(o.default,{span:5,offset:1,align:"right"},n&&b.default.createElement(P,{attachments:n}))),b.default.createElement(c.default,null,b.default.createElement(M,{ellipsis:{rows:3,expandable:!0}},l)))}function T(e){var t=e.log,a=t.time,l=t.text;return b.default.createElement(b.default.Fragment,null,b.default.createElement(o.default,{span:9},a),b.default.createElement(o.default,{span:15},b.default.createElement(M,{ellipsis:{rows:3,expandable:!0}},l)))}function O(e){var t=e.dispatch,a=e.alert,l=e.alertItems,n=(0,b.useState)(!1),r=(0,u.default)(n,2),i=r[0],s=r[1];return(0,b.useEffect)(function(){t({type:"alertCenter/fetchAlertItems",payload:{alertType:a.alertType}})},[a]),b.default.createElement(c.default,{className:w.default["detail-container"],gutter:16},b.default.createElement(o.default,{span:16,className:i?w.default.fullscreen:""},b.default.createElement(E.default,{hideAdd:!0,className:w.default["detail-des"],defaultActiveKey:"1",tabBarExtraContent:b.default.createElement(h.default,{type:i?"iconfullscreen-exit":"iconfull-screen",className:w.default["fullscreen-icon"],onClick:function(){return s(!i)}})},b.default.createElement(x,{className:w.default["tab-content"],closable:!1,tab:b.default.createElement(g.FormattedMessage,{id:"alert-center.alert-detail"}),key:""},b.default.createElement(F,{alert:a})),b.default.createElement(x,{className:w.default["tab-content"],closable:!1,tab:b.default.createElement(g.FormattedMessage,{id:"alert-center.alert-item-list"}),key:"2"},b.default.createElement(S,{dataSource:l})))),b.default.createElement(o.default,{span:8},b.default.createElement(E.default,{defaultActiveKey:"1",className:w.default["detail-comment"]},b.default.createElement(x,{tab:b.default.createElement(g.FormattedMessage,{id:"alert-center.comment-history"}),key:"1"},b.default.createElement("ul",{className:w.default["comment-ul"]},a.comments&&a.comments.map(function(e){return b.default.createElement(A,{comment:e,key:e.time})})),b.default.createElement("div",{className:w.default["comment-box"]},b.default.createElement(C,{placeholder:"COMMENT",className:w.default.txt}),b.default.createElement(c.default,{className:w.default["comment-commit"],type:"flex",align:"middle",justify:"space-between"},b.default.createElement(o.default,{span:11,offset:1},b.default.createElement(d.default,{type:"primary"},"Phase")),b.default.createElement(o.default,{span:6},"attachments"),b.default.createElement(o.default,{span:6,align:"right"},b.default.createElement(d.default,{type:"primary"},"Submit"))))),b.default.createElement(x,{className:w.default["tab-content"],tab:b.default.createElement(g.FormattedMessage,{id:"alert-center.alert-lifecycle"}),key:"2"},b.default.createElement(c.default,{gutter:[10,10],style:{height:440,overflowY:"auto"}},a.logs&&a.logs.map(function(e){return b.default.createElement(T,{log:e,key:e.time})}))))))}var j=(0,v.connect)(function(e){var t=e.loading,a=e.alertCenter.alertItems;return{alertItems:a,loading:t.effects}})(O);t.default=j},a3ln:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(a("qIgq")),c=l(a("q1tI")),o=a("Hx5s"),d=n(a("3ATK")),u=n(a("sPvl")),i=n(a("H7wn"));function s(){var e=(0,c.useState)(null),t=(0,r.default)(e,2),a=t[0],l=t[1];return c.default.createElement(o.PageHeaderWrapper,null,c.default.createElement("div",{className:i.default["list-container"]},c.default.createElement(u.default,{getAlert:function(e){return l(e)}}),a&&c.default.createElement(d.default,{alert:a})))}},bP8k:function(e,t,a){"use strict";a.r(t);a("cIOH"),a("jhiw")},gFTJ:function(e,t,a){"use strict";a.r(t);var l=a("q1tI"),n=a("TSYQ"),r=a.n(n),c=a("Zm9Q"),o=a("6CfX"),d=a("ACnJ"),u=a("H84U");function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s=function(e){var t,a=e.child,n=e.bordered,c=e.colon,o=e.type,d=e.layout,u=a.props,s=u.prefixCls,f=u.label,m=u.className,p=u.children,E=u.span,b=void 0===E?1:E,g={className:r()("".concat(s,"-item-label"),m,(t={},i(t,"".concat(s,"-item-colon"),c),i(t,"".concat(s,"-item-no-label"),!f),t)),key:"label"};return"vertical"===d&&(g.colSpan=2*b-1),n?"label"===o?l["createElement"]("th",g,f):l["createElement"]("td",{className:r()("".concat(s,"-item-content"),m),key:"content",colSpan:2*b-1},p):"vertical"===d?"content"===o?l["createElement"]("td",{colSpan:b,className:r()("".concat(s,"-item"),m)},l["createElement"]("span",{className:"".concat(s,"-item-content"),key:"content"},p)):l["createElement"]("td",{colSpan:b,className:r()("".concat(s,"-item"),m)},l["createElement"]("span",{className:r()("".concat(s,"-item-label"),i({},"".concat(s,"-item-colon"),c)),key:"label"},f)):l["createElement"]("td",{colSpan:b,className:r()("".concat(s,"-item"),m)},l["createElement"]("span",g,f),l["createElement"]("span",{className:"".concat(s,"-item-content"),key:"content"},p))},f=s;function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function g(e,t,a){return t&&b(e.prototype,t),a&&b(e,a),e}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}var C=function(e){var t=e.children;return t},k=function(e,t){var a,n=[],r=null,d=Object(c["a"])(e);return d.forEach(function(e,c){var u=e;r||(a=t,r=[],n.push(r));var i=c===d.length-1,s=!0;i&&(s=!u.props.span||u.props.span===a,u=l["cloneElement"](u,{span:a}));var f=u.props.span,m=void 0===f?1:f;r.push(u),a-=m,a<=0&&(r=null,Object(o["a"])(0===a&&s,"Descriptions","Sum of column `span` in a line exceeds `column` of Descriptions."))}),n},M=function(e,t,a,n,r,o){var d=a.prefixCls,u=function(e,t,a){return l["createElement"](f,{child:e,bordered:n,colon:o,type:t,key:"".concat(t,"-").concat(e.key||a),layout:r})},i=[],s=[];return Object(c["a"])(e).forEach(function(e,t){i.push(u(e,"label",t)),"vertical"===r?s.push(u(e,"content",t)):n&&i.push(u(e,"content",t))}),"vertical"===r?[l["createElement"]("tr",{className:"".concat(d,"-row"),key:"label-".concat(t)},i),l["createElement"]("tr",{className:"".concat(d,"-row"),key:"content-".concat(t)},s)]:l["createElement"]("tr",{className:"".concat(d,"-row"),key:t},i)},I={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},F=function(e){function t(){var e;return E(this,t),e=y(this,h(t).apply(this,arguments)),e.state={screens:{}},e}return w(t,e),g(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.column;this.token=d["a"].subscribe(function(a){"object"===p(t)&&e.setState({screens:a})})}},{key:"componentWillUnmount",value:function(){d["a"].unsubscribe(this.token)}},{key:"getColumn",value:function(){var e=this.props.column;if("object"===p(e))for(var t=0;t<d["b"].length;t++){var a=d["b"][t];if(this.state.screens[a]&&void 0!==e[a])return e[a]||I[a]}return"number"===typeof e?e:3}},{key:"render",value:function(){var e=this;return l["createElement"](u["a"],null,function(t){var a,n=t.getPrefixCls,o=e.props,d=o.className,u=o.prefixCls,i=o.title,s=o.size,f=o.children,p=o.bordered,E=void 0!==p&&p,b=o.layout,g=void 0===b?"horizontal":b,y=o.colon,v=void 0===y||y,h=o.style,w=n("descriptions",u),x=e.getColumn(),C=Object(c["a"])(f).map(function(e){return l["isValidElement"](e)?l["cloneElement"](e,{prefixCls:w}):null}).filter(function(e){return e}),I=k(C,x);return l["createElement"]("div",{className:r()(w,d,(a={},m(a,"".concat(w,"-").concat(s),"default"!==s),m(a,"".concat(w,"-bordered"),!!E),a)),style:h},i&&l["createElement"]("div",{className:"".concat(w,"-title")},i),l["createElement"]("div",{className:"".concat(w,"-view")},l["createElement"]("table",null,l["createElement"]("tbody",null,I.map(function(e,t){return M(e,t,{prefixCls:w},E,g,v)})))))})}}]),t}(l["Component"]);F.defaultProps={size:"default",column:I},F.Item=C;t["default"]=F},jhiw:function(e,t,a){e.exports={"ant-descriptions-title":"ant-descriptions-title","ant-descriptions-view":"ant-descriptions-view","ant-descriptions-row":"ant-descriptions-row","ant-descriptions-item-label":"ant-descriptions-item-label","ant-descriptions-item-colon":"ant-descriptions-item-colon","ant-descriptions-item-no-label":"ant-descriptions-item-no-label","ant-descriptions-item-content":"ant-descriptions-item-content","ant-descriptions-item":"ant-descriptions-item","ant-descriptions-middle":"ant-descriptions-middle","ant-descriptions-small":"ant-descriptions-small","ant-descriptions-bordered":"ant-descriptions-bordered"}},sPvl:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_PAGE_SIZE=t.DEFAULT_PAGE=void 0;var r=n(a("qIgq"));a("14J3");var c=n(a("BMrR"));a("jCWc");var o=n(a("kPKH"));a("+L6B");var d=n(a("2/Rp"));a("2qtc");var u=n(a("kLXV"));a("g9YV");var i=n(a("wCAj")),s=l(a("q1tI")),f=n(a("mOP9")),m=a("MuoO"),p=a("LLXN"),E=n(a("BN5G")),b=n(a("S58F")),g=n(a("H7wn")),y=i.default.Column,v=1;t.DEFAULT_PAGE=v;var h=10;function w(e){var t=e.selectedKeys,a=e.claimAlert,l=e.closeAlert,n=e.exportAlert;return s.default.createElement(c.default,{className:g.default.btns},s.default.createElement(o.default,{span:18},s.default.createElement(d.default,{type:"primary",disabled:!t.length,onClick:function(){return u.default.confirm({title:"Confirm",content:"Are you sure claim these alerts?",okText:"Sure",cancelText:"Cancel",onOk:function(){return a(t)}})}},s.default.createElement(E.default,{type:"iconqizhi",className:g.default["btn-icon"]}),s.default.createElement(p.FormattedMessage,{id:"alert-center.claim"})),s.default.createElement(d.default,{disabled:!t.length,onClick:l},s.default.createElement(E.default,{type:"iconic_circle_close",className:g.default["btn-icon"]}),s.default.createElement(p.FormattedMessage,{id:"alert-center.close"})),s.default.createElement(d.default,{disabled:!t.length,onClick:n},s.default.createElement(E.default,{type:"iconbatch-export",className:g.default["btn-icon"]}),s.default.createElement(p.FormattedMessage,{id:"alert-center.export"}))),s.default.createElement(o.default,{span:6,align:"right"},s.default.createElement(d.default,{type:"link"},s.default.createElement(f.default,{to:"/alert-center/information"},"information"))))}function x(e){var t=e.dispatch,a=e.loading,l=e.alerts,n=e.total,o=e.getAlert,d=(0,s.useState)([]),f=(0,r.default)(d,2),m=f[0],v=f[1];function h(e){t({type:"alertCenter/claim",payload:{alertIds:e}})}return(0,s.useEffect)(function(){t({type:"alertCenter/fetch"})},[]),(0,s.useEffect)(function(){if(l&&l.length>0){var e=(0,r.default)(l,1),t=e[0];o(t)}},[l]),s.default.createElement("div",{className:g.default.list},s.default.createElement(w,{selectedKeys:m,claimAlert:h}),s.default.createElement(i.default,{border:!0,dataSource:l,rowKey:"alertId",loading:a["alertCenter/fetch"],rowSelection:{onChange:function(e){v(e)}},pagination:{total:n,showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(e,a){t({type:"alertCenter/fetch",payload:{page:e,pageSize:a}})},onShowSizeChange:function(e,a){t({type:"alertCenter/fetch",payload:{page:e,pageSize:a}})}},onRow:function(e){return{onClick:function(){o(e)}}}},s.default.createElement(y,{align:"center",dataIndex:"alertId",title:s.default.createElement(b.default,null,s.default.createElement(p.FormattedMessage,{id:"alert-center.alert-id"}))}),s.default.createElement(y,{align:"center",dataIndex:"alertType",title:s.default.createElement(b.default,null,s.default.createElement(p.FormattedMessage,{id:"alert-center.alert-type"}))}),s.default.createElement(y,{align:"center",dataIndex:"tradeDate",title:s.default.createElement(p.FormattedMessage,{id:"alert-center.trade-date"})}),s.default.createElement(y,{align:"center",dataIndex:"alertTime",title:s.default.createElement(p.FormattedMessage,{id:"alert-center.alert-timestamp"})}),s.default.createElement(y,{align:"center",dataIndex:"itemsTotal",title:s.default.createElement(p.FormattedMessage,{id:"alert-center.items-total"})}),s.default.createElement(y,{dataIndex:"owner",title:s.default.createElement(p.FormattedMessage,{id:"alert-center.owner"})}),s.default.createElement(y,{align:"center",dataIndex:"alertStatus",title:s.default.createElement(p.FormattedMessage,{id:"alert-center.status"})}),s.default.createElement(y,{align:"center",dataIndex:"action",title:s.default.createElement(p.FormattedMessage,{id:"alert-center.action"}),render:function(e,t){return s.default.createElement(c.default,{className:g.default.btns},s.default.createElement(E.default,{type:"iconqizhi",className:g.default.icon,title:(0,p.formatMessage)({id:"alert-center.claim"}),onClick:function(){return u.default.confirm({title:"Confirm",content:"Are you sure claim this alert?",okText:"Sure",cancelText:"Cancel",onOk:function(){return h([t.alertId])}})}}),s.default.createElement(E.default,{type:"iconic_circle_close",className:g.default.icon,title:(0,p.formatMessage)({id:"alert-center.close"})}))}})))}t.DEFAULT_PAGE_SIZE=h;var C=(0,m.connect)(function(e){var t=e.loading,a=e.alertCenter,l=a.alerts,n=a.alertItems,r=a.page,c=a.total;return{alerts:l,page:r,total:c,alertItems:n,loading:t.effects}})(x);t.default=C}}]);