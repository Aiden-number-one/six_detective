(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{UYam:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=m,a("g9YV");var r=l(a("wCAj")),d=l(a("q1tI")),n=a("LLXN"),u=l(a("BN5G")),i=r.default.Column,s=(0,n.formatMessage)({id:"data-import.lop.submission-report"}),o=(0,n.formatMessage)({id:"data-import.lop.processing-status"});function m(e){var t=e.dataSource,a=e.loading,l=e.total,m=e.handlePageChange,f=e.handlePageSizeChange;return d.default.createElement(r.default,{dataSource:t,rowKey:"lopImpId",loading:a,pagination:{total:l,pageSizeOptions:["10","20","50","100"],showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(e,t){m(e,t)},onShowSizeChange:function(e,t){f(e,t)}}},d.default.createElement(i,{width:"10%",align:"center",dataIndex:"tradeDate",title:d.default.createElement(n.FormattedMessage,{id:"data-import.lop.trade-date"})}),d.default.createElement(i,{align:"center",dataIndex:"submitterCode",title:d.default.createElement(n.FormattedMessage,{id:"data-import.lop.submitter-code"})}),d.default.createElement(i,{align:"center",dataIndex:"submitterName",title:d.default.createElement(n.FormattedMessage,{id:"data-import.lop.submitter-name"})}),d.default.createElement(i,{ellipsis:!0,dataIndex:"submissionReport",title:d.default.createElement("span",{title:s},s)}),d.default.createElement(i,{width:"10%",align:"center",dataIndex:"submissionChannel",title:d.default.createElement(n.FormattedMessage,{id:"data-import.lop.submission-channel"})}),d.default.createElement(i,{width:"10%",align:"center",dataIndex:"submissionDate",title:d.default.createElement(n.FormattedMessage,{id:"data-import.lop.submission-date"})}),d.default.createElement(i,{width:"10%",align:"center",dataIndex:"submissionStatus",title:d.default.createElement(n.FormattedMessage,{id:"data-import.lop.submission-status"})}),d.default.createElement(i,{width:"10%",align:"center",dataIndex:"lateSubmission",title:d.default.createElement(n.FormattedMessage,{id:"data-import.lop.late-submission"})}),d.default.createElement(i,{align:"center",dataIndex:"arrivalTime",title:d.default.createElement(n.FormattedMessage,{id:"data-import.lop.arrival-time"})}),d.default.createElement(i,{ellipsis:!0,align:"center",dataIndex:"processingStatus",title:d.default.createElement("span",{title:o},o)}),d.default.createElement(i,{align:"center",dataIndex:"download",title:d.default.createElement(n.FormattedMessage,{id:"data-import.lop.download"}),render:function(){return d.default.createElement("a",{href:"/download?filePath=/ECP/LOPBI_00BNP_20000925_43.xlsm"},d.default.createElement(u.default,{type:"icondownload",style:{fontSize:24,cursor:"pointer"}}))}}))}},"c6D+":function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.LopLog=b,t.default=void 0,a("14J3");var d=r(a("BMrR"));a("+L6B");var n=r(a("2/Rp")),u=r(a("p0pE")),i=r(a("qIgq")),s=l(a("q1tI")),o=a("MuoO"),m=a("Hx5s"),f=a("LLXN"),c=r(a("sV7J")),p=r(a("UYam")),E=r(a("jbR8")),g=r(a("/PE8"));function b(e){var t=e.dispatch,a=e.loading,l=e.logs,r=e.total,o=(0,s.useState)(!1),b=(0,i.default)(o,2),v=b[0],y=b[1],M=(0,s.useState)({}),S=(0,i.default)(M,2),h=S[0],I=S[1];function P(e){I(e),t({type:"lop/reload",payload:e})}function F(e,a){t({type:"lop/reload",payload:(0,u.default)({page:e,pageSize:a},h)})}return(0,s.useEffect)(function(){t({type:"lop/fetch"})},[]),s.default.createElement(m.PageHeaderWrapper,null,s.default.createElement("div",{className:g.default.container},s.default.createElement(c.default,{handleSearch:P}),s.default.createElement(E.default,{visible:v,handleCancel:function(){return y(!1)},handleUpload:function(e){return t({type:"lop/importByManual",payload:e})}}),s.default.createElement(d.default,{className:g.default["btn-group"]},s.default.createElement(n.default,{type:"primary",className:g.default["no-margin"],onClick:function(){return y(!0)}},s.default.createElement(f.FormattedMessage,{id:"data-import.lop.manual-import"}))),s.default.createElement(p.default,{total:r,dataSource:l,loading:a["lop/fetch"],handlePageChange:F,handlePageSizeChange:F})))}var v=(0,o.connect)(function(e){var t=e.loading,a=e.lop,l=a.logs,r=a.page,d=a.total;return{loading:t.effects,logs:l,page:r,total:d}})(b);t.default=v},d9v2:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.today=t.yesterday=t.dateFormat=t.SUBMISSION_REPORT=t.PROCESSING_STATUS=void 0;var r=l(a("wd/R")),d=["wait for validation","failed validation","validated","processing","failed processing","processed","canceled"];t.PROCESSING_STATUS=d;var n=["LOPBI","LOPTO","SOLBI","SOLTO","EXCESS POSITION LIMIT FOR ETF MARKET MAKERS REPORTING"];t.SUBMISSION_REPORT=n;var u="MM-DD-YYYY";t.dateFormat=u;var i=(0,r.default)().subtract(1,"days");t.yesterday=i;var s=(0,r.default)();t.today=s},jbR8:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var r=l(a("/wGt"));a("DZo9");var d=l(a("8z0m"));a("+L6B");var n=l(a("2/Rp"));a("Pwec");var u=l(a("CtXQ"));a("5NDa");var i=l(a("5rEg"));a("y8nQ");var s=l(a("Vl3Y"));a("iQDF");var o=l(a("+eQT")),m=l(a("p0pE")),f=l(a("Y/ft"));a("OaEy");var c=l(a("2fM7")),p=l(a("q1tI")),E=a("LLXN"),g=a("d9v2"),b=l(a("/PE8")),v=c.default.Option,y=function(e){return e/1024/1024<5};function M(e){var t=e.form,a=e.visible,l=e.handleCancel,M=e.handleUpload,S=t.getFieldDecorator,h=t.validateFields;function I(){h(function(e,t){if(!e){var a=t.tradeDate,l=t.uploadFiles,r=(0,f.default)(t,["tradeDate","uploadFiles"]),d=l&&l.length&&l[0].response||{},n=d.bcjson,u=n||{},i=u.flag,s=u.items,o=void 0===s?{}:s;if("1"===i&&o){var c=o.relativeUrl;M((0,m.default)({tradeDate:a.format("YYYYMMDD"),filename:c},r))}}})}return p.default.createElement(r.default,{title:p.default.createElement(E.FormattedMessage,{id:"data-import.lop.manual-import-lop-report"}),width:320,closable:!1,bodyStyle:{paddingBottom:80},visible:a,onClose:l},p.default.createElement(s.default,null,p.default.createElement(s.default.Item,{label:p.default.createElement(E.FormattedMessage,{id:"data-import.lop.trade-date"})},S("tradeDate",{initialValue:g.yesterday,rules:[{required:!0,message:"Please select trade date!"}]})(p.default.createElement(o.default,{format:g.dateFormat}))),p.default.createElement(s.default.Item,{label:p.default.createElement(E.FormattedMessage,{id:"data-import.lop.submitter-code"})},S("submitterCode",{initialValue:"",rules:[{required:!0,message:"Please input submitter code!"}]})(p.default.createElement(i.default,{placeholder:"please input submitter code"}))),p.default.createElement(s.default.Item,{label:p.default.createElement(E.FormattedMessage,{id:"data-import.lop.submitter-name"})},S("submitterName",{initialValue:"",rules:[{required:!0,message:"Please input submitter name!"}]})(p.default.createElement(i.default,{placeholder:"please input submmitter name"}))),p.default.createElement(s.default.Item,{label:p.default.createElement(E.FormattedMessage,{id:"data-import.lop.submission-report"})},S("submissionReport",{rules:[{required:!0,message:"Please select submission report!"}]})(p.default.createElement(c.default,{placeholder:"please select submission report"},g.SUBMISSION_REPORT.map(function(e){return p.default.createElement(v,{key:e},e)})))),p.default.createElement(s.default.Item,{label:p.default.createElement(E.FormattedMessage,{id:"data-import.lop.submission-report"})},S("uploadFiles",{rules:[{validator:function(e,t,a){if(!t)return a("Please select a file!");if(t&&t.length){var l=t[0];if(!y(l.size))return a("file size must less than 5M");if(l.error)return a(l.error.message)}return a()}}],valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList.slice(-1)}})(p.default.createElement(d.default,{accept:".xlsm,.xls,.xlsx,.pdf,application/msexcel",action:"/upload",beforeUpload:function(e){return y(e.size)}},p.default.createElement(n.default,null,p.default.createElement(u.default,{type:"upload"}),p.default.createElement(E.FormattedMessage,{id:"data-import.lop.browse"})))))),p.default.createElement("div",{className:b.default["bottom-btns"]},p.default.createElement(n.default,{onClick:l},"Cancel"),p.default.createElement(n.default,{type:"primary",onClick:I},"Commit")))}var S=s.default.create()(M);t.default=S},sV7J:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=l(a("2/Rp"));a("5NDa");var d=l(a("5rEg"));a("14J3");var n=l(a("BMrR"));a("jCWc");var u=l(a("kPKH"));a("7Kak");var i=l(a("9yH6"));a("y8nQ");var s=l(a("Vl3Y")),o=l(a("p0pE")),m=l(a("qIgq")),f=l(a("Y/ft"));a("OaEy");var c=l(a("2fM7"));a("iQDF");var p=l(a("+eQT")),E=l(a("q1tI")),g=a("LLXN"),b=a("d9v2"),v=l(a("/PE8")),y=p.default.RangePicker,M=c.default.Option;function S(e){var t=e.form,a=e.handleSearch,l=t.getFieldDecorator,S=t.validateFields;function h(){S(function(e,t){if(!e){var l="YYYYMMDD",r="",d="",n=t.tradeDate,u=t.submissionDate,i=(0,f.default)(t,["tradeDate","submissionDate"]),s=n&&n.format(l);if(u){var c=(0,m.default)(u,2),p=c[0],E=c[1];r=p&&p.format(l),d=E&&E.format(l)}a((0,o.default)({},i,{tradeDate:s,startSubmissionDate:r,endSubmissionDate:d}))}})}return E.default.createElement(s.default,{layout:"vertical"},E.default.createElement(n.default,null,E.default.createElement(u.default,{span:8},E.default.createElement(s.default.Item,{label:E.default.createElement(g.FormattedMessage,{id:"data-import.lop.trade-date"})},l("tradeDate",{initialValue:b.yesterday,rules:[{required:!1,message:"Please select trade date!"}]})(E.default.createElement(p.default,{format:b.dateFormat}))),E.default.createElement(s.default.Item,{label:E.default.createElement(g.FormattedMessage,{id:"data-import.lop.submission-date"})},l("submissionDate",{initialValue:[b.yesterday,b.today],rules:[{required:!1,message:"Please select submission date!"}]})(E.default.createElement(y,{format:b.dateFormat}))),E.default.createElement(n.default,{type:"flex",justify:"space-between"},E.default.createElement(u.default,{span:8},E.default.createElement(s.default.Item,{label:E.default.createElement(g.FormattedMessage,{id:"data-import.lop.late-submission"})},l("lateSubmission",{initialValue:"y"})(E.default.createElement(i.default.Group,null,E.default.createElement(i.default,{value:"y"},"Y"),E.default.createElement(i.default,{value:"n"},"N"))))),E.default.createElement(u.default,{span:12},E.default.createElement(s.default.Item,{label:E.default.createElement(g.FormattedMessage,{id:"data-import.lop.submission-channel"})},l("submissionChannel",{initialValue:"ecp",rules:[{required:!0,message:"Please select submission channel!"}]})(E.default.createElement(i.default.Group,null,E.default.createElement(i.default,{value:"ecp"},"ECP"),E.default.createElement(i.default,{value:"user"},"User"))))))),E.default.createElement(u.default,{span:7,offset:1},E.default.createElement(s.default.Item,{label:E.default.createElement(g.FormattedMessage,{id:"data-import.lop.submitter-code"})},l("submitterCode",{rules:[{required:!1,message:"Please input submitter code!"}]})(E.default.createElement(d.default,{placeholder:"please input submitter code"}))),E.default.createElement(s.default.Item,{label:E.default.createElement(g.FormattedMessage,{id:"data-import.lop.submitter-name"})},l("submitterName",{rules:[{required:!1,message:"Please input submitter name!"}]})(E.default.createElement(d.default,{placeholder:"please input submitter name"})))),E.default.createElement(u.default,{span:7,offset:1},E.default.createElement(s.default.Item,{label:E.default.createElement(g.FormattedMessage,{id:"data-import.lop.processing-status"})},l("processingStatus",{rules:[{required:!1,message:"Please select processing status!"}]})(E.default.createElement(c.default,{placeholder:"please select processing status"},b.PROCESSING_STATUS.map(function(e){return E.default.createElement(M,{key:e},e)})))),E.default.createElement(s.default.Item,{label:E.default.createElement(g.FormattedMessage,{id:"data-import.lop.submission-report"})},l("submissionReport",{rules:[{required:!1,message:"Please select submission report!"}]})(E.default.createElement(c.default,{placeholder:"please select submission report"},b.SUBMISSION_REPORT.map(function(e){return E.default.createElement(M,{key:e},e)})))))),E.default.createElement(n.default,{type:"flex",justify:"end"},E.default.createElement(r.default,{type:"primary",icon:"search",className:v.default["no-margin"],onClick:h},E.default.createElement(g.FormattedMessage,{id:"data-import.lop.search"}))))}var h=s.default.create()(S);t.default=h}}]);