(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{"3rS4":function(e,t,a){"use strict";var d=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=d(a("jehZ"));a("2qtc");var o=d(a("kLXV"));a("g9YV");var c=d(a("wCAj"));a("+L6B");var l=d(a("2/Rp"));a("y8nQ");var m=d(a("Vl3Y"));a("5NDa");var s,u,r,f=d(a("5rEg")),p=d(a("2Taf")),I=d(a("vZ4D")),g=d(a("l4Ni")),C=d(a("ujKo")),h=d(a("MhPg")),N=n(a("q1tI")),y=a("Hx5s"),v=a("MuoO"),b=a("LLXN"),M=d(a("2Dbc")),E=d(a("RR/9")),S=function(e){function t(){var e,a;(0,p.default)(this,t);for(var d=arguments.length,n=new Array(d),i=0;i<d;i++)n[i]=arguments[i];return a=(0,g.default)(this,(e=(0,C.default)(t)).call.apply(e,[this].concat(n))),a.state={},a}return(0,h.default)(t,e),(0,I.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.dictId,d=t.dictItemId,n=t.dictItemIdName,i=t.sortNo;return N.default.createElement("div",null,N.default.createElement(m.default,{layout:"inline",className:E.default.formWrap},N.default.createElement(m.default.Item,{label:(0,b.formatMessage)({id:"systemManagement.codeMaintenance.codeID"})},e("dictId",{initialValue:a||void 0})(N.default.createElement(f.default,{className:E.default.inputValue,disabled:!0}))),N.default.createElement(m.default.Item,{label:(0,b.formatMessage)({id:"systemManagement.codeMaintenance.subitemID"})},e("dictItemId",{initialValue:d||void 0})(N.default.createElement(f.default,{className:E.default.inputValue}))),N.default.createElement(m.default.Item,{label:(0,b.formatMessage)({id:"systemManagement.codeMaintenance.subitemName"})},e("dictItemIdName",{initialValue:n||void 0})(N.default.createElement(f.default,{className:E.default.inputValue}))),N.default.createElement(m.default.Item,{label:(0,b.formatMessage)({id:"systemManagement.codeMaintenance.sequence"})},e("sortNo",{initialValue:i||void 0})(N.default.createElement(f.default,{className:E.default.inputValue})))))}}]),t}(N.Component),L=m.default.create({})(S),V=(s=(0,v.connect)(function(e){var t=e.codeList,a=e.loading;return{loading:a.effects,getCodeListData:t.data,getCodeItemListData:t.itemData}}),s((r=function(e){function t(){var e,a;(0,p.default)(this,t);for(var d=arguments.length,n=new Array(d),i=0;i<d;i++)n[i]=arguments[i];return a=(0,g.default)(this,(e=(0,C.default)(t)).call.apply(e,[this].concat(n))),a.state={codeVisible:!1,updateCodeItemVisible:!1,deleteCodeItemVisible:!1,itemNameValue:"",columns:[{title:(0,b.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index"},{title:(0,b.formatMessage)({id:"systemManagement.codeMaintenance.subitemID"}),dataIndex:"dictItemId",key:"dictItemId"},{title:(0,b.formatMessage)({id:"systemManagement.codeMaintenance.subitemName"}),dataIndex:"dictItemIdName",key:"dictItemIdName"},{title:(0,b.formatMessage)({id:"systemManagement.codeMaintenance.sequence"}),dataIndex:"sortNo",key:"sortNo"},{title:(0,b.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",key:"operation",render:function(e,t,d,n){return N.default.createElement("span",{className:E.default.operation},N.default.createElement("a",{href:"#",onClick:function(){a.updateCode(e,t,d,n)}},(0,b.formatMessage)({id:"app.common.modify"})),N.default.createElement("a",{href:"#",onClick:function(){a.deleteCodeItem(e,t)}},(0,b.formatMessage)({id:"app.common.delete"})))}}],codeColumns:[{title:(0,b.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index"},{title:(0,b.formatMessage)({id:"systemManagement.codeMaintenance.codeID"}),dataIndex:"dictId",key:"dictId"},{title:(0,b.formatMessage)({id:"systemManagement.codeMaintenance.codeName"}),dataIndex:"dictIdName",key:"dictIdName"}],pageNumber:"1",pageSize:"10",dictId:"",itemPage:{pageNum:"1",pageSize:"10"},updateCodeItemParams:{dictId:"",dictItemId:"",dictItemIdName:"",sortNo:""}},a.codeFormRef=N.default.createRef(),a.addCode=function(){a.setState({codeVisible:!0})},a.codeConfirm=function(){var e=a.props.dispatch;a.codeFormRef.current.validateFields(function(t,d){var n={dictId:a.state.dictId,dictItemId:d.dictItemId,dictItemIdName:d.dictItemIdName,sortNo:d.sortNo};e({type:"codeList/addCodeItem",payload:n,callback:function(){a.queryCodeItemList()}})}),a.setState({codeVisible:!1})},a.codeCancel=function(){a.setState({codeVisible:!1})},a.handleChange=function(){},a.updateCode=function(e,t){var d={dictId:"".concat(a.state.dictId),dictItemId:t.dictItemId,dictItemIdName:t.dictItemIdName,sortNo:t.sortNo};a.setState({updateCodeItemVisible:!0,updateCodeItemParams:d})},a.updateCodeItemConfirm=function(){var e=a.props.dispatch;a.codeFormRef.current.validateFields(function(t,d){var n={dictId:a.state.dictId,dictItemId:a.state.updateCodeItemParams.dictItemId,updDictItemId:d.dictItemId,dictItemIdName:d.dictItemIdName,sortNo:d.sortNo};e({type:"codeList/updateCodeItem",payload:n,callback:function(){a.queryCodeItemList()}})}),a.setState({updateCodeItemVisible:!1})},a.updateCodeItemCancel=function(){a.setState({updateCodeItemVisible:!1})},a.deleteCodeItem=function(e,t){var d={dictItemId:t.dictItemId};a.setState({deleteCodeItemVisible:!0,updateCodeItemParams:d})},a.deleteCodeItemConfirm=function(){var e=a.props.dispatch,t={dictId:a.state.dictId,dictItemId:a.state.updateCodeItemParams.dictItemId};e({type:"codeList/deleteCodeItem",payload:t,callback:function(){a.queryCodeItemList(),a.setState({deleteCodeItemVisible:!1})}})},a.deleteCodeItemCancel=function(){a.setState({deleteCodeItemVisible:!1})},a.setServer=function(){},a.handleSubmit=function(){},a.queryCodeList=function(){var e=a.props.dispatch,t={pageNumber:"".concat(a.state.pageNumber)||"1",pageSize:"".concat(a.state.pageSize)||"10",dictIdName:a.state.itemNameValue||""};e({type:"codeList/getCodeList",payload:t,callback:function(){a.setState({dictId:a.props.getCodeListData.items[0]&&a.props.getCodeListData.items[0].dictId},function(){a.queryCodeItemList()})}})},a.itemNameChange=function(e){a.setState({itemNameValue:e.target.value})},a.queryCode=function(){a.queryCodeList()},a.pageChange=function(e){a.setState({pageNumber:e.current,pageSize:e.pageSize},function(){a.queryCodeList()})},a.onShowSizeChange=function(e,t){a.setState({pageNumber:e,pageSize:t},function(){a.queryCodeList()})},a.connectCodeList=function(e){a.setState({dictId:e.dictId},function(){a.queryCodeItemList()})},a.queryCodeItemList=function(){var e=a.props.dispatch,t={pageNumber:"".concat(a.state.itemPage.pageNum)||"1",pageSize:"".concat(a.state.itemPage.pageSize)||"10",dictId:"".concat(a.state.dictId)};e({type:"codeList/getCodeItemList",payload:t})},a}return(0,h.default)(t,e),(0,I.default)(t,[{key:"componentDidMount",value:function(){this.queryCodeList()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,d=t.getCodeListData,n=t.getCodeItemListData,m=d&&d.totalCount,s=n&&n.totalCount,u=this.state,r=u.pageSize,p=u.updateCodeItemParams,I=d&&d.items,g=n&&n.items;return I&&I.forEach(function(t,a){t.index=(e.state.pageNumber-1)*e.state.pageSize+a+1}),g&&g.forEach(function(t,a){t.index=(e.state.itemPage.pageNum-1)*e.state.itemPage.pageSize+a+1}),N.default.createElement(y.PageHeaderWrapper,null,N.default.createElement(N.Fragment,null,N.default.createElement("div",null,N.default.createElement("div",null,N.default.createElement("ul",{className:E.default.clearfix},N.default.createElement("li",{className:E.default.fl},N.default.createElement("span",null,(0,b.formatMessage)({id:"systemManagement.codeMaintenance.codeName"}),"\uff1a"),N.default.createElement(f.default,{className:E.default["login-name"],onChange:this.itemNameChange})),N.default.createElement("li",{className:E.default.fl},N.default.createElement(l.default,{type:"primary",icon:"search",onClick:this.queryCode})))),N.default.createElement("div",null,N.default.createElement(c.default,{loading:a["codeList/getCodeList"],dataSource:I,columns:this.state.codeColumns,pagination:{total:m,pageSize:r},onChange:this.pageChange,onRow:function(t){return{onClick:function(){e.connectCodeList(t)}}}}))),N.default.createElement("div",null,N.default.createElement("div",null,N.default.createElement(o.default,{title:"\u65b0\u589e\u5b57\u5178\u5b50\u9879",visible:this.state.codeVisible,onOk:this.codeConfirm,onCancel:this.codeCancel,cancelText:(0,b.formatMessage)({id:"app.common.cancel"}),okText:(0,b.formatMessage)({id:"app.common.save"})},N.default.createElement(L,{ref:this.codeFormRef,dictId:this.state.dictId})),N.default.createElement(o.default,{title:"\u4fee\u6539\u5b57\u5178\u5b50\u9879",visible:this.state.updateCodeItemVisible,onOk:this.updateCodeItemConfirm,onCancel:this.updateCodeItemCancel,cancelText:(0,b.formatMessage)({id:"app.common.cancel"}),okText:(0,b.formatMessage)({id:"app.common.save"})},N.default.createElement(L,(0,i.default)({ref:this.codeFormRef},p))),N.default.createElement(o.default,{title:"\u63d0\u793a",visible:this.state.deleteCodeItemVisible,onOk:this.deleteCodeItemConfirm,onCancel:this.deleteCodeItemCancel,cancelText:(0,b.formatMessage)({id:"app.common.cancel"}),okText:(0,b.formatMessage)({id:"app.common.save"})},N.default.createElement("div",null,N.default.createElement("span",null,"\u786e\u5b9a\u5220\u9664\u5417\uff1f")))),N.default.createElement("div",null,N.default.createElement(M.default,{showEdit:!0,showSelect:!0,addTableData:function(){return e.addCode()}}),N.default.createElement(c.default,{loading:a["codeList/getCodeItemList"],dataSource:g,pagination:{total:s,pageSize:10},columns:this.state.columns})))))}}]),t}(N.Component),u=r))||u),k=V;t.default=k},"RR/9":function(e,t,a){e.exports={clearfix:"antd-pro-pages-code-maintenance-code-maintenance-clearfix",fl:"antd-pro-pages-code-maintenance-code-maintenance-fl",fr:"antd-pro-pages-code-maintenance-code-maintenance-fr","login-name":"antd-pro-pages-code-maintenance-code-maintenance-login-name",header:"antd-pro-pages-code-maintenance-code-maintenance-header",formWrap:"antd-pro-pages-code-maintenance-code-maintenance-formWrap",operation:"antd-pro-pages-code-maintenance-code-maintenance-operation",inputValue:"antd-pro-pages-code-maintenance-code-maintenance-inputValue"}}}]);