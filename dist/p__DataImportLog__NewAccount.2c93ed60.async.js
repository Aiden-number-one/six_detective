(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"30PG":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3"));a("14J3");var u=n(a("BMrR"));a("+L6B");var d=n(a("2/Rp")),o=n(a("1l/V")),i=n(a("qIgq")),c=l(a("q1tI")),f=a("MuoO"),s=a("LLXN"),m=a("Hx5s"),p=n(a("uCn6")),g=n(a("R/I8")),v=n(a("/PE8"));function E(e){var t=e.dispatch,a=e.loading,l=(0,c.useState)(!1),n=(0,i.default)(l,2),f=n[0],E=n[1];function w(e){return h.apply(this,arguments)}function h(){return h=(0,o.default)(r.default.mark(function e(a){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"new_account/importByManual",payload:a});case 2:E(!1);case 3:case"end":return e.stop()}},e)})),h.apply(this,arguments)}return c.default.createElement(m.PageHeaderWrapper,null,c.default.createElement("div",{className:v.default.container},c.default.createElement(p.default,{visible:f,loading:a,handleCancel:function(){return E(!1)},handleUpload:w}),c.default.createElement("div",{className:v.default["list-wrap"]},c.default.createElement(u.default,{className:v.default["btn-group"]},c.default.createElement(d.default,{type:"primary",className:v.default["no-margin"],onClick:function(){return E(!0)}},c.default.createElement(s.FormattedMessage,{id:"data-import.manual-import"}))),c.default.createElement(g.default,null))))}var w=(0,f.connect)(function(e){var t=e.loading,a=e.new_account,l=a.logs,n=a.page,r=a.total;return{loading:t.effects,logs:l,page:n,total:r}})(E);t.default=w},"R/I8":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3"));a("Pwec");var u=n(a("CtXQ")),d=n(a("1l/V")),o=n(a("qIgq"));a("g9YV");var i=n(a("wCAj")),c=l(a("q1tI")),f=a("MuoO"),s=a("LLXN"),m=n(a("BN5G")),p=i.default.Column,g=document.createElement("a");function v(e){var t=e.dispatch,a=e.loading,l=e.logs,n=e.total,f=e.reportUrl,v=(0,c.useState)(""),E=(0,o.default)(v,2),w=E[0],h=E[1];function b(e){return y.apply(this,arguments)}function y(){return y=(0,d.default)(r.default.mark(function e(a){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"new_account/fetchReportUrl",payload:{lopImpId:a}});case 2:g.href="/download?filePath=".concat(f),g.click();case 4:case"end":return e.stop()}},e)})),y.apply(this,arguments)}function C(e){h(e),b(e)}function I(e,a){t({type:"new_account/reload",payload:{page:e,pageSize:a}})}return(0,c.useEffect)(function(){t({type:"new_account/fetch"})},[]),c.default.createElement(i.default,{dataSource:l,loading:a["new_account/fetch"],rowKey:"mdImpId",pagination:{total:n,pageSizeOptions:["10","20","50","100"],showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(e,t){I(e,t)},onShowSizeChange:function(e,t){I(e,t)}}},c.default.createElement(p,{align:"center",dataIndex:"market",title:c.default.createElement(s.FormattedMessage,{id:"data-import.market"})}),c.default.createElement(p,{align:"center",dataIndex:"submitterCode",title:c.default.createElement(s.FormattedMessage,{id:"data-import.submitter-code"})}),c.default.createElement(p,{dataIndex:"fileName",title:c.default.createElement(s.FormattedMessage,{id:"data-import.new-account.file-name"})}),c.default.createElement(p,{align:"center",dataIndex:"submissionStatus",title:c.default.createElement(s.FormattedMessage,{id:"data-import.submission-status"})}),c.default.createElement(p,{align:"center",dataIndex:"download",title:c.default.createElement(s.FormattedMessage,{id:"data-import.download"}),render:function(e,t){var l=t.lopImpId;return c.default.createElement(c.default.Fragment,null,a["lop/fetchReportUrl"]&&l===w?c.default.createElement(u.default,{type:"loading"}):c.default.createElement(m.default,{type:"icondownload",onClick:function(){return C(l)},style:{fontSize:24,cursor:"pointer"}}))}}))}g.download=!0;var E=(0,f.connect)(function(e){var t=e.loading,a=e.new_account,l=a.logs,n=a.page,r=a.total,u=a.reportUrl;return{loading:t.effects,logs:l,page:n,total:r,reportUrl:u}})(v);t.default=E},uCn6:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=l(a("/wGt"));a("DZo9");var r=l(a("8z0m"));a("+L6B");var u=l(a("2/Rp"));a("Pwec");var d=l(a("CtXQ"));a("y8nQ");var o=l(a("Vl3Y"));a("5NDa");var i=l(a("5rEg")),c=l(a("d6i3")),f=l(a("p0pE")),s=l(a("Y/ft")),m=l(a("1l/V")),p=l(a("q1tI")),g=a("LLXN"),v=l(a("/PE8")),E=function(e){return e/1024/1024<5};function w(e){var t=e.form,a=e.visible,l=e.handleCancel,w=e.handleUpload,h=t.getFieldDecorator,b=t.validateFields;function y(){b(function(){var e=(0,m.default)(c.default.mark(function e(a,l){var n,r,u,d,o,i,m,p,g;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=9;break}if(n=l.uploadFiles,r=(0,s.default)(l,["uploadFiles"]),u=n&&n.length&&n[0].response||{},d=u.bcjson,o=d||{},i=o.flag,m=o.items,p=void 0===m?{}:m,"1"!==i||!p){e.next=9;break}return g=p.relativeUrl,e.next=8,w((0,f.default)({filename:g},r));case 8:t.resetFields();case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())}return p.default.createElement(n.default,{title:p.default.createElement(g.FormattedMessage,{id:"data-import.market.manual-upload"}),width:320,closable:!1,bodyStyle:{paddingBottom:60,paddingTop:10},visible:a,onClose:l},p.default.createElement(o.default,{className:v.default["modal-form"]},p.default.createElement(o.default.Item,{label:p.default.createElement(g.FormattedMessage,{id:"data-import.submitter-code"})},h("submitterCode",{rules:[{required:!0,message:"Please input submitter code!"}]})(p.default.createElement(i.default,{placeholder:"please input submitter code"}))),p.default.createElement(o.default.Item,{label:p.default.createElement(g.FormattedMessage,{id:"data-import.lop.submission-report"})},h("uploadFiles",{rules:[{required:!0,validator:function(e,t,a){if(!t)return a("Please select a file!");if(t&&t.length){var l=t[0];if(!E(l.size))return a("file size must less than 5M");if(l.error)return a(l.error.message)}return a()}}],valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList.slice(-1)}})(p.default.createElement(r.default,{accept:".xlsm,.xls,.xlsx,.pdf,application/msexcel",action:"/upload",beforeUpload:function(e){return E(e.size)}},p.default.createElement(u.default,null,p.default.createElement(d.default,{type:"upload"}),p.default.createElement(g.FormattedMessage,{id:"data-import.browse"})))))),p.default.createElement("div",{className:v.default["bottom-btns"]},p.default.createElement(u.default,{onClick:l},"Cancel"),p.default.createElement(u.default,{type:"primary",onClick:y},"Commit")))}var h=o.default.create()(w);t.default=h}}]);