(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{N7rT:function(e,a,t){"use strict";var n=t("g09b"),s=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("14J3");var o=n(t("BMrR"));t("jCWc");var i=n(t("kPKH"));t("DjyN");var r=n(t("NUBc"));t("g9YV");var d=n(t("wCAj"));t("+L6B");var c,g,l,u=n(t("2/Rp")),m=n(t("2Taf")),p=n(t("vZ4D")),f=n(t("l4Ni")),h=n(t("ujKo")),y=n(t("MhPg")),P=s(t("q1tI")),b=t("Hx5s"),S=t("MuoO"),I=t("LLXN"),N=n(t("jh1z")),C=(c=(0,S.connect)(function(e){var a=e.dataProcessing,t=e.loading;return{loading:t.effects,dataProcessingData:a.data,dataProcessingItemData:a.itemData}}),c((l=function(e){function a(){var e;return(0,m.default)(this,a),e=(0,f.default)(this,(0,h.default)(a).call(this)),e.queryDataProcessing=function(){var a=e.props.dispatch,t=e.state,n=t.page,s=t.codeName,o={pageNumber:n.pageNumber.toString(),pageSize:n.pageSize.toString(),operType:"codeQuery",codeName:s};a({type:"dataProcessing/getDataProcessing",payload:o,callback:function(){e.setState({codeId:e.props.dataProcessingData.items[0]&&e.props.dataProcessingData.items[0].codeId},function(){e.queryDataProcessingItem()})}})},e.queryDataProcessingItem=function(){var a=e.props.dispatch,t={operType:"subitemQueryBycodeId",pageNumber:"".concat(e.state.itemPage.pageNumber.toString())||"1",pageSize:"".concat(e.state.itemPage.pageSize.toString())||"10",codeId:"".concat(e.state.codeId)};a({type:"dataProcessing/getDataProcessingItem",payload:t})},e.connectDataProcessing=function(a){e.setState({codeId:a.codeId},function(){e.queryDataProcessingItem()})},e.inspectData=function(){},e.onSelectChange=function(a){console.log("selectedRowKeys changed: ",a),e.setState({selectedRowKeys:a})},e.state={codeId:"",codeColumns:[{title:(0,I.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",render:function(a,t,n){return P.default.createElement("span",null,(e.state.page.pageNumber-1)*e.state.page.pageSize+n+1)}},{title:(0,I.formatMessage)({id:"systemManagement.dataProcessing.market"}),dataIndex:"codeId",key:"codeId"},{title:(0,I.formatMessage)({id:"systemManagement.dataProcessing.alertName"}),dataIndex:"codeName",key:"codeName"},{title:(0,I.formatMessage)({id:"systemManagement.dataProcessing.numberOfAlert"}),dataIndex:"codeName",key:"codeName"}],columns:[{title:(0,I.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",render:function(a,t,n){return P.default.createElement("span",null,(e.state.itemPage.pageNumber-1)*e.state.itemPage.pageSize+n+1)}},{title:(0,I.formatMessage)({id:"systemManagement.dataProcessing.alertOwner"}),dataIndex:"subitemId",key:"subitemId"},{title:(0,I.formatMessage)({id:"systemManagement.dataProcessing.submitterCode"}),dataIndex:"subitemName",key:"subitemName"},{title:(0,I.formatMessage)({id:"systemManagement.dataProcessing.submitterName"}),dataIndex:"sequence",key:"sequence"}],selectedRowKeys:[],page:{pageNumber:1,pageSize:10},itemPage:{pageNumber:1,pageSize:10}},e}return(0,y.default)(a,e),(0,p.default)(a,[{key:"componentDidMount",value:function(){this.queryDataProcessing()}},{key:"render",value:function(){var e=this,a=this.props,t=a.loading,n=a.dataProcessingData,s=a.dataProcessingItemData,c=this.state,g=c.page,l=c.itemPage,m=c.selectedRowKeys,p={selectedRowKeys:m,onChange:this.onSelectChange},f=m.length>0;return P.default.createElement(P.Fragment,null,P.default.createElement(b.PageHeaderWrapper,null,P.default.createElement("div",{className:N.default.dataProcessingWraper},P.default.createElement(o.default,{gutter:20},P.default.createElement(i.default,{span:12,cassName:N.default.dataTable},P.default.createElement(u.default,{type:"primary",onClick:this.inspectData,className:"btn_usual",style:{height:"36px"}},(0,I.formatMessage)({id:"systemManagement.dataProcessing.inspectData"})),P.default.createElement(d.default,{loading:t["dataProcessing/getDataProcessing"],dataSource:n.items,columns:this.state.codeColumns,pagination:!1,onRow:function(a){return{onClick:function(){e.connectDataProcessing(a)}}}}),P.default.createElement(r.default,{showSizeChanger:!0,current:g.pageNumber,showTotal:function(){return"Page ".concat(n.totalCount?g.pageNumber:0," of ").concat(Math.ceil((n.totalCount||0)/g.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:n.totalCount,pageSize:g.pageSize})),P.default.createElement(i.default,{span:12,cassName:N.default.dataItemTable},P.default.createElement("div",{className:N.default.tableTop},P.default.createElement(u.default,{onClick:this.addCode,type:"primary",className:"btn_usual",style:{height:"36px"},disabled:!f},(0,I.formatMessage)({id:"systemManagement.dataProcessing.bypass"}))),P.default.createElement(d.default,{loading:t["codeList/getCodeItemList"],rowSelection:p,dataSource:s.items,pagination:!1,columns:this.state.columns}),P.default.createElement(r.default,{showSizeChanger:!0,current:l.pageNumber,showTotal:function(){return"Page ".concat(s.totalCount?l.pageNumber:0," of ").concat(Math.ceil((s.totalCount||0)/l.pageSize).toString())},onShowSizeChange:this.onShowItemSizeChange,onChange:this.pageItemChange,total:s.totalCount,pageSize:l.pageSize}))))))}}]),a}(P.Component),g=l))||g);a.default=C},jh1z:function(e,a,t){e.exports={dataProcessingWraper:"antd-pro-pages-data-processing-data-processing-dataProcessingWraper",dataProcessingTable:"antd-pro-pages-data-processing-data-processing-dataProcessingTable",dataTable:"antd-pro-pages-data-processing-data-processing-dataTable",dataItemTable:"antd-pro-pages-data-processing-data-processing-dataItemTable"}}}]);