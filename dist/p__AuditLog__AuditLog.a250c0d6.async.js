(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"6BZM":function(e,t,a){e.exports={inputValue:"antd-pro-pages-audit-log-audit-log-inputValue",content:"antd-pro-pages-audit-log-audit-log-content",tableTop:"antd-pro-pages-audit-log-audit-log-tableTop"}},CNgS:function(e,t,a){"use strict";var n=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var o=l(a("BMrR"));a("+L6B");var i=l(a("2/Rp"));a("5NDa");var d=l(a("5rEg"));a("jCWc");var u=l(a("kPKH"));a("y8nQ");var r=l(a("Vl3Y")),s=l(a("2Taf")),f=l(a("vZ4D")),g=l(a("l4Ni")),m=l(a("ujKo")),c=l(a("MhPg"));a("iQDF");var p=l(a("+eQT")),y=n(a("q1tI")),v=a("LLXN"),h=l(a("BN5G")),x=p.default.RangePicker,M=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return a=(0,g.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(l))),a.state={},a}return(0,c.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.search,n=t.exportData;return y.default.createElement(r.default,{className:"ant-advanced-search-form search-wraper",layout:"vertical"},y.default.createElement(o.default,{gutter:{xs:0,sm:8,md:10,lg:20,xl:24},align:"bottom",type:"flex"},y.default.createElement(u.default,{xs:24,sm:12,xl:10,xxl:8},y.default.createElement(r.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.auditLog.logDate"})},e("logDate",{})(y.default.createElement(x,{format:"DD-MMM-YYYY",placeholder:["Start Date","End Date"]})))),y.default.createElement(u.default,{xs:24,sm:12,xl:7,xxl:5},y.default.createElement(r.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.auditLog.updatedBy"})},e("updatedBy",{})(y.default.createElement(d.default,{placeholder:"Please input"})))),y.default.createElement(u.default,{xs:24,sm:12,xl:7,xxl:5},y.default.createElement(r.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.auditLog.functionName"})},e("functionName",{})(y.default.createElement(d.default,{placeholder:"Please input"})))),y.default.createElement(u.default,{xs:24,sm:12,xl:8,xxl:6},y.default.createElement(r.default.Item,null,y.default.createElement(i.default,{type:"primary",onClick:a},y.default.createElement(h.default,{type:"iconsousuo",style:{color:"#fff"}}),(0,v.formatMessage)({id:"app.common.search"})),y.default.createElement(i.default,{type:"primary",onClick:n,className:"btn_usual",icon:"export"},(0,v.formatMessage)({id:"app.common.export"}))))))}}]),t}(y.Component);t.default=M},TbQj:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var o=n(a("kLXV"));a("sRBo");var i=n(a("kaz8"));a("DjyN");var d=n(a("NUBc"));a("g9YV");var u=n(a("wCAj")),r=n(a("2Taf")),s=n(a("vZ4D")),f=n(a("l4Ni")),g=n(a("ujKo")),m=n(a("MhPg"));a("y8nQ");var c,p,y,v=n(a("Vl3Y")),h=l(a("q1tI")),x=a("Hx5s"),M=a("MuoO"),D=a("LLXN"),L=n(a("wd/R")),E=n(a("6BZM")),N=a("fwgp"),b=n(a("CNgS")),S=v.default.create({})(b.default),k=(c=(0,M.connect)(function(e){var t=e.auditLog,a=e.loading;return{loading:a.effects,getAuditLogListData:t.data}}),c((y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return a=(0,f.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(l))),a.state={page:{pageNumber:1,pageSize:10},logStartDate:void 0,logEndDate:void 0,functionName:void 0,updatedBy:void 0,exportDataVisible:!1,functionNameOptions:[{key:"",value:"",title:"All"},{key:"1",value:"1",title:"Name One"},{key:"2",value:"2",title:"Name Two"},{key:"3",value:"3",title:"Name Three"}],columns:[{title:(0,D.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",minWidth:60,render:function(e,t,n){return h.default.createElement("span",null,(a.state.page.pageNumber-1)*a.state.page.pageSize+n+1)}},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.functionName"}),dataIndex:"functionName",key:"functionName",ellipsis:!0,width:120},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.tableName"}),dataIndex:"tableName",key:"tableName",ellipsis:!0,width:120,colSpan:1},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.BITOCode"}),dataIndex:"biToCode",key:"biToCode"},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.productCode"}),dataIndex:"productCode",key:"productCode"},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.effectiveDate"}),dataIndex:"effectiveTime",key:"effectiveTime",render:function(e,t){return h.default.createElement("div",null,h.default.createElement("span",null,t.operateDate&&(0,L.default)(t.operateDate).format("DD/MM/YYYY")))}},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.fieldUpdated"}),dataIndex:"filedUpdated",key:"filedUpdated"},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.updateType"}),dataIndex:"updateType",key:"updateType"},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.logDate"}),dataIndex:"logTime",key:"logTime",align:"center",render:function(e,t){return h.default.createElement("div",null,h.default.createElement("span",null,t.logTime&&(0,N.timeFormat)(t.logTime).t1),h.default.createElement("br",null),h.default.createElement("span",null,t.logTime&&(0,N.timeFormat)(t.logTime).t2))}},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.updatedBy"}),dataIndex:"updatedBy",key:"updatedBy"},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.before"}),dataIndex:"before",key:"before"},{title:(0,D.formatMessage)({id:"systemManagement.auditLog.after"}),dataIndex:"after",key:"after"}],getAuditLogList:[]},a.auditLogForm=h.default.createRef(),a.getAuditLog=function(){var e=a.state,t=e.logStartDate,n=e.logEndDate,l=e.functionName,o=e.updatedBy,i=e.page,d={pageNumber:i.pageNumber.toString(),pageSize:i.pageSize.toString(),functionName:l,startTime:t,endTime:n,updatedBy:o},u=a.props.dispatch;u({type:"auditLog/getAuditLogList",payload:d})},a.pageChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({page:n},function(){a.getAuditLog()})},a.changeBeginDate=function(){},a.changeEndDate=function(){},a.queryLog=function(){a.auditLogForm.current.validateFields(function(e,t){if(!e){console.log("values===",t);var n,l,o=t.logDate;o&&o.length>0&&(n="".concat((0,L.default)(o[0]).format("YYYY-MM-DD")," 00:00:00"),l="".concat((0,L.default)(o[1]).format("YYYY-MM-DD")," 23:59:59")),a.setState({logStartDate:n,logEndDate:l,functionName:t.functionName,updatedBy:t.updatedBy},function(){a.getAuditLog()})}})},a.exportData=function(){a.setState({exportDataVisible:!0})},a.exportDataConfirm=function(){var e=a.props.dispatch,t={fileType:"1",apiVersion:"v2.0",apiName:"bayconnect.superlop.get_system_log_list"};e({type:"auditLog/getDataExport",payload:t},function(){a.setState({exportDataVisible:!1})})},a.exportDataCancel=function(){a.setState({exportDataVisible:!1})},a.operatorReset=function(){a.auditLogForm.current.resetFields()},a}return(0,m.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.getAuditLog()}},{key:"render",value:function(){var e=this.props.loading,t=this.state.getAuditLogList,a=this.state,n=a.page,l=a.functionNameOptions,r=a.exportDataVisible;t=this.props.getAuditLogListData.items;var s=this.props.getAuditLogListData&&this.props.getAuditLogListData.totalCount;return h.default.createElement(x.PageHeaderWrapper,null,h.default.createElement(S,{search:this.queryLog,exportData:this.exportData,ref:this.auditLogForm,functionNameOptions:l}),h.default.createElement("div",{className:E.default.content},h.default.createElement(u.default,{loading:e["auditLog/getAuditLogList"],dataSource:t,pagination:!1,columns:this.state.columns}),t&&t.length>0&&h.default.createElement(d.default,{showSizeChanger:!0,current:n.pageNumber,showTotal:function(){return"Page ".concat(s?n.pageNumber.toString():0," of ").concat(Math.ceil((s||0)/n.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:s,pageSize:n.pageSize})),h.default.createElement(o.default,{title:"Select export format",visible:r,onOk:this.exportDataConfirm,onCancel:this.exportDataCancel,cancelText:(0,D.formatMessage)({id:"app.common.cancel"}),okText:(0,D.formatMessage)({id:"app.common.save"})},h.default.createElement("div",null,h.default.createElement(i.default.Group,null,h.default.createElement(i.default,{value:1},"csv"),h.default.createElement(i.default,{value:2},"xlsx"),h.default.createElement(i.default,{value:3},"docx"),h.default.createElement(i.default,{value:4},"pdf")))))}}]),t}(h.Component),p=y))||p),T=k;t.default=T}}]);