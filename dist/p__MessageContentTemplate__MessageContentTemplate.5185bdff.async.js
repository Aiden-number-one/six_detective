(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{cQSz:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("DjyN");var n=l(a("NUBc"));a("g9YV");var o=l(a("wCAj"));a("2qtc");var s=l(a("kLXV"));a("bbsP");var u=l(a("/wGt")),p=l(a("2Taf")),i=l(a("vZ4D")),d=l(a("l4Ni")),m=l(a("ujKo")),f=l(a("MhPg"));a("y8nQ");var c,g,y,h=l(a("Vl3Y")),v=r(a("q1tI")),M=a("Hx5s"),b=a("LLXN"),C=a("MuoO"),I=l(a("f4LM")),N=l(a("dV5k")),E=l(a("lkZD")),k=h.default.create({})(N.default),S=(c=(0,C.connect)(function(e){var t=e.alertUserGroup,a=e.loading;return{loading:a.effects,menuUserGroup:t.data,updateGroup:t.updateUserGroup}}),c((y=function(e){function t(){var e;return(0,p.default)(this,t),e=(0,d.default)(this,(0,m.default)(t).call(this)),e.searchForm=v.default.createRef(),e.newUser=function(){e.setState({modifyVisible:!0,groupTitle:"New Alert User Group",updateFlag:!1})},e.onClose=function(){e.setState({modifyVisible:!1})},e.onSave=function(){e.setState({modifyVisible:!1});var t=e.state.page.pageSize,a={pageNumber:1,pageSize:t};e.setState({page:a},function(){e.queryUserList()})},e.updateUser=function(t,a){var l=Object.assign({},a);e.setState({modifyVisible:!0,updateFlag:!0,groupTitle:"Message Content Template Modify",groupMenuInfo:l})},e.deleteUser=function(t,a){var l={roleId:a.roleId};e.setState({deleteVisible:!0,groupMenuInfo:l})},e.deleteConfirm=function(){var t=e.props.dispatch,a=e.state.groupMenuInfo,l={operType:"deleteById",roleId:a.roleId};t({type:"alertUserGroup/updateUserAlert",payload:l,callback:function(){e.queryUserList(),e.setState({deleteVisible:!1})}})},e.deleteCancel=function(){e.setState({deleteVisible:!1})},e.queryLog=function(){e.searchForm.current.validateFields(function(t,a){if(!t){var l={roleName:a.roleName,roleDesc:a.roleDesc};e.queryUserList(l)}})},e.pageChange=function(t,a){var l={pageNumber:t,pageSize:a};e.setState({page:l},function(){e.queryUserList()})},e.queryUserList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{roleName:void 0,roleDesc:void 0},a=e.props.dispatch,l=t.roleName,r=t.roleDesc,n={roleName:l,roleDesc:r,pageNumber:e.state.page.pageNumber.toString(),pageSize:e.state.page.pageSize.toString()};a({type:"alertUserGroup/getAlertUserGroup",payload:n})},e.onShowSizeChange=function(t,a){var l={pageNumber:t,pageSize:a};e.setState({page:l},function(){e.queryUserList()})},e.state={modifyVisible:!1,deleteVisible:!1,updateFlag:!1,groupMenuInfo:{},columns:[{title:(0,b.formatMessage)({id:"systemManagement.template.templateName"}),dataIndex:"templateName",key:"templateName"},{title:(0,b.formatMessage)({id:"systemManagement.template.templateId"}),dataIndex:"templateId",key:"templateId"},{title:(0,b.formatMessage)({id:"systemManagement.template.templateType"}),dataIndex:"type",key:"type"},{title:(0,b.formatMessage)({id:"systemManagement.template.templateTitle"}),dataIndex:"title",key:"title"},{title:(0,b.formatMessage)({id:"systemManagement.template.templateContent"}),dataIndex:"content",key:"content"},{title:(0,b.formatMessage)({id:"systemManagement.template.keyword"}),dataIndex:"keyWord",key:"keyWord"},{title:(0,b.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",key:"operation",render:function(t,a){return v.default.createElement("span",{className:I.default.operation},v.default.createElement("a",{href:"#",onClick:function(){return e.updateUser(t,a)}},(0,b.formatMessage)({id:"app.common.modify"})),v.default.createElement("a",{href:"#",onClick:function(){return e.deleteUser(t,a)}},(0,b.formatMessage)({id:"app.common.delete"})))}}],page:{pageNumber:1,pageSize:10}},e}return(0,f.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.queryUserList()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.menuUserGroup,l=this.state,r=l.groupTitle,p=l.deleteVisible,i=l.groupMenuInfo,d=l.updateFlag,m=this.state,f=m.columns,c=m.page,g=m.modifyVisible;return v.default.createElement(M.PageHeaderWrapper,null,v.default.createElement(k,{search:this.queryLog,ref:this.searchForm}),v.default.createElement(u.default,{closable:!1,title:r,width:700,onClose:this.onClose,visible:g},g&&v.default.createElement(E.default,{onCancel:this.onClose,onSave:this.onSave,groupMenuInfo:i,updateFlag:d})),v.default.createElement(s.default,{title:"CONFIRM",visible:p,onOk:this.deleteConfirm,onCancel:this.deleteCancel,cancelText:(0,b.formatMessage)({id:"app.common.cancel"}),okText:(0,b.formatMessage)({id:"app.common.confirm"})},v.default.createElement("span",null,"Please confirm that you want to delete this record?")),v.default.createElement("div",{className:I.default.content},v.default.createElement(o.default,{loading:t["menuUserGroup/getAlertUserGroup"],dataSource:a.items,columns:f,pagination:!1}),v.default.createElement(n.default,{showSizeChanger:!0,current:c.pageNumber,showTotal:function(){return"Page ".concat(c.pageNumber.toString()," of ").concat(Math.ceil(a.totalCount/c.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:a.totalCount,pageSize:c.pageSize})))}}]),t}(v.Component),g=y))||g);t.default=S},dV5k:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var n=r(a("2/Rp"));a("14J3");var o=r(a("BMrR"));a("jCWc");var s=r(a("kPKH"));a("y8nQ");var u=r(a("Vl3Y"));a("5NDa");var p=r(a("5rEg")),i=r(a("2Taf")),d=r(a("vZ4D")),m=r(a("l4Ni")),f=r(a("ujKo")),c=r(a("MhPg")),g=l(a("q1tI")),y=a("LLXN"),h=r(a("f4LM")),v=function(e){function t(){var e,a;(0,i.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,m.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(r))),a.state={},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.search;return g.default.createElement(u.default,{className:"ant-advanced-search-form"},g.default.createElement(o.default,{gutter:{xs:24,sm:48,md:144,lg:48,xl:96}},g.default.createElement(s.default,{xs:12,sm:12,lg:8},g.default.createElement(u.default.Item,{label:(0,y.formatMessage)({id:"systemManagement.userMaintenance.name"})},e("roleName",{})(g.default.createElement(p.default,{className:h.default.inputvalue,placeholder:"Please Input ".concat((0,y.formatMessage)({id:"systemManagement.userMaintenance.name"}))})))),g.default.createElement(s.default,{xs:12,sm:12,lg:8},g.default.createElement(u.default.Item,{label:(0,y.formatMessage)({id:"systemManagement.userGroup.remark"})},e("roleDesc",{})(g.default.createElement(p.default,{className:h.default.inputvalue,placeholder:"Please Input ".concat((0,y.formatMessage)({id:"systemManagement.userGroup.remark"}))}))))),g.default.createElement("div",{className:"btnArea"},g.default.createElement(n.default,{type:"primary",onClick:t},(0,y.formatMessage)({id:"app.common.search"}))))}}]),t}(g.Component);t.default=v},f4LM:function(e,t,a){e.exports={operation:"antd-pro-pages-message-content-template-message-content-template-operation",inputValue:"antd-pro-pages-message-content-template-message-content-template-inputValue",content:"antd-pro-pages-message-content-template-message-content-template-content",tableTop:"antd-pro-pages-message-content-template-message-content-template-tableTop",title:"antd-pro-pages-message-content-template-message-content-template-title",userGroup:"antd-pro-pages-message-content-template-message-content-template-userGroup",groupTitle:"antd-pro-pages-message-content-template-message-content-template-groupTitle",treeWraper:"antd-pro-pages-message-content-template-message-content-template-treeWraper"}},lkZD:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var n=l(a("BMrR"));a("jCWc");var o=l(a("kPKH"));a("+L6B");var s=l(a("2/Rp"));a("miYZ");var u=l(a("tsqr")),p=l(a("rlhR"));a("y8nQ");var i=l(a("Vl3Y")),d=l(a("2Taf")),m=l(a("vZ4D")),f=l(a("l4Ni")),c=l(a("ujKo")),g=l(a("MhPg"));a("5NDa");var y,h,v,M=l(a("5rEg")),b=r(a("q1tI")),C=a("LLXN"),I=a("MuoO"),N=M.default.TextArea,E=function(e){function t(){var e;return(0,d.default)(this,t),e=(0,f.default)(this,(0,c.default)(t).call(this)),e.state={},e}return(0,g.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.groupMenuInfo;return b.default.createElement(b.Fragment,null,b.default.createElement(i.default,null,b.default.createElement(i.default.Item,{label:(0,C.formatMessage)({id:"systemManagement.template.templateName"}),labelCol:{span:4},wrapperCol:{span:8}},e("templateName",{rules:[{required:!0,message:"Please input Name of Alert User Group"}],initialValue:t&&t.templateName})(b.default.createElement(M.default,{disabled:!0,placeholder:"Please input"}))),b.default.createElement(i.default.Item,{label:(0,C.formatMessage)({id:"systemManagement.template.templateId"}),labelCol:{span:4},wrapperCol:{span:8}},e("templateId",{initialValue:t&&t.templateId})(b.default.createElement(M.default,{disabled:!0,placeholder:"Please input"}))),b.default.createElement(i.default.Item,{label:(0,C.formatMessage)({id:"systemManagement.template.templateType"}),labelCol:{span:4},wrapperCol:{span:8}},e("type",{rules:[{required:!0,message:"Please input Name of Alert User Group"}],initialValue:t&&t.type})(b.default.createElement(M.default,{placeholder:"Please input"}))),b.default.createElement(i.default.Item,{label:(0,C.formatMessage)({id:"systemManagement.template.templateTitle"}),labelCol:{span:4},wrapperCol:{span:8}},e("title",{rules:[{required:!0,message:"Please input Name of Alert User Group"}],initialValue:t&&t.title})(b.default.createElement(M.default,{placeholder:"Please input"}))),b.default.createElement(i.default.Item,{label:(0,C.formatMessage)({id:"systemManagement.template.templateContent"}),labelCol:{span:4},wrapperCol:{span:8}},e("content",{rules:[{required:!0,message:"Please input Name of Alert User Group"}],initialValue:t&&t.content})(b.default.createElement(N,{rows:8,placeholder:"Please input"}))),b.default.createElement(i.default.Item,{label:(0,C.formatMessage)({id:"systemManagement.template.keyword"}),labelCol:{span:4},wrapperCol:{span:8}},e("keyWord",{rules:[{required:!0,message:"Please input Name of Alert User Group"}],initialValue:t&&t.keyWord})(b.default.createElement(M.default,{placeholder:"Please input"})))))}}]),t}(b.Component),k=i.default.create()(E),S=(y=(0,I.connect)(function(e){var t=e.alertUserGroup,a=e.loading;return{loading:a.effects,userGroup:t.saveUser,updateGroup:t.updateData}}),y((v=function(e){function t(e){var a;return(0,d.default)(this,t),a=(0,f.default)(this,(0,c.default)(t).call(this,e)),a.newUserRef=b.default.createRef(),a.onCancel=function(){a.props.onCancel()},a.onSave=function(){var e=a.props,t=e.dispatch,l=e.updateFlag;a.newUserRef.current.validateFields(function(e,r){if(console.log("err=======",e),!e)if(l){var n=a.props.groupMenuInfo,o={operType:"modifyById",roleId:n.roleId,roleName:r.roleName,roleDesc:r.roleDesc};t({type:"alertUserGroup/updateUserAlert",payload:o,callback:function(){a.props.onSave()}})}else{var s={alertName:r.roleName,alertDesc:r.roleDesc};t({type:"alertUserGroup/newAlertUser",payload:s,callback:function(){u.default.success("success"),a.props.onSave()}})}})},a.getMenuGrops=function(){var e=a.props,t=e.dispatch,l=e.groupMenuInfo,r=(0,p.default)(a),n={operType:"queryById",roleId:l.roleId};t({type:"alertUserGroup/updateUserGroup",payload:n,callback:function(){var e=a.props.updateGroup.map(function(e){return e.menuId});r.setState({selectedKeys:e})}})},a.state={},a}return(0,g.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.groupMenuInfo;return b.default.createElement(b.Fragment,null,b.default.createElement(k,{ref:this.newUserRef,groupMenuInfo:e}),b.default.createElement(n.default,{type:"flex",justify:"end",style:{position:"absolute",right:0,bottom:0,width:"100%",padding:"10px 16px",background:"#fff",textAlign:"right"}},b.default.createElement(o.default,null,b.default.createElement(s.default,{onClick:this.onCancel},"CANCEL"),b.default.createElement(s.default,{type:"primary",onClick:this.onSave},"SAVE"))))}}]),t}(b.Component),h=v))||h),U=S;t.default=U}}]);