(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"6BZM":function(e,t,a){e.exports={inputValue:"antd-pro-pages-audit-log-audit-log-inputValue",content:"antd-pro-pages-audit-log-audit-log-content",tableTop:"antd-pro-pages-audit-log-audit-log-tableTop"}},CNgS:function(e,t,a){"use strict";var n=a("tAuX"),o=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var d=o(a("2/Rp"));a("14J3");var i=o(a("BMrR"));a("5NDa");var l=o(a("5rEg"));a("jCWc");var r=o(a("kPKH"));a("y8nQ");var u=o(a("Vl3Y")),s=o(a("2Taf")),g=o(a("vZ4D")),m=o(a("l4Ni")),f=o(a("ujKo")),p=o(a("MhPg"));a("OaEy");var c=o(a("2fM7"));a("iQDF");var y=o(a("+eQT")),v=n(a("q1tI")),h=a("LLXN"),D=y.default.RangePicker,M=c.default.Option,L=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return a=(0,m.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(o))),a.state={},a}return(0,p.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.search,n=t.exportData,o=t.functionNameOptions;return v.default.createElement(u.default,{className:"ant-advanced-search-form"},v.default.createElement(i.default,{gutter:{xs:24,sm:48,md:144,lg:48,xl:96}},v.default.createElement(r.default,{xs:12,sm:12,lg:8},v.default.createElement(u.default.Item,{label:(0,h.formatMessage)({id:"systemManagement.auditLog.logDate"})},e("logDate",{})(v.default.createElement(D,{format:"YYYY-MM-DD",placeholder:["Start Date","End Date"]})))),v.default.createElement(r.default,{xs:12,sm:12,lg:8},v.default.createElement(u.default.Item,{label:(0,h.formatMessage)({id:"systemManagement.auditLog.updatedBy"})},e("updatedBy",{})(v.default.createElement(l.default,{placeholder:"Please input"})))),v.default.createElement(r.default,{xs:12,sm:12,lg:8},v.default.createElement(u.default.Item,{label:(0,h.formatMessage)({id:"systemManagement.auditLog.functionName"})},e("functionName",{})(v.default.createElement(c.default,{placeholder:"Please Select"},o.map(function(e){return v.default.createElement(M,{key:e.key,value:e.value},e.title)})))))),v.default.createElement("div",{className:"btnArea"},v.default.createElement(d.default,{type:"primary",onClick:n,className:"btn_usual",style:{height:"36px"}},(0,h.formatMessage)({id:"app.common.export"})),v.default.createElement(d.default,{type:"primary",onClick:a},(0,h.formatMessage)({id:"app.common.search"}))))}}]),t}(v.Component);t.default=L},TbQj:function(e,t,a){"use strict";var n=a("g09b"),o=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var d=n(a("kLXV"));a("7Kak");var i=n(a("9yH6"));a("DjyN");var l=n(a("NUBc"));a("g9YV");var r=n(a("wCAj")),u=n(a("2Taf")),s=n(a("vZ4D")),g=n(a("l4Ni")),m=n(a("ujKo")),f=n(a("MhPg"));a("y8nQ");var p,c,y,v=n(a("Vl3Y")),h=o(a("q1tI")),D=a("Hx5s"),M=a("MuoO"),L=a("LLXN"),x=n(a("wd/R")),N=n(a("6BZM")),E=n(a("CNgS")),b=v.default.create({})(E.default),k=(p=(0,M.connect)(function(e){var t=e.auditLog,a=e.loading;return{loading:a.effects,getAuditLogListData:t.data}}),p((y=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return a=(0,g.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(o))),a.state={page:{pageNumber:1,pageSize:10},logStartDate:void 0,logEndDate:void 0,functionName:void 0,updatedBy:void 0,exportDataVisible:!1,functionNameOptions:[{key:"",value:"",title:"All"},{key:"1",value:"1",title:"Name One"},{key:"2",value:"2",title:"Name Two"},{key:"3",value:"3",title:"Name Three"}],columns:[{title:(0,L.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",minWidth:60,render:function(e,t,n){return h.default.createElement("span",null,(a.state.page.pageNumber-1)*a.state.page.pageSize+n+1)}},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.functionName"}),dataIndex:"userName",key:"userName"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.tableName"}),dataIndex:"formName",key:"formName"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.BITOCode"}),dataIndex:"biToCode",key:"biToCode"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.productCode"}),dataIndex:"productCode",key:"productCode"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.effectiveDate"}),dataIndex:"operateDate",key:"operateDate",render:function(e,t){return h.default.createElement("div",null,h.default.createElement("span",null,t.operateDate&&(0,x.default)(t.operateDate).format("DD/MM/YYYY")))}},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.fieldUpdated"}),dataIndex:"ipAddress",key:"ipAddress"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.updateType"}),dataIndex:"ipAddress",key:"ipAddress"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.logDate"}),dataIndex:"operateTime",key:"operateTime"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.updatedBy"}),dataIndex:"operateTime",key:"operateTime"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.before"}),dataIndex:"operateTime",key:"operateTime"},{title:(0,L.formatMessage)({id:"systemManagement.auditLog.after"}),dataIndex:"operateTime",key:"operateTime"}],getAuditLogList:[]},a.auditLogForm=h.default.createRef(),a.getAuditLog=function(){var e=a.state,t=e.logStartDate,n=e.logEndDate,o=e.functionName,d=e.updatedBy,i=e.page,l={pageNumber:i.pageNumber.toString(),pageSize:i.pageSize.toString(),operatorName:o,beginDate:t,endDate:n,updatedBy:d},r=a.props.dispatch;r({type:"auditLog/getAuditLogList",payload:l})},a.pageChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({page:n},function(){a.getAuditLog()})},a.changeBeginDate=function(){},a.changeEndDate=function(){},a.queryLog=function(){a.auditLogForm.current.validateFields(function(e,t){if(!e){var n,o,d=t.logDate;d&&d.length>0&&(n=(0,x.default)(d[0]).format("YYYY-MM-DD"),o=(0,x.default)(d[1]).format("YYYY-MM-DD")),a.setState({logStartDate:n,logEndDate:o,functionName:t.functionName,updatedBy:t.updatedBy}),a.getAuditLog()}})},a.exportData=function(){a.setState({exportDataVisible:!0})},a.exportDataConfirm=function(){a.setState({exportDataVisible:!1})},a.exportDataCancel=function(){a.setState({exportDataVisible:!1})},a.operatorReset=function(){a.auditLogForm.current.resetFields()},a}return(0,f.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.getAuditLog()}},{key:"render",value:function(){var e=this.props.loading,t=this.state.getAuditLogList,a=this.state,n=a.page,o=a.functionNameOptions,u=a.exportDataVisible;t=this.props.getAuditLogListData.items;var s=this.props.getAuditLogListData&&this.props.getAuditLogListData.totalCount;return h.default.createElement(D.PageHeaderWrapper,null,h.default.createElement(b,{search:this.queryLog,exportData:this.exportData,ref:this.auditLogForm,functionNameOptions:o}),h.default.createElement("div",{className:N.default.content},h.default.createElement(r.default,{loading:e["auditLog/getAuditLogList"],dataSource:t,pagination:!1,columns:this.state.columns}),h.default.createElement(l.default,{showSizeChanger:!0,current:n.pageNumber,showTotal:function(){return"Page ".concat(s?n.pageNumber.toString():0," of ").concat(Math.ceil((s||0)/n.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:s,pageSize:n.pageSize})),h.default.createElement(d.default,{title:"Select export format",visible:u,onOk:this.exportDataConfirm,onCancel:this.exportDataCancel,cancelText:(0,L.formatMessage)({id:"app.common.cancel"}),okText:(0,L.formatMessage)({id:"app.common.save"})},h.default.createElement("div",null,h.default.createElement(i.default.Group,{name:"radiogroup",defaultValue:2},h.default.createElement(i.default,{value:1},"csv"),h.default.createElement(i.default,{value:2},"xlsx"),h.default.createElement(i.default,{value:3},"docx"),h.default.createElement(i.default,{value:4},"pdf")))))}}]),t}(h.Component),c=y))||c),S=k;t.default=S}}]);