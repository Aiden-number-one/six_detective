(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{"2sMr":function(e,a,t){e.exports={clearfix:"antd-pro-pages-system-management-email-parameter-email-parameter-clearfix",fl:"antd-pro-pages-system-management-email-parameter-email-parameter-fl",fr:"antd-pro-pages-system-management-email-parameter-email-parameter-fr",emailWraper:"antd-pro-pages-system-management-email-parameter-email-parameter-emailWraper",formWrap:"antd-pro-pages-system-management-email-parameter-email-parameter-formWrap","login-name":"antd-pro-pages-system-management-email-parameter-email-parameter-login-name",header:"antd-pro-pages-system-management-email-parameter-email-parameter-header","add-user":"antd-pro-pages-system-management-email-parameter-email-parameter-add-user",inputValue:"antd-pro-pages-system-management-email-parameter-email-parameter-inputValue",operation:"antd-pro-pages-system-management-email-parameter-email-parameter-operation"}},NAjh:function(e,a,t){"use strict";var l=t("g09b"),r=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("14J3");var s=l(t("BMrR"));t("jCWc");var i=l(t("kPKH"));t("+L6B");var n=l(t("2/Rp"));t("sRBo");var m=l(t("kaz8"));t("y8nQ");var d=l(t("Vl3Y"));t("5NDa");var o,u,p,f=l(t("5rEg")),c=l(t("2Taf")),g=l(t("vZ4D")),v=l(t("l4Ni")),P=l(t("ujKo")),E=l(t("MhPg")),b=r(t("q1tI")),h=t("LLXN"),y=t("MuoO"),A=t("Yfch"),k=function(e){function a(){var e;return(0,c.default)(this,a),e=(0,v.default)(this,(0,P.default)(a).call(this)),e.state={},e}return(0,E.default)(a,e),(0,g.default)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props.emailObj;return b.default.createElement(b.Fragment,null,b.default.createElement(d.default,null,b.default.createElement(d.default.Item,{label:(0,h.formatMessage)({id:"systemManagement.emailParameter.severIP"}),labelCol:{span:6},wrapperCol:{span:8}},e("emailHost",{rules:[{required:!0,message:a&&a.emailHost?"Please Input Correct Server IP":"Please Input Server IP",pattern:A.severIPPattern}],initialValue:a&&a.emailHost})(b.default.createElement(f.default,{placeholder:"Please input"}))),b.default.createElement(d.default.Item,{label:(0,h.formatMessage)({id:"systemManagement.emailParameter.port"}),labelCol:{span:6},wrapperCol:{span:8}},e("emailPort",{rules:[{required:!0,message:"Please Input Port of Email Sever",pattern:A.portPattern}],initialValue:a&&a.emailPort})(b.default.createElement(f.default,{placeholder:"Please input"}))),b.default.createElement(d.default.Item,{label:(0,h.formatMessage)({id:"systemManagement.emailParameter.senderEmailAddress"}),labelCol:{span:6},wrapperCol:{span:8}},e("emailAddress",{rules:[{type:"email",message:"Please Input Sender Correct Email Address!"},{required:!0,message:"Please Input Sender Email Address"}],initialValue:a&&a.emailAddress})(b.default.createElement(f.default,{placeholder:"Please input"}))),b.default.createElement(d.default.Item,{label:(0,h.formatMessage)({id:"systemManagement.emailParameter.senderEmailPassword"}),labelCol:{span:6},wrapperCol:{span:8}},e("emailPassword",{rules:[{required:!0,message:"Please Input Sender Email Password"}],initialValue:a&&a.emailPassword})(b.default.createElement(f.default.Password,{placeholder:"Please input"}))),b.default.createElement(d.default.Item,{label:"Forbidden",labelCol:{span:6},wrapperCol:{span:8}},e("status",{valuePropName:"checked",initialValue:"0"===(a&&a.status)||!a.status})(b.default.createElement(m.default,null)))))}}]),a}(b.Component),w=d.default.create()(k),F=(o=(0,y.connect)(function(e){var a=e.getEmail,t=e.loading;return{loading:t.effects,updateGroup:a.updateData}}),o((p=function(e){function a(e){var t;return(0,c.default)(this,a),t=(0,v.default)(this,(0,P.default)(a).call(this,e)),t.newUserRef=b.default.createRef(),t.onSave=function(){var e=t.props.getEmailListData,a=Object.assign([],e);t.newUserRef.current.validateFields(function(e,l){e||(a.forEach(function(e){var r=e.paramKey.split(".")[2];switch(console.log(),r){case"host":e.paramRealValue=l.emailHost;break;case"port":e.paramRealValue=l.emailPort;break;case"username":e.paramRealValue=l.emailAddress;break;case"password":e.paramRealValue=l.emailPassword;break;case"status":e.paramRealValue=l.status?"0":"1";break;default:console.log(1)}t.props.onSave(a)}),t.props.onSave(a))})},t.state={},t}return(0,E.default)(a,e),(0,g.default)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.emailObj;return b.default.createElement(b.Fragment,null,b.default.createElement(s.default,{type:"flex",justify:"end"},b.default.createElement(i.default,null,b.default.createElement(n.default,{type:"primary",onClick:this.onSave},"SAVE"))),b.default.createElement(w,{ref:this.newUserRef,emailObj:e}))}}]),a}(b.Component),u=p))||u),I=F;a.default=I},Yfch:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.portPattern=a.severIPV6Pattern=a.severIPPattern=void 0;var l=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;a.severIPPattern=l;var r=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;a.severIPV6Pattern=r;var s=/^([0-9]|[1-9]\d{1,3}|[1-5]\d{4}|6[0-5]{2}[0-3][0-5])$/;a.portPattern=s},YwNg:function(e,a,t){"use strict";var l=t("g09b"),r=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("2qtc");var s=l(t("kLXV"));t("miYZ");var i=l(t("tsqr")),n=l(t("2Taf")),m=l(t("vZ4D")),d=l(t("l4Ni")),o=l(t("ujKo")),u=l(t("MhPg"));t("y8nQ");var p,f,c,g=l(t("Vl3Y")),v=r(t("q1tI")),P=t("Hx5s"),E=t("MuoO"),b=t("LLXN"),h=l(t("2sMr")),y=l(t("NAjh")),A=g.default.create({})(y.default),k=(p=(0,E.connect)(function(e){var a=e.getEmail,t=e.loading;return{loading:t.effects,getEmailListData:a.data}}),p((c=function(e){function a(){var e,t;(0,n.default)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return t=(0,d.default)(this,(e=(0,o.default)(a)).call.apply(e,[this].concat(r))),t.state={visible:!1,confirmLoading:!1,emailObj:{emailHost:"",emailPort:"",emailAddress:"",emailPassword:"",status:""},emailListData:[]},t.addFormRef=v.default.createRef(),t.modifyForm=v.default.createRef(),t.handleOk=function(){var e=t.props.dispatch;t.addFormRef.current.validateFields(function(a,l){var r={mailHost:l.mailHost,mailPort:l.mailPort,mailAddress:l.mailAddress,mailPassword:l.mailPassword,isopen:l.isopen,remark:l.remark,isAddConfig:!0};e({type:"getEmail/addEmailDate",payload:r,callback:function(){t.getEmailInit()}})})},t.updateEmail=function(e,a){var l={mailHost:a.mailHost,mailPort:a.mailPort,mailAddress:a.mailAddress,mailPassword:a.mailPassword,isopen:a.isopen};t.setState({emailObj:l},function(){console.log("emailObj=",t.state.emailObj)})},t.modifyConfirm=function(){var e=t.props.dispatch;t.modifyForm.current.validateFields(function(a,l){var r={mailHost:l.mailHost,mailPort:l.mailPort,mailAddress:l.mailAddress,mailPassword:l.mailPassword,isopen:l.isopen,remark:l.remark};e({type:"getEmail/addEmailDate",payload:r,callback:function(){t.getEmailInit()}})})},t.getEmailInit=function(){var e=t.props.dispatch,a={};e({type:"getEmail/getEmailList",payload:a,callback:function(){t.formatEmailObj(t.props.getEmailListData.items)}})},t.formatEmailObj=function(e){console.log("getEmailListData=",e);var a={};e.map(function(e){var t=e.paramKey.split(".")[2];switch(console.log(),t){case"host":a.emailHost=e.paramRealValue;break;case"port":a.emailPort=e.paramRealValue;break;case"username":a.emailAddress=e.paramRealValue;break;case"password":a.emailPassword=e.paramRealValue;break;case"status":a.status=e.paramRealValue;break;case"from":a.form=e.paramRealValue;break;default:a.form=e.paramRealValue}return!0}),t.setState({emailObj:a})},t.onSave=function(e){console.log("params=",e),t.setState({emailListData:e,visible:!0})},t.handleOk=function(){var e=t.state.emailListData,a=t.props.dispatch,l={operType:"emailUpdate",paramInfo:JSON.stringify(e)};a({type:"getEmail/updateEmail",payload:l,callback:function(){i.default.success({content:"save success",duration:2}),t.setState({visible:!1})}})},t.handleCancel=function(){t.setState({visible:!1})},t}return(0,u.default)(a,e),(0,m.default)(a,[{key:"componentDidMount",value:function(){this.getEmailInit()}},{key:"render",value:function(){var e=this.props,a=e.loading,t=e.getEmailListData,l=this.state,r=l.visible,i=l.confirmLoading;return v.default.createElement(P.PageHeaderWrapper,null,v.default.createElement(v.Fragment,null,v.default.createElement("div",null,v.default.createElement("div",{className:h.default.emailWraper},v.default.createElement(A,{ref:this.modifyForm,emailObj:this.state.emailObj,getEmailListData:t.items,onSave:this.onSave,loading:a}),v.default.createElement(s.default,{title:(0,b.formatMessage)({id:"app.common.save"}),visible:r,onOk:this.handleOk,confirmLoading:i,onCancel:this.handleCancel},v.default.createElement("p",null,"All of you change have been saved"))))))}}]),a}(v.Component),f=c))||f),w=k;a.default=w}}]);