(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"3rS4":function(e,t,a){"use strict";var n=a("g09b"),d=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var o=n(a("kLXV")),i=n(a("jehZ"));a("bbsP");var c=n(a("/wGt"));a("14J3");var l=n(a("BMrR"));a("jCWc");var r=n(a("kPKH"));a("+L6B");var s=n(a("2/Rp"));a("DjyN");var m=n(a("NUBc"));a("g9YV");var u=n(a("wCAj"));a("5NDa");var f=n(a("5rEg")),p=n(a("2Taf")),g=n(a("vZ4D")),I=n(a("l4Ni")),C=n(a("ujKo")),h=n(a("MhPg"));a("y8nQ");var b,v,y,N=n(a("Vl3Y")),E=d(a("q1tI")),M=a("Hx5s"),S=a("MuoO"),L=a("LLXN"),k=n(a("RR/9")),V=n(a("9PR5")),x=N.default.create({})(V.default),P=function(e){function t(){var e,a;(0,p.default)(this,t);for(var n=arguments.length,d=new Array(n),o=0;o<n;o++)d[o]=arguments[o];return a=(0,I.default)(this,(e=(0,C.default)(t)).call.apply(e,[this].concat(d))),a.state={},a}return(0,h.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.codeId,n=t.dictItemId,d=t.dictItemIdName,o=t.sortNo;return E.default.createElement("div",null,E.default.createElement(N.default,{layout:"inline",className:k.default.formWrap},E.default.createElement(N.default.Item,{label:(0,L.formatMessage)({id:"systemManagement.codeMaintenance.codeID"})},e("codeId",{initialValue:a||void 0})(E.default.createElement(f.default,{className:k.default.inputValue,disabled:!0}))),E.default.createElement(N.default.Item,{label:(0,L.formatMessage)({id:"systemManagement.codeMaintenance.subitemID"})},e("dictItemId",{initialValue:n||void 0})(E.default.createElement(f.default,{className:k.default.inputValue}))),E.default.createElement(N.default.Item,{label:(0,L.formatMessage)({id:"systemManagement.codeMaintenance.subitemName"})},e("dictItemIdName",{initialValue:d||void 0})(E.default.createElement(f.default,{className:k.default.inputValue}))),E.default.createElement(N.default.Item,{label:(0,L.formatMessage)({id:"systemManagement.codeMaintenance.sequence"})},e("sortNo",{initialValue:o||void 0})(E.default.createElement(f.default,{className:k.default.inputValue})))))}}]),t}(E.Component),z=N.default.create({})(P),w=(b=(0,S.connect)(function(e){var t=e.codeList,a=e.loading;return{loading:a.effects,getCodeListData:t.data,getCodeItemListData:t.itemData}}),b((y=function(e){function t(){var e,a;(0,p.default)(this,t);for(var n=arguments.length,d=new Array(n),o=0;o<n;o++)d[o]=arguments[o];return a=(0,I.default)(this,(e=(0,C.default)(t)).call.apply(e,[this].concat(d))),a.searchForm=E.default.createRef(),a.state={codeVisible:!1,updateCodeItemVisible:!1,deleteCodeItemVisible:!1,codeName:"",itemNameValue:"",columns:[{title:(0,L.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",render:function(e,t,n){return E.default.createElement("span",null,(a.state.itemPage.pageNumber-1)*a.state.itemPage.pageSize+n+1)}},{title:(0,L.formatMessage)({id:"systemManagement.codeMaintenance.subitemID"}),dataIndex:"subitemId",key:"subitemId"},{title:(0,L.formatMessage)({id:"systemManagement.codeMaintenance.subitemName"}),dataIndex:"subitemName",key:"subitemName"},{title:(0,L.formatMessage)({id:"systemManagement.codeMaintenance.sequence"}),dataIndex:"sequence",key:"sequence"},{title:(0,L.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",key:"operation",render:function(e,t,n,d){return E.default.createElement("span",{className:k.default.operation},E.default.createElement("a",{href:"#",onClick:function(){a.updateCode(e,t,n,d)}},(0,L.formatMessage)({id:"app.common.modify"})),E.default.createElement("a",{href:"#",onClick:function(){a.deleteCodeItem(e,t)}},(0,L.formatMessage)({id:"app.common.delete"})))}}],codeColumns:[{title:(0,L.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",render:function(e,t,n){return E.default.createElement("span",null,(a.state.page.pageNumber-1)*a.state.page.pageSize+n+1)}},{title:(0,L.formatMessage)({id:"systemManagement.codeMaintenance.codeID"}),dataIndex:"codeId",key:"codeId"},{title:(0,L.formatMessage)({id:"systemManagement.codeMaintenance.codeName"}),dataIndex:"codeName",key:"codeName"}],page:{pageNumber:1,pageSize:10},codeId:"",itemPage:{pageNumber:"1",pageSize:"10"},updateCodeItemParams:{codeId:"",dictItemId:"",dictItemIdName:"",sortNo:""}},a.codeFormRef=E.default.createRef(),a.addCode=function(){a.setState({codeVisible:!0})},a.codeConfirm=function(){var e=a.props.dispatch;a.codeFormRef.current.validateFields(function(t,n){var d={codeId:a.state.codeId,dictItemId:n.dictItemId,dictItemIdName:n.dictItemIdName,sortNo:n.sortNo};e({type:"codeList/addCodeItem",payload:d,callback:function(){a.queryCodeItemList()}})}),a.setState({codeVisible:!1})},a.codeCancel=function(){a.setState({codeVisible:!1})},a.handleChange=function(){},a.updateCode=function(e,t){var n={codeId:"".concat(a.state.codeId),dictItemId:t.dictItemId,dictItemIdName:t.dictItemIdName,sortNo:t.sortNo};a.setState({updateCodeItemVisible:!0,updateCodeItemParams:n})},a.updateCodeItemConfirm=function(){var e=a.props.dispatch;a.codeFormRef.current.validateFields(function(t,n){var d={codeId:a.state.codeId,dictItemId:a.state.updateCodeItemParams.dictItemId,updDictItemId:n.dictItemId,dictItemIdName:n.dictItemIdName,sortNo:n.sortNo};e({type:"codeList/updateCodeItem",payload:d,callback:function(){a.queryCodeItemList()}})}),a.setState({updateCodeItemVisible:!1})},a.updateCodeItemCancel=function(){a.setState({updateCodeItemVisible:!1})},a.deleteCodeItem=function(e,t){var n={dictItemId:t.dictItemId};a.setState({deleteCodeItemVisible:!0,updateCodeItemParams:n})},a.deleteCodeItemConfirm=function(){var e=a.props.dispatch,t={codeId:a.state.codeId,dictItemId:a.state.updateCodeItemParams.dictItemId};e({type:"codeList/deleteCodeItem",payload:t,callback:function(){a.queryCodeItemList(),a.setState({deleteCodeItemVisible:!1})}})},a.deleteCodeItemCancel=function(){a.setState({deleteCodeItemVisible:!1})},a.setServer=function(){},a.handleSubmit=function(){},a.queryCodeList=function(){var e=a.props.dispatch,t=a.state,n=t.page,d=t.codeName,o={pageNumber:n.pageNumber.toString(),pageSize:n.pageSize.toString(),operType:"codeQuery",codeName:d};e({type:"codeList/getCodeList",payload:o,callback:function(){a.setState({codeId:a.props.getCodeListData.items[0]&&a.props.getCodeListData.items[0].codeId},function(){a.queryCodeItemList()})}})},a.itemNameChange=function(e){a.setState({itemNameValue:e.target.value})},a.queryCode=function(){a.searchForm.current.validateFields(function(e,t){e||a.setState({codeName:t.codeName},function(){a.queryCodeList()})})},a.onShowSizeChange=function(e,t){var n={pageNumber:e,pageSize:t};a.setState({page:n},function(){a.queryCodeList()})},a.connectCodeList=function(e){a.setState({codeId:e.codeId},function(){a.queryCodeItemList()})},a.queryCodeItemList=function(){var e=a.props.dispatch,t={operType:"subitemQueryBycodeId",pageNumber:"".concat(a.state.itemPage.pageNumber)||"1",pageSize:"".concat(a.state.itemPage.pageSize)||"10",codeId:"".concat(a.state.codeId)};e({type:"codeList/getCodeItemList",payload:t})},a}return(0,h.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){this.queryCodeList()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.getCodeListData,d=t.getCodeItemListData,f=n&&n.totalCount,p=d&&d.totalCount,g=this.state,I=g.page,C=g.itemPage,h=g.updateCodeItemParams,b=n&&n.items,v=d&&d.items;return b&&b.forEach(function(t,a){t.index=(e.state.page.pageNumber-1)*e.state.page.pageSize+a+1}),v&&v.forEach(function(t,a){t.index=(e.state.itemPage.pageNumber-1)*e.state.itemPage.pageSize+a+1}),E.default.createElement(M.PageHeaderWrapper,null,E.default.createElement(E.Fragment,null,E.default.createElement("div",null,E.default.createElement("div",null,E.default.createElement(x,{search:this.queryCode,ref:this.searchForm})),E.default.createElement("div",null,E.default.createElement(u.default,{loading:a["codeList/getCodeList"],dataSource:b,columns:this.state.codeColumns,pagination:!1,onRow:function(t){return{onClick:function(){e.connectCodeList(t)}}}}),E.default.createElement(m.default,{showSizeChanger:!0,current:I.pageNumber,showTotal:function(){return"Page ".concat(f?I.pageNumber:0," of ").concat(Math.ceil((f||0)/I.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:f,pageSize:I.pageSize}))),E.default.createElement("div",null,E.default.createElement("div",null,E.default.createElement(c.default,{closable:!1,title:"\u65b0\u589e\u5b57\u5178\u5b50\u9879",width:700,onClose:this.codeCancel,visible:this.state.codeVisible},this.state.codeVisible&&E.default.createElement(z,{ref:this.codeFormRef,codeId:this.state.codeId}),E.default.createElement(l.default,{type:"flex",justify:"end",style:{position:"absolute",right:0,bottom:0,width:"100%",padding:"10px 16px",background:"#fff",textAlign:"right"}},E.default.createElement(r.default,null,E.default.createElement(s.default,{onClick:this.updateCodeItemCancel},"CANCEL"),E.default.createElement(s.default,{type:"primary",onClick:this.updateCodeItemConfirm},"SAVE")))),E.default.createElement(o.default,{title:"\u4fee\u6539\u5b57\u5178\u5b50\u9879",visible:this.state.updateCodeItemVisible,onOk:this.updateCodeItemConfirm,onCancel:this.updateCodeItemCancel,cancelText:(0,L.formatMessage)({id:"app.common.cancel"}),okText:(0,L.formatMessage)({id:"app.common.save"})},E.default.createElement(z,(0,i.default)({ref:this.codeFormRef},h))),E.default.createElement(o.default,{title:"\u63d0\u793a",visible:this.state.deleteCodeItemVisible,onOk:this.deleteCodeItemConfirm,onCancel:this.deleteCodeItemCancel,cancelText:(0,L.formatMessage)({id:"app.common.cancel"}),okText:(0,L.formatMessage)({id:"app.common.save"})},E.default.createElement("div",null,E.default.createElement("span",null,"\u786e\u5b9a\u5220\u9664\u5417\uff1f")))),E.default.createElement("div",{className:k.default.content},E.default.createElement("div",{className:k.default.tableTop},E.default.createElement(s.default,{onClick:this.addCode,type:"primary",className:"btn_usual"},"+ Add")),E.default.createElement(u.default,{loading:a["codeList/getCodeItemList"],dataSource:v,pagination:!1,columns:this.state.columns}),E.default.createElement(m.default,{showSizeChanger:!0,current:C.pageNumber,showTotal:function(){return"Page ".concat(p?C.pageNumber:0," of ").concat(Math.ceil((p||0)/C.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:p,pageSize:C.pageSize})))))}}]),t}(E.Component),v=y))||v),D=w;t.default=D},"9PR5":function(e,t,a){"use strict";var n=a("tAuX"),d=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var o=d(a("2/Rp"));a("14J3");var i=d(a("BMrR"));a("jCWc");var c=d(a("kPKH"));a("y8nQ");var l=d(a("Vl3Y"));a("5NDa");var r=d(a("5rEg")),s=d(a("2Taf")),m=d(a("vZ4D")),u=d(a("l4Ni")),f=d(a("ujKo")),p=d(a("MhPg")),g=n(a("q1tI")),I=a("LLXN"),C=d(a("RR/9")),h=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,d=new Array(n),o=0;o<n;o++)d[o]=arguments[o];return a=(0,u.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(d))),a.state={},a}return(0,p.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.search;return g.default.createElement(l.default,{className:"ant-advanced-search-form"},g.default.createElement(i.default,{gutter:{xs:24,sm:48,md:144,lg:48,xl:96}},g.default.createElement(c.default,{xs:12,sm:12,lg:8},g.default.createElement(l.default.Item,{label:(0,I.formatMessage)({id:"systemManagement.codeMaintenance.codeName"})},e("codeName",{})(g.default.createElement(r.default,{className:C.default.inputvalue,placeholder:"Please Input ".concat((0,I.formatMessage)({id:"systemManagement.codeMaintenance.codeName"}))}))))),g.default.createElement("div",{className:"btnArea"},g.default.createElement(o.default,{type:"primary",onClick:t},(0,I.formatMessage)({id:"app.common.search"}))))}}]),t}(g.Component);t.default=h},"RR/9":function(e,t,a){e.exports={clearfix:"antd-pro-pages-code-maintenance-code-maintenance-clearfix",fl:"antd-pro-pages-code-maintenance-code-maintenance-fl",fr:"antd-pro-pages-code-maintenance-code-maintenance-fr","login-name":"antd-pro-pages-code-maintenance-code-maintenance-login-name",header:"antd-pro-pages-code-maintenance-code-maintenance-header",formWrap:"antd-pro-pages-code-maintenance-code-maintenance-formWrap",operation:"antd-pro-pages-code-maintenance-code-maintenance-operation",inputValue:"antd-pro-pages-code-maintenance-code-maintenance-inputValue",content:"antd-pro-pages-code-maintenance-code-maintenance-content",tableTop:"antd-pro-pages-code-maintenance-code-maintenance-tableTop"}}}]);