(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{DLUj:function(e,t,a){"use strict";var n=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var o=n(a("/wGt"));a("g9YV");var i=n(a("wCAj"));a("+L6B");var r=n(a("2/Rp"));a("14J3");var u=n(a("BMrR"));a("jCWc");var d=n(a("kPKH"));a("y8nQ");var f=n(a("Vl3Y"));a("5NDa");var c=n(a("5rEg")),p=n(a("2Taf")),s=n(a("vZ4D")),m=n(a("l4Ni")),g=n(a("ujKo")),v=n(a("MhPg"));a("OaEy");var h,C,y,b=n(a("2fM7")),w=l(a("q1tI")),E=a("Hx5s"),I=a("MuoO"),M=a("LLXN"),N=n(a("cZ2p")),D=b.default.Option,F=function(e){function t(){return(0,p.default)(this,t),(0,m.default)(this,(0,g.default)(t).apply(this,arguments))}return(0,v.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.search;return w.default.createElement(f.default,{className:"ant-advanced-search-form"},w.default.createElement(u.default,{gutter:{xs:24,sm:48,md:144,lg:48,xl:96}},w.default.createElement(d.default,{xs:12,sm:12,lg:8},w.default.createElement(f.default.Item,{label:"Function ID",colon:!1},e("functionId")(w.default.createElement(c.default,null)))),w.default.createElement(d.default,{xs:12,sm:12,lg:8},w.default.createElement(f.default.Item,{label:"Flow Name",colon:!1},e("flowName")(w.default.createElement(c.default,null))))),w.default.createElement("div",{className:"btnArea"},w.default.createElement(r.default,{type:"primary",onClick:t},"Search")))}}]),t}(w.PureComponent),S=f.default.create({})(F),x=function(e){function t(){return(0,p.default)(this,t),(0,m.default)(this,(0,g.default)(t).apply(this,arguments))}return(0,v.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.flowNameList,n=t.configItem;return w.default.createElement(f.default,{onSubmit:this.handleSubmit},w.default.createElement(f.default.Item,{label:"Function ID",labelCol:{span:5},wrapperCol:{span:16}},e("functionID",{initialValue:n.functionId||""})(w.default.createElement(c.default,{disabled:!0}))),w.default.createElement(f.default.Item,{label:"Flow Name",labelCol:{span:5},wrapperCol:{span:16}},e("processUuid",{rules:[{required:!1}],initialValue:n.processUuid})(w.default.createElement(b.default,null,a.map(function(e){return w.default.createElement(D,{value:e.processDefinitionId},e.name)})))))}}]),t}(w.PureComponent),k=f.default.create({})(x),L=(h=(0,I.connect)(function(e){var t=e.approvalConfiguration,a=e.loading;return{loading:a.effects["approvalConfiguration/approvalConfigDatas"],approvalConfigList:t.data,deployedModelList:t.deployedModelDatas}}),h((y=function(e){function t(){var e,a;(0,p.default)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return a=(0,m.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(l))),a.state={visible:!1,configItem:{}},a.newConfigurationForm=w.default.createRef(),a.newModifyForm=w.default.createRef(),a.configData=function(e){var t=a.props.dispatch;t({type:"approvalConfiguration/approvalConfigDatas",payload:e})},a.deployedModelList=function(e){var t=a.props.dispatch;t({type:"approvalConfiguration/deployedModelListDatas",payload:e})},a.handleSubmit=function(){a.newConfigurationForm.current.validateFields(function(e,t){a.configData({pageNumber:"1",pageSize:"10",functionId:t.functionId,flowName:t.flowName})})},a.showModel=function(e){a.setState({visible:!0,configItem:e})},a.handleCancel=function(){a.setState({visible:!1})},a.handelSave=function(){a.newModifyForm.current.validateFields(function(e,t){a.saveConfig(t),a.handleCancel()})},a.saveConfig=function(e){var t=a.props.dispatch;t({type:"approvalConfiguration/saveConfigDatas",payload:e,callback:function(e){return a.configData(e)}})},a}return(0,v.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.configData({pageNumber:"1",pageSize:"10"}),this.deployedModelList({pageNumber:"1",pageSize:"10"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.approvalConfigList,n=t.deployedModelList,l=this.state,u=l.configItem,d=l.visible,f=[{title:"Function ID",dataIndex:"functionId",align:"center"},{title:(0,M.formatMessage)({id:"systemManagement.flowConfig.flowName"}),dataIndex:"flowName",align:"center"},{title:(0,M.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",align:"center",render:function(t,a){return w.default.createElement("span",null,w.default.createElement("a",{href:"#",onClick:function(){return e.showModel(a)}},(0,M.formatMessage)({id:"app.common.modify"})))}}];return w.default.createElement(w.Fragment,null,w.default.createElement(E.PageHeaderWrapper,null,w.default.createElement("div",{className:N.default.approvalConfiguration},w.default.createElement(S,{search:this.handleSubmit,ref:this.newConfigurationForm}),w.default.createElement("div",{className:N.default.content},w.default.createElement(i.default,{columns:f,dataSource:a,className:N.default.tableBox,pagination:{size:"small"}})),w.default.createElement(o.default,{title:"Set Flow Name",width:500,onClose:this.handleCancel,visible:d,bodyStyle:{paddingBottom:80}},d&&w.default.createElement(w.default.Fragment,null,w.default.createElement(k,{flowNameList:n,configItem:u,ref:this.newModifyForm}),w.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},w.default.createElement(r.default,{onClick:this.handelSave,style:{marginRight:12},type:"primary"},"Save"),w.default.createElement(r.default,{onClick:this.handleCancel},"Cancel")))))))}}]),t}(w.PureComponent),C=y))||C),P=L;t.default=P},cZ2p:function(e,t,a){e.exports={approvalConfiguration:"antd-pro-pages-approval-approval-configuration-approval-configuration-approvalConfiguration",content:"antd-pro-pages-approval-approval-configuration-approval-configuration-content"}}}]);