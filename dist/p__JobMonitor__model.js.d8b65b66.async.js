(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{DlOD:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("d6i3")),o=r(a("p0pE")),c=r(a("jveU")),u=a("+n12"),l={namespace:"tm",state:{jobs:[],jobDetail:{},tasks:[],taskPoints:[],eachBatches:[]},reducers:{getJobs:function(e,t){var a=t.payload,r=[{type:0,name:"\u51fa\u9519\u4e2d\u65ad",color:"#ea6b74",icon:"close-circle",children:[]},{type:1,name:"\u6267\u884c\u4e2d",color:"#333333",icon:"fire",children:[]},{type:2,name:"\u6210\u529f\u5b8c\u6210",color:"#63c9d5",icon:"check-circle",children:[]},{type:3,name:"\u51fa\u9519\u5b8c\u6210",color:"#f1c40f",icon:"close-circle",children:[]},{type:4,name:"\u65b0\u5efa",color:"#bac3d0",icon:"plus-circle",children:[]}],n=r.map(function(e){return a.forEach(function(t){var a=t.executeFlag;0===e.type&&"B"===a&&e.children.push((0,o.default)({},t,{color:e.color})),2===e.type&&"S"===a&&e.children.push((0,o.default)({},t,{color:e.color})),4===e.type&&null===a&&e.children.push((0,o.default)({},t,{color:e.color}))}),e});return(0,o.default)({},e,{jobs:n})},getJobDetail:function(e,t){var a=t.payload;return(0,o.default)({},e,{jobDetail:a})},getTasksOfJob:function(e,t){var a=t.payload;return(0,o.default)({},e,{tasks:(0,u.formatTree)(a,"monitorId","parentMonitorId")})},getTaskPointsOfJob:function(e,t){var a=t.payload;return(0,o.default)({},e,{taskPoints:a})},getEachBatch:function(e,t){var a=t.payload,r=a.map(function(e){var t=e.successNum,a=e.errorNum,r=e.taskSum,n=e.startTime,c=e.endTime,l=e.zxsj;if(r>0){var s=r-t-a;return(0,o.default)({},e,{zxsjFormat:(0,u.msFormat)(l),startTimeFormat:(0,u.formatTimeString)(n),endTimeFormat:(0,u.formatTimeString)(c),result:[{name:"\u6267\u884c\u6210\u529f",value:t},{name:"\u6267\u884c\u5931\u8d25",value:a},{name:"\u672a\u6267\u884c",value:s}]})}return{result:[{name:"\u6267\u884c\u4e2d",value:0}]}});return(0,o.default)({},e,{eachBatches:r})}},effects:{queryJobs:n.default.mark(function e(t,a){var r,o,u,l,s;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.params,o=a.call,u=a.put,e.next=4,o((0,c.default)("get_all_job_deal_info"),r);case 4:return l=e.sent,s=l.items,e.next=8,u({type:"getJobs",payload:s});case 8:case"end":return e.stop()}},e)}),queryJobDetail:n.default.mark(function e(t,a){var r,o,u,l,s;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.params,o=a.call,u=a.put,e.next=4,o((0,c.default)("get_job_finish_rate_info"),r);case 4:if(l=e.sent,s=l.items,!(s.length>0)){e.next=9;break}return e.next=9,u({type:"getJobDetail",payload:s});case 9:case"end":return e.stop()}},e)}),queryTasksOfJob:n.default.mark(function e(t,a){var r,o,u,l,s;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.params,o=a.call,u=a.put,e.next=4,o((0,c.default)("get_job_detail_flow_info"),r);case 4:return l=e.sent,s=l.items,e.next=8,u({type:"getTasksOfJob",payload:s});case 8:case"end":return e.stop()}},e)}),queryTaskPointsOfJob:n.default.mark(function e(t,a){var r,o,u,l,s;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.params,o=a.call,u=a.put,e.next=4,o((0,c.default)("get_job_xml_nodeinfo"),r);case 4:return l=e.sent,s=l.items,e.next=8,u({type:"getTaskPointsOfJob",payload:s});case 8:case"end":return e.stop()}},e)}),queryEachBatch:n.default.mark(function e(t,a){var r,o,u,l,s;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.params,o=a.call,u=a.put,e.next=4,o((0,c.default)("get_each_batch_finish_data_info"),r);case 4:return l=e.sent,s=l.items,e.next=8,u({type:"getEachBatch",payload:s});case 8:case"end":return e.stop()}},e)})}};t.default=l}}]);