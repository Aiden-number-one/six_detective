(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"30PG":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3"));a("14J3");var u=n(a("BMrR"));a("+L6B");var d=n(a("2/Rp")),o=n(a("1l/V")),i=n(a("p0pE")),c=n(a("qIgq")),f=l(a("q1tI")),s=a("MuoO"),m=a("LLXN"),p=a("Hx5s"),g=a("8Br5"),v=n(a("0WKO")),E=n(a("uCn6")),w=n(a("R/I8")),h=n(a("/PE8"));function b(e){var t=e.dispatch,a=e.loading,l=e.logs,n=e.page,s=e.total,b=(0,f.useState)(!1),y=(0,c.default)(b,2),C=y[0],I=y[1],x=(0,f.useState)({market:g.defaultMarket,startDate:g.defaultDateRange[0],endDate:g.defaultDateRange[1]}),F=(0,c.default)(x,2),M=F[0],P=F[1];function S(e,a){P(a),t({type:e,payload:a})}function k(e,a){t({type:"newAccount/reload",payload:(0,i.default)({page:e,pageSize:a},M)})}function N(e){return z.apply(this,arguments)}function z(){return z=(0,o.default)(r.default.mark(function e(a){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"newAccount/importByManual",payload:a});case 2:I(!1);case 3:case"end":return e.stop()}},e)})),z.apply(this,arguments)}function A(e){return L.apply(this,arguments)}function L(){return L=(0,o.default)(r.default.mark(function e(a){var l;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"newAccount/fetchReportUrl",payload:{lopImpId:a}});case 2:l=e.sent,l&&(0,g.downloadFile)(l);case 4:case"end":return e.stop()}},e)})),L.apply(this,arguments)}return(0,f.useEffect)(function(){t({type:"newAccount/fetch",payload:M})},[]),f.default.createElement(p.PageHeaderWrapper,null,f.default.createElement("div",{className:h.default.container},f.default.createElement(v.default,{formType:2,loading:a,onParams:S}),f.default.createElement(E.default,{visible:C,loading:a,handleCancel:function(){return I(!1)},handleUpload:N}),f.default.createElement("div",{className:h.default["list-wrap"]},f.default.createElement(u.default,{className:h.default["btn-group"]},f.default.createElement(d.default,{type:"primary",className:h.default["no-margin"],onClick:function(){return I(!0)}},f.default.createElement(m.FormattedMessage,{id:"data-import.manual-import"}))),f.default.createElement(w.default,{page:n,total:s,dataSource:l,loading:a,onPageChange:k,onPageSizeChange:k,onDownload:A}))))}var y=(0,s.connect)(function(e){var t=e.loading,a=e.newAccount,l=a.logs,n=a.page,r=a.total;return{loading:t.effects,logs:l,page:n,total:r}})(b);t.default=y},"R/I8":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=m,a("Pwec");var r=n(a("CtXQ")),u=n(a("qIgq"));a("g9YV");var d=n(a("wCAj")),o=l(a("q1tI")),i=a("LLXN"),c=n(a("BN5G")),f=a("8Br5"),s=d.default.Column;function m(e){var t=e.dataSource,a=e.loading,l=e.page,n=e.total,m=e.onPageChange,p=e.onPageSizeChange,g=e.onDownload,v=(0,o.useState)(""),E=(0,u.default)(v,2),w=E[0],h=E[1];function b(e){h(e),g(e)}return o.default.createElement(d.default,{dataSource:t,loading:a["new_account/fetch"],rowKey:"mdImpId",pagination:{current:l,total:n,pageSizeOptions:f.pageSizeOptions,showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(e,t){m(e,t)},onShowSizeChange:function(e,t){p(e,t)}}},o.default.createElement(s,{align:"center",dataIndex:"market",title:o.default.createElement(i.FormattedMessage,{id:"data-import.market"})}),o.default.createElement(s,{align:"center",dataIndex:"submitterCode",title:o.default.createElement(i.FormattedMessage,{id:"data-import.submitter-code"})}),o.default.createElement(s,{dataIndex:"fileName",title:o.default.createElement(i.FormattedMessage,{id:"data-import.new-account.file-name"})}),o.default.createElement(s,{align:"center",dataIndex:"submissionStatus",title:o.default.createElement(i.FormattedMessage,{id:"data-import.submission-status"})}),o.default.createElement(s,{align:"center",dataIndex:"download",title:o.default.createElement(i.FormattedMessage,{id:"data-import.download"}),render:function(e,t){var l=t.lopImpId;return o.default.createElement(o.default.Fragment,null,a["lop/fetchReportUrl"]&&l===w?o.default.createElement(r.default,{type:"loading"}):o.default.createElement(c.default,{type:"icondownload",onClick:function(){return b(l)},style:{fontSize:24,cursor:"pointer"}}))}}))}},uCn6:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=l(a("/wGt"));a("DZo9");var r=l(a("8z0m"));a("+L6B");var u=l(a("2/Rp"));a("Pwec");var d=l(a("CtXQ"));a("y8nQ");var o=l(a("Vl3Y"));a("5NDa");var i=l(a("5rEg")),c=l(a("d6i3")),f=l(a("p0pE")),s=l(a("Y/ft")),m=l(a("1l/V")),p=l(a("q1tI")),g=a("LLXN"),v=l(a("/PE8")),E=function(e){return e/1024/1024<5};function w(e){var t=e.form,a=e.visible,l=e.handleCancel,w=e.handleUpload,h=t.getFieldDecorator,b=t.validateFields;function y(){b(function(){var e=(0,m.default)(c.default.mark(function e(a,l){var n,r,u,d,o,i,m,p,g;return c.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=9;break}if(n=l.uploadFiles,r=(0,s.default)(l,["uploadFiles"]),u=n&&n.length&&n[0].response||{},d=u.bcjson,o=d||{},i=o.flag,m=o.items,p=void 0===m?{}:m,"1"!==i||!p){e.next=9;break}return g=p.relativeUrl,e.next=8,w((0,f.default)({filename:g},r));case 8:t.resetFields();case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())}return p.default.createElement(n.default,{title:p.default.createElement(g.FormattedMessage,{id:"data-import.market.manual-upload"}),width:320,closable:!1,bodyStyle:{paddingBottom:60,paddingTop:10},visible:a,onClose:l},p.default.createElement(o.default,{className:v.default["modal-form"]},p.default.createElement(o.default.Item,{label:p.default.createElement(g.FormattedMessage,{id:"data-import.submitter-code"})},h("submitterCode",{rules:[{required:!0,message:"Please input submitter code!"}]})(p.default.createElement(i.default,{placeholder:"please input submitter code"}))),p.default.createElement(o.default.Item,{label:p.default.createElement(g.FormattedMessage,{id:"data-import.lop.submission-report"})},h("uploadFiles",{rules:[{required:!0,validator:function(e,t,a){if(!t)return a("Please select a file!");if(t&&t.length){var l=t[0];if(!E(l.size))return a("file size must less than 5M");if(l.error)return a(l.error.message)}return a()}}],valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList.slice(-1)}})(p.default.createElement(r.default,{accept:".xlsm,.xls,.xlsx,.pdf,application/msexcel",action:"/upload",beforeUpload:function(e){return E(e.size)}},p.default.createElement(u.default,null,p.default.createElement(d.default,{type:"upload"}),p.default.createElement(g.FormattedMessage,{id:"data-import.browse"})))))),p.default.createElement("div",{className:v.default["bottom-btns"]},p.default.createElement(u.default,{onClick:l},"Cancel"),p.default.createElement(u.default,{type:"primary",onClick:y},"Commit")))}var h=o.default.create()(w);t.default=h}}]);