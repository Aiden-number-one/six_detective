(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{"/Lk6":function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var n=l(a("2/Rp"));a("5NDa");var d=l(a("5rEg")),o=l(a("2Taf")),i=l(a("vZ4D")),u=l(a("l4Ni")),s=l(a("ujKo")),c=l(a("MhPg"));a("y8nQ");var f,p,m,h,y=l(a("Vl3Y")),g=r(a("q1tI")),D=(l(a("17x9")),f=y.default.create({}),f((h=m=function(e){function t(){var e,a;(0,o.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(r))),a.handleSubmit=function(e){e.preventDefault();var t=a.props,l=t.handleSubmit,r=t.form;r.validateFieldsAndScroll(function(e,t){e||(l(t),r.resetFields())})},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.nodeTree,l=t.toggleDrawer,r=t.clearNodeTree,o=t.operateType;return g.default.createElement(y.default,{onSubmit:this.handleSubmit},"DELETE"===o?"Please Confirm to delete":g.default.createElement(y.default.Item,{label:"Classify Name",labelCol:{span:8},wrapperCol:{span:16}},e("className",{rules:[{required:!0}],initialValue:a&&a.className})(g.default.createElement(d.default,null))),g.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},g.default.createElement(n.default,{onClick:function(){l("operateTree"),r()},style:{marginRight:8}},"Cancel"),g.default.createElement(n.default,{htmlType:"submit",type:"primary"},"Submit")))}}]),t}(g.PureComponent),m.defaultProps={nodeTree:{},handleSubmit:function(){},toggleDrawer:function(){},clearNodeTree:function(){}},p=h))||p);t.default=D},F4OS:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=r(a("/wGt"));a("+L6B");var d=r(a("2/Rp")),o=r(a("2Taf")),i=r(a("vZ4D")),u=r(a("l4Ni")),s=r(a("ujKo")),c=r(a("MhPg")),f=l(a("q1tI")),p=(r(a("17x9")),function(e){function t(){return(0,o.default)(this,t),(0,u.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.toggleDrawer,l=t.clearRecord,r=t.visible;return f.default.createElement(n.default,{title:"Delete DataSet",width:350,visible:r,onClose:function(){l(),a("deleteDataSet")},destroyOnClose:!0},f.default.createElement("div",null,"Please Confirm to delete"),f.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},f.default.createElement(d.default,{onClick:function(){l(),a("deleteDataSet")},style:{marginRight:8}},"Cancel"),f.default.createElement(d.default,{onClick:function(){var t=e.props.handleDeleteDataSet;t()},type:"primary"},"Submit")))}}]),t}(f.PureComponent));t.default=p,p.defaultProps={handleDeleteDataSet:function(){},toggleDrawer:function(){},clearRecord:function(){}}},Lazj:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=l(a("/wGt"));a("g9YV");var d=l(a("wCAj"));a("+L6B");var o=l(a("2/Rp"));a("Pwec");var i=l(a("CtXQ")),u=l(a("eHn4")),s=l(a("p0pE")),c=l(a("2Taf")),f=l(a("vZ4D")),p=l(a("l4Ni")),m=l(a("ujKo")),h=l(a("MhPg"));a("5NDa");var y,g,D,v=l(a("5rEg")),b=r(a("q1tI")),S=a("Hx5s"),T=a("MuoO"),w=l(a("usdK")),E=l(a("HV4n")),C=l(a("zNtm")),N=l(a("/Lk6")),x=l(a("j854")),k=l(a("F4OS")),P=l(a("l10n")),I=v.default.Search,A=(y=(0,T.connect)(function(e){var t=e.dataSet;return{classifyTreeData:t.classifyTreeData,dataSetData:t.dataSetData,column:t.column,tableData:t.tableData}}),y((D=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,p.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(r))),a.operateType="ADD",a.nodeTree={},a.record={},a.state={drawerTitle:"",selectedRowKeys:[],visible:{operateTree:!1,dataSetName:!1,deleteDataSet:!1,dataPerform:!1}},a.toggleDrawer=function(e){var t=a.state.visible;a.setState({visible:(0,s.default)({},t,(0,u.default)({},e,!t[e]))})},a.Title=function(){return b.default.createElement("span",{className:C.default.titleBox},b.default.createElement("span",null,"DataSet Classify"),b.default.createElement(i.default,{type:"plus",onClick:function(){a.handleAddTree()}}))},a.clearNodeTree=function(){a.nodeTree={}},a.clearRecord=function(){a.record={}},a.handleDeleteTree=function(e,t){a.setState({drawerTitle:"Delete DataSet Classify"}),a.operateType="DELETE",a.nodeTree=t,a.toggleDrawer("operateTree")},a.handleModifyTree=function(e,t){a.setState({drawerTitle:"Edit DataSet Classify"}),a.operateType="EDIT",a.nodeTree=t,a.toggleDrawer("operateTree")},a.handleAddTree=function(e,t){a.setState({drawerTitle:"ADD DataSet Classify"}),a.operateType="ADD",t&&(a.nodeTree=t),a.toggleDrawer("operateTree")},a.onSelect=function(e){var t=a.props.dispatch;t({type:"dataSet/setActiveTree",payload:e}),t({type:"dataSet/getDataSet",payload:{taskId:e,isShare:0}})},a.operateClassifyTree=function(e){var t=a.props.dispatch,l={};"ADD"===a.operateType&&(a.nodeTree?(l.className=e.className,l.parentClassId=a.nodeTree.classId):l.className=e.className,t({type:"dataSet/operateClassifyTree",payload:(0,s.default)({},l)})),"EDIT"===a.operateType&&(l.className=e.className,l.classId=a.nodeTree.classId,t({type:"dataSet/operateClassifyTree",payload:(0,s.default)({},l)})),"DELETE"===a.operateType&&(l.ids=[a.nodeTree.classId],t({type:"dataSet/deleteClassifyTree",payload:(0,s.default)({},l)})),a.toggleDrawer("operateTree"),a.nodeTree={}},a.handleSetDataSetName=function(e){var t=a.props.dispatch,l=(0,s.default)({},a.record,e);l.basicOperation="update",t({type:"dataSet/operateDataSet",payload:l}),a.toggleDrawer("dataSetName"),a.record={}},a.handleDeleteDataSet=function(){var e=a.props.dispatch,t={};t.serialNo=a.record.serialNo,t.basicOperation="del",e({type:"dataSet/operateDataSet",payload:t}),a.toggleDrawer("deleteDataSet"),a.record={}},a}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"dataSet/getClassifyTree"})}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"sqlName",key:"sqlName"},{title:"Type",dataIndex:"mdType",key:"mdType"},{title:"Data Source",dataIndex:"tableCat",key:"tableCat"},{title:"Creat by",dataIndex:"schemName",key:"schemName"},{title:"Modified by",dataIndex:"lastOperator",key:"lastOperator",render:function(e){return b.default.createElement("span",{style:{color:"#6ed2cb"}},e)}},{title:"Modified at",dataIndex:"lastupdatetime",key:"lastupdatetime"},{title:"Action",key:"action",render:function(t,a){return b.default.createElement(b.default.Fragment,null,b.default.createElement(i.default,{type:"edit",onClick:function(){w.default.push({pathname:"/add-dataset",query:{connectionId:a.dbId,record:JSON.stringify(a)}})}}),b.default.createElement(i.default,{type:"copy",onClick:function(){e.toggleDrawer("dataSetName"),e.record=a}}),b.default.createElement(i.default,{type:"eye",onClick:function(){var t=e.props.dispatch;t({type:"dataSet/getMetadataTablePerform",payload:{connectionId:a.dbId,previewStatement:a.sqlStatement,previewNum:10},callback:function(){e.toggleDrawer("dataPerform")}})}}),b.default.createElement(i.default,{type:"delete",onClick:function(){e.toggleDrawer("deleteDataSet"),e.record=a}}))}}],a=this.state,l=a.selectedRowKeys,r=a.drawerTitle,u={selectedRowKeys:l,type:"checkbox",onSelect:function(t,a,l){var r=l.map(function(e){return e.tableId});e.tableIds=r.join(",")},onChange:function(t){e.setState({selectedRowKeys:t})}},s=this.props,c=s.classifyTreeData,f=s.dataSetData,p=s.column,m=s.tableData;return b.default.createElement(S.PageHeaderWrapper,null,b.default.createElement("div",{style:{display:"flex",minHeight:500}},b.default.createElement("div",{style:{flex:"0 0 220px",background:"#fff"}},this.Title(),b.default.createElement(E.default,{add:!0,modify:!0,move:!0,handleAddTree:this.handleAddTree,handleModifyTree:this.handleModifyTree,handleDeleteTree:this.handleDeleteTree,checkable:!1,treeData:c,treeKey:{currentKey:"classId",currentName:"className"},onSelect:this.onSelect,showSearch:!1})),b.default.createElement("div",{style:{flex:1,overflowX:"auto"}},b.default.createElement("div",{style:{height:"100%",padding:"0 0 0 15px"}},b.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 5px 0",backgroundColor:"#fff"}},b.default.createElement(o.default,{style:{width:120},type:"primary",onClick:function(){w.default.push({pathname:"/add-dataset",query:{}})}},"Creat DataSet"),b.default.createElement(I,{style:{width:220},onSearch:function(t){e.getDataSourceList(t)}})),b.default.createElement(d.default,{className:"basicTable",rowSelection:u,columns:t,dataSource:f,pagination:{size:"small",showSizeChanger:!0},scroll:{x:"max-content"}})))),b.default.createElement(n.default,{title:r,width:350,visible:this.state.visible.operateTree,onClose:function(){e.clearNodeTree(),e.toggleDrawer("operateTree")},destroyOnClose:!0},b.default.createElement(N.default,{handleSubmit:this.operateClassifyTree,nodeTree:"ADD"===this.operateType?{}:this.nodeTree,toggleDrawer:this.toggleDrawer,clearNodeTree:this.clearNodeTree,operateType:this.operateType})),b.default.createElement(x.default,{toggleDrawer:this.toggleDrawer,visible:this.state.visible.dataSetName,clearRecord:this.clearRecord,record:this.record,handleSetDataSetName:this.handleSetDataSetName}),b.default.createElement(k.default,{handleDeleteDataSet:this.handleDeleteDataSet,visible:this.state.visible.deleteDataSet,toggleDrawer:this.toggleDrawer}),b.default.createElement(P.default,{column:p,tableData:m,visible:this.state.visible.dataPerform,toggleDrawer:this.toggleDrawer}))}}]),t}(b.PureComponent),g=D))||g);t.default=A},j854:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=l(a("/wGt"));a("+L6B");var d=l(a("2/Rp"));a("5NDa");var o=l(a("5rEg")),i=l(a("2Taf")),u=l(a("vZ4D")),s=l(a("l4Ni")),c=l(a("ujKo")),f=l(a("MhPg"));a("y8nQ");var p,m,h,y,g=l(a("Vl3Y")),D=r(a("q1tI")),v=(l(a("17x9")),p=g.default.create({}),p((y=h=function(e){function t(){var e,a;(0,i.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(r))),a.handleSubmit=function(e){e.preventDefault();var t=a.props,l=t.handleSetDataSetName,r=t.form;r.validateFieldsAndScroll(function(e,t){e||(l(t),r.resetFields())})},a}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.record,l=t.toggleDrawer,r=t.clearRecord,i=t.visible;return D.default.createElement(n.default,{title:"DataSet Name",width:350,visible:i,onClose:function(){r(),l("dataSetName")},destroyOnClose:!0},D.default.createElement(g.default,{onSubmit:this.handleSubmit},D.default.createElement(g.default.Item,{label:"DataSet Name",labelCol:{span:8},wrapperCol:{span:16}},e("sqlName",{rules:[{required:!0}],initialValue:a&&a.sqlName})(D.default.createElement(o.default,null))),D.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},D.default.createElement(d.default,{onClick:function(){r(),l("dataSetName")},style:{marginRight:8}},"Cancel"),D.default.createElement(d.default,{htmlType:"submit",type:"primary"},"Submit"))))}}]),t}(D.PureComponent),h.defaultProps={record:{},handleSetDataSetName:function(){},toggleDrawer:function(){},clearRecord:function(){}},m=y))||m);t.default=v},l10n:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("bbsP");var n=r(a("/wGt"));a("+L6B");var d=r(a("2/Rp"));a("g9YV");var o=r(a("wCAj")),i=r(a("2Taf")),u=r(a("vZ4D")),s=r(a("l4Ni")),c=r(a("ujKo")),f=r(a("MhPg")),p=l(a("q1tI")),m=(r(a("17x9")),function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.toggleDrawer,a=e.visible,l=e.column,r=e.tableData;return p.default.createElement(n.default,{title:"Data Perform",width:800,visible:a,onClose:function(){t("dataPerform")},destroyOnClose:!0},p.default.createElement(o.default,{columns:l,dataSource:r}),p.default.createElement("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},p.default.createElement(d.default,{onClick:function(){t("dataPerform")},type:"primary"},"OK")))}}]),t}(p.PureComponent));t.default=m,m.defaultProps={column:[],tableData:[],visible:!1,toggleDrawer:function(){}}},zNtm:function(e,t,a){e.exports={titleBox:"antd-pro-pages-dataset-management-dataset-management-titleBox"}}}]);