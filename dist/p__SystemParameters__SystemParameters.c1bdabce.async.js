(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[45],{"D+Sn":function(e,a,t){e.exports={clearfix:"antd-pro-pages-system-parameters-system-parameters-clearfix",fl:"antd-pro-pages-system-parameters-system-parameters-fl",fr:"antd-pro-pages-system-parameters-system-parameters-fr","login-name":"antd-pro-pages-system-parameters-system-parameters-login-name",header:"antd-pro-pages-system-parameters-system-parameters-header",inputValue:"antd-pro-pages-system-parameters-system-parameters-inputValue",formWrap:"antd-pro-pages-system-parameters-system-parameters-formWrap",operation:"antd-pro-pages-system-parameters-system-parameters-operation",content:"antd-pro-pages-system-parameters-system-parameters-content",tableTop:"antd-pro-pages-system-parameters-system-parameters-tableTop"}},bvBD:function(e,a,t){"use strict";var r=t("g09b"),s=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("DjyN");var n=r(t("NUBc"));t("g9YV");var l=r(t("wCAj"));t("bbsP");var m=r(t("/wGt")),u=r(t("2Taf")),o=r(t("vZ4D")),p=r(t("l4Ni")),i=r(t("ujKo")),d=r(t("MhPg"));t("y8nQ");var f,c,y,g=r(t("Vl3Y")),h=s(t("q1tI")),v=t("Hx5s"),S=t("LLXN"),b=t("MuoO"),P=r(t("BN5G")),C=r(t("D+Sn")),E=r(t("ut6D")),M=r(t("uY11")),V=g.default.create({})(E.default),N=(f=(0,b.connect)(function(e){var a=e.systemParams,t=e.loading;return{loading:t.effects,getSystemParamsListData:a.data,getParamsTypeData:a.getParamsData}}),f((y=function(e){function a(){var e;return(0,u.default)(this,a),e=(0,p.default)(this,(0,i.default)(a).call(this)),e.searchForm=h.default.createRef(),e.updateSystemParamsComfirm=function(){e.modifyFormRef.current.validateFields(function(a,t){var r=e.props.dispatch,s={comments:t.comments,paramId:t.paramId,paramStatus:t.paramStatus,paramType:t.paramType,paramValue:t.paramValue};r({type:"systemParams/systemParamsUpdate",payload:s,callback:function(){e.querySystemParams()}})}),e.setState({updateSystemParamsVisible:!1})},e.updateSystemParamsCancel=function(){e.setState({updateSystemParamsVisible:!1})},e.handleChange=function(){},e.updateSystemParams=function(a,t){var r={note:t.note,paramId:t.paramId,parameterKey:t.parameterKey,parameterType:t.parameterType,parameterValue:t.parameterValue};e.setState({updateSystemParamsVisible:!0,paramObj:r})},e.querySystemParams=function(){var a=e.props.dispatch,t=e.state,r=t.page,s=t.searchParameterType,n={groupNo:s,pageNumber:r.pageNumber,pageSize:r.pageSize};a({type:"systemParams/getSystemParamsList",payload:n})},e.onChangeOption=function(a){e.querySystemParams(a)},e.pageChange=function(a,t){var r={pageNumber:a,pageSize:t};e.setState({page:r},function(){e.querySystemParams()})},e.onClose=function(){e.setState({updateSystemParamsVisible:!1})},e.onSave=function(){e.setState({updateSystemParamsVisible:!1},function(){e.querySystemParams()})},e.onShowSizeChange=function(a,t){var r={pageNumber:a,pageSize:t};e.setState({page:r},function(){e.querySystemParams()})},e.queryLog=function(){e.searchForm.current.validateFields(function(a,t){a||e.setState({searchParameterType:t.parameterType},function(){e.querySystemParams()})})},e.modifyFormRef=h.default.createRef(),e.state={updateSystemParamsVisible:!1,searchParameterType:void 0,page:{pageNumber:1,pageSize:10},columns:[{title:(0,S.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",render:function(a,t,r){return h.default.createElement("span",null,(e.state.page.pageNumber-1)*e.state.page.pageSize+r+1)}},{title:(0,S.formatMessage)({id:"systemManagement.systemParameters.parameterType"}),dataIndex:"parameterType",key:"parameterType"},{title:(0,S.formatMessage)({id:"systemManagement.systemParameters.parameterKey"}),dataIndex:"parameterKey",key:"parameterKey"},{title:(0,S.formatMessage)({id:"systemManagement.systemParameters.parameterValue"}),dataIndex:"parameterValue",key:"parameterValue"},{title:(0,S.formatMessage)({id:"app.common.note"}),dataIndex:"note",key:"note"},{title:(0,S.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",key:"operation",align:"center",render:function(a,t,r,s){return h.default.createElement("span",{className:C.default.operation},h.default.createElement("a",{href:"#",onClick:function(){e.updateSystemParams(a,t,r,s)}},h.default.createElement(P.default,{type:"icon-edit",className:C.default["btn-icon"]})))}}],paramObj:{}},e}return(0,d.default)(a,e),(0,o.default)(a,[{key:"componentDidMount",value:function(){this.querySystemParams()}},{key:"render",value:function(){var e=this.props,a=e.loading,t=e.getSystemParamsListData,r=this.state.paramObj,s=this.state.page;return h.default.createElement(v.PageHeaderWrapper,null,h.default.createElement(h.Fragment,null,h.default.createElement("div",null,h.default.createElement("div",null,h.default.createElement("div",null,h.default.createElement(V,{search:this.queryLog,ref:this.searchForm})),h.default.createElement(m.default,{closable:!1,title:"Modify System Parameter",width:700,onClose:this.onClose,visible:this.state.updateSystemParamsVisible},this.state.updateSystemParamsVisible&&h.default.createElement(M.default,{onCancel:this.onClose,onSave:this.onSave,paramObj:r}))),h.default.createElement("div",{className:C.default.content},h.default.createElement(l.default,{loading:a["systemParams/getSystemParamsList"],dataSource:t.items,columns:this.state.columns,pagination:!1}),h.default.createElement(n.default,{showSizeChanger:!0,current:s.pageNumber,showTotal:function(){return"Page ".concat(t.totalCount?s.pageNumber.toString():0," of ").concat(Math.ceil((t.totalCount||0)/s.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:t.totalCount,pageSize:s.pageSize})))))}}]),a}(h.Component),c=y))||c),T=N;a.default=T},uY11:function(e,a,t){"use strict";var r=t("g09b"),s=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("14J3");var n=r(t("BMrR"));t("jCWc");var l=r(t("kPKH"));t("+L6B");var m=r(t("2/Rp"));t("miYZ");var u=r(t("tsqr"));t("y8nQ");var o=r(t("Vl3Y"));t("5NDa");var p,i,d,f=r(t("5rEg")),c=r(t("2Taf")),y=r(t("vZ4D")),g=r(t("l4Ni")),h=r(t("ujKo")),v=r(t("MhPg")),S=s(t("q1tI")),b=t("LLXN"),P=t("MuoO"),C=function(e){function a(){var e;return(0,c.default)(this,a),e=(0,g.default)(this,(0,h.default)(a).call(this)),e.state={},e}return(0,v.default)(a,e),(0,y.default)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props.paramObj;return S.default.createElement(S.Fragment,null,S.default.createElement(o.default,null,S.default.createElement(o.default.Item,{label:(0,b.formatMessage)({id:"systemManagement.systemParameters.parameterType"}),labelCol:{span:4},wrapperCol:{span:8}},e("parameterType",{initialValue:a&&a.parameterType})(S.default.createElement(f.default,{disabled:!0}))),S.default.createElement(o.default.Item,{label:(0,b.formatMessage)({id:"systemManagement.systemParameters.parameterKey"}),labelCol:{span:4},wrapperCol:{span:8}},e("parameterKey",{rules:[{required:!0,message:"Please input your parameterKey"}],initialValue:a.parameterKey})(S.default.createElement(f.default,{disabled:!0}))),S.default.createElement(o.default.Item,{label:(0,b.formatMessage)({id:"systemManagement.systemParameters.parameterValue"}),labelCol:{span:4},wrapperCol:{span:8}},e("parameterValue",{rules:[{required:!0,message:"parameterValue couldn\u2019t be null"}],initialValue:a.parameterValue})(S.default.createElement(f.default,null))),S.default.createElement(o.default.Item,{label:(0,b.formatMessage)({id:"app.common.note"}),labelCol:{span:4},wrapperCol:{span:8}},e("note",{rules:[{required:!0,message:"Note couldn\u2019t be null"}],initialValue:a.note})(S.default.createElement(f.default,null)))))}}]),a}(S.Component),E=o.default.create()(C),M=(p=(0,P.connect)(function(e){var a=e.systemParams,t=e.loading;return{loading:t.effects,systemParameter:a.obj}}),p((d=function(e){function a(e){var t;return(0,c.default)(this,a),t=(0,g.default)(this,(0,h.default)(a).call(this,e)),t.newUserRef=S.default.createRef(),t.onCancel=function(){t.props.onCancel()},t.onSave=function(){var e=t.props,a=e.dispatch,r=e.paramObj;t.newUserRef.current.validateFields(function(e,s){if(console.log("err=======",e,s),!e){var n={operType:"sysParamUpdate",paramId:r.paramId,parameterType:s.parameterType,parameterKey:s.parameterKey,parameterValue:s.parameterValue,note:s.note};a({type:"systemParams/systemParamsUpdate",payload:n,callback:function(){u.default.success("success"),t.props.onSave()}})}})},t.state={},t}return(0,v.default)(a,e),(0,y.default)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.paramObj;return S.default.createElement(S.Fragment,null,S.default.createElement(E,{ref:this.newUserRef,paramObj:e}),S.default.createElement(n.default,{type:"flex",justify:"end",style:{position:"absolute",right:0,bottom:0,width:"100%",padding:"10px 16px",background:"#fff",textAlign:"right"}},S.default.createElement(l.default,null,S.default.createElement(m.default,{onClick:this.onCancel},"CANCEL"),S.default.createElement(m.default,{type:"primary",onClick:this.onSave},"SAVE"))))}}]),a}(S.Component),i=d))||i),V=M;a.default=V},ut6D:function(e,a,t){"use strict";var r=t("tAuX"),s=t("g09b");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("+L6B");var n=s(t("2/Rp"));t("14J3");var l=s(t("BMrR"));t("jCWc");var m=s(t("kPKH"));t("y8nQ");var u=s(t("Vl3Y"));t("5NDa");var o=s(t("5rEg")),p=s(t("2Taf")),i=s(t("vZ4D")),d=s(t("l4Ni")),f=s(t("ujKo")),c=s(t("MhPg")),y=r(t("q1tI")),g=t("LLXN"),h=s(t("D+Sn")),v=function(e){function a(){var e,t;(0,p.default)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return t=(0,d.default)(this,(e=(0,f.default)(a)).call.apply(e,[this].concat(s))),t.state={},t}return(0,c.default)(a,e),(0,i.default)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props.search;return y.default.createElement(u.default,{className:"ant-advanced-search-form"},y.default.createElement(l.default,{gutter:{xs:24,sm:48,md:144,lg:48,xl:96}},y.default.createElement(m.default,{xs:12,sm:12,lg:8},y.default.createElement(u.default.Item,{label:(0,g.formatMessage)({id:"systemManagement.systemParameter.parameterType"})},e("parameterType",{})(y.default.createElement(o.default,{className:h.default.inputvalue,placeholder:"Please Input ".concat((0,g.formatMessage)({id:"systemManagement.systemParameter.parameterType"}))}))))),y.default.createElement("div",{className:"btnArea"},y.default.createElement(n.default,{type:"primary",onClick:a},(0,g.formatMessage)({id:"app.common.search"}))))}}]),a}(y.Component);a.default=v}}]);