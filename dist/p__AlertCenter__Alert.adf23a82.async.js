(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"3ATK":function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3"));a("T2oS");var d=n(a("W9HT"));a("jCWc");var u=n(a("kPKH")),c=n(a("1l/V")),i=n(a("qIgq"));a("14J3");var o=n(a("BMrR"));a("R9oj");var f=n(a("ECub"));a("Znn+");var s=n(a("ZTPi")),m=l(a("q1tI")),p=a("LLXN"),E=a("MuoO"),g=n(a("BN5G")),v=n(a("H7wn")),h=a("zhlU"),y=s.default.TabPane;function b(e){var t=e.className,a=void 0===t?"":t,l=e.style,n=void 0===l?{}:l;return m.default.createElement(o.default,{className:a,style:n,type:"flex",align:"middle",justify:"center"},m.default.createElement(f.default,null))}function C(e){var t=e.dispatch,a=e.loading,l=e.alert,n=e.comments,f=void 0===n?[]:n,E=e.logs,C=void 0===E?[]:E,I=(0,m.useState)(!1),w=(0,i.default)(I,2),x=w[0],A=w[1],S=l.alertTypeId,T=l.alertId,M=l.itemsTotal;function N(e,t){return k.apply(this,arguments)}function k(){return k=(0,c.default)(r.default.mark(function e(a,n){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"alertCenter/postComment",payload:{alertId:l.alertId,content:a,fileList:n.map(function(e){return e.url})}});case 2:case"end":return e.stop()}},e)})),k.apply(this,arguments)}return(0,m.useEffect)(function(){101!==+S&&t({type:"alertCenter/fetchAlertItems",payload:{alertTypeId:S,alertId:T}}),t({type:"alertCenter/fetchLogs",payload:{alertId:T}}),t({type:"alertCenter/fetchComments",payload:{alertId:T}})},[S,T]),m.default.createElement(o.default,{className:v.default["detail-container"],gutter:16},m.default.createElement(u.default,{span:16,className:x?v.default.fullscreen:""},m.default.createElement(s.default,{hideAdd:!0,className:v.default["detail-des"],defaultActiveKey:"1",tabBarExtraContent:m.default.createElement(g.default,{type:x?"iconfullscreen-exit":"iconfull-screen",className:v.default["fullscreen-icon"],onClick:function(){return A(!x)}})},m.default.createElement(y,{key:"1",className:v.default["tab-content"],closable:!1,tab:m.default.createElement(p.FormattedMessage,{id:"alert-center.alert-detail"})},m.default.createElement(h.AlertDes,{alert:l})),0!==+M&&m.default.createElement(y,{key:"2",className:v.default["tab-content"],closable:!1,tab:m.default.createElement(p.FormattedMessage,{id:"alert-center.alert-item-list"})},m.default.createElement(h.AlertTask,{alert:l})))),m.default.createElement(u.default,{span:8},m.default.createElement(s.default,{defaultActiveKey:"1",className:v.default["detail-comment"]},m.default.createElement(y,{key:"1",tab:m.default.createElement(p.FormattedMessage,{id:"alert-center.comment-history"})},m.default.createElement(d.default,{spinning:a["alertCenter/fetchComments"]},f.length>0?m.default.createElement("ul",{className:v.default["comment-list"]},f.map(function(e){return m.default.createElement(h.AlertComment,{comment:e,key:e.id})})):m.default.createElement(b,{className:v.default["comment-list"]})),m.default.createElement(h.AlertRichText,{loading:a["alertCenter/postComment"],onCommit:N})),m.default.createElement(y,{key:"2",tab:m.default.createElement(p.FormattedMessage,{id:"alert-center.alert-lifecycle"})},m.default.createElement(d.default,{spinning:a["alertCenter/fetchLogs"]},m.default.createElement("div",{style:{height:370,overflowY:"auto",padding:"0 18px"}},C.length>0?C.map(function(e){return m.default.createElement(h.AlertLog,{log:e,key:e.id})}):m.default.createElement(b,{className:v.default["comment-list"],style:{height:370}})))))))}var I=(0,E.connect)(function(e){var t=e.loading,a=e.alertCenter,l=a.comments,n=a.logs;return{loading:t.effects,comments:l,logs:n}})(C);t.default=I},"8Qir":function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=f,a("bP8k");var n=l(a("gFTJ"));a("tU7J");var r=l(a("wFql")),d=l(a("q1tI")),u=a("LLXN"),c=l(a("wd/R")),i=a("8Br5"),o=r.default.Paragraph;function f(e){var t=e.alert,a=t.alertId,l=t.alertType,r=t.alertStatusDesc,f=t.alertTime,s=t.alertDesc,m=t.tradeDate,p=t.submissionTime,E=t.submitter,g=t.userName;return d.default.createElement(n.default,{column:1},d.default.createElement(n.default.Item,{label:d.default.createElement(u.FormattedMessage,{id:"alert-center.alert-id"})},a),d.default.createElement(n.default.Item,{label:d.default.createElement(u.FormattedMessage,{id:"alert-center.alert-type"})},l),d.default.createElement(n.default.Item,{label:d.default.createElement(u.FormattedMessage,{id:"alert-center.trade-date"})},(0,c.default)(m).format(i.dateFormat)),d.default.createElement(n.default.Item,{label:d.default.createElement(u.FormattedMessage,{id:"alert-center.alert-timestamp"})},(0,c.default)(f).format(i.timestampFormat)),p&&d.default.createElement(n.default.Item,{label:d.default.createElement(u.FormattedMessage,{id:"alert-center.submission-time"})},(0,c.default)(p).format(i.timestampFormat)),E&&d.default.createElement(n.default.Item,{label:d.default.createElement(u.FormattedMessage,{id:"alert-center.submitter"})},E),d.default.createElement(n.default.Item,{label:d.default.createElement(u.FormattedMessage,{id:"alert-center.description"})},d.default.createElement(o,{ellipsis:{rows:3,expandable:!0}},s)),d.default.createElement(n.default.Item,{label:d.default.createElement(u.FormattedMessage,{id:"alert-center.owner"})},g),d.default.createElement(n.default.Item,{label:d.default.createElement(u.FormattedMessage,{id:"alert-center.status"})},r))}},AfXI:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=I;var r=n(a("d6i3"));a("14J3");var d=n(a("BMrR"));a("+L6B");var u=n(a("2/Rp"));a("DZo9");var c=n(a("8z0m"));a("jCWc");var i=n(a("kPKH")),o=n(a("p0pE")),f=n(a("gWZ8")),s=n(a("1l/V")),m=n(a("qIgq"));a("5NDa");var p=n(a("5rEg")),E=l(a("q1tI")),g=n(a("BN5G")),v=n(a("H7wn")),h=n(a("xxPW")),y=n(a("JKiI")),b=p.default.TextArea,C=function(e){return e/1024/1024<5};function I(e){var t=e.loading,a=e.onCommit,l=(0,E.useState)(""),n=(0,m.default)(l,2),p=n[0],I=n[1],w=(0,E.useState)([]),x=(0,m.default)(w,2),A=x[0],S=x[1];function T(){return M.apply(this,arguments)}function M(){return M=(0,s.default)(r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a(p,A);case 2:I(""),S([]);case 4:case"end":return e.stop()}},e)})),M.apply(this,arguments)}function N(e){var t=(0,f.default)(e.fileList);t=t.slice(-5),t=t.map(function(e){var t=e.response||{},a=t.bcjson,l=a||{},n=l.flag,r=l.items,d=void 0===r?{}:r;return"1"===n&&d?(0,o.default)({url:d.relativeUrl},e):e}),S(t)}return E.default.createElement("div",{className:v.default["comment-box"]},E.default.createElement(b,{placeholder:"COMMENT",className:v.default.txt,value:p,onChange:function(e){var t=e.target.value;return I(t)}}),E.default.createElement(d.default,{className:v.default["comment-commit"],type:"flex",align:"middle",justify:"space-between"},E.default.createElement(i.default,{span:11,offset:1},E.default.createElement(y.default,{postComment:function(e){return I("".concat(p).concat(e," "))}})),E.default.createElement(i.default,{span:6,align:"right"},E.default.createElement(c.default,{multiple:!0,action:"/upload?fileClass=alert_comment",beforeUpload:function(e){return C(e.size)},showUploadList:!1,fileList:A,onChange:N},E.default.createElement(g.default,{type:"iconbiezhen",style:{cursor:"pointer",marginRight:4},title:"please select a file"}),A.length>0&&A.length)),E.default.createElement(i.default,{span:6,align:"right"},E.default.createElement(u.default,{type:"primary",loading:t,disabled:!p,onClick:T},"Submit"))),!!A.length&&E.default.createElement(h.default,{attachments:A}))}},ChdA:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,a("g9YV");var n=l(a("wCAj")),r=l(a("q1tI")),d=a("LLXN"),u=l(a("mOP9")),c=n.default.Column;function i(e){var t=e.dataSource,a=e.loading,l=e.getSelectedRows;return r.default.createElement(n.default,{border:!0,dataSource:t,rowKey:"ALERT_ITEM_ID",scroll:{y:320},loading:a["alertCenter/fetchAlertItems"],pagination:{showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")}},rowSelection:{columnWidth:40,onChange:function(e,t){l(t)}}},r.default.createElement(c,{align:"center",dataIndex:"TASK_ID",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.task-id"})}),r.default.createElement(c,{align:"center",dataIndex:"EFFECTIVE_DATE",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.effective-date"})}),r.default.createElement(c,{align:"center",dataIndex:"MARKET",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.market"})}),r.default.createElement(c,{align:"center",dataIndex:"CA_PRODUCT_CODE",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.original-product-code"})}),r.default.createElement(c,{dataIndex:"EXPIRY_DATE",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.expiry-date"})}),r.default.createElement(c,{dataIndex:"USER_NAME",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.owner"})}),r.default.createElement(c,{ellipsis:!0,align:"center",dataIndex:"TASK_STATUS_DESC",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.status"})}),r.default.createElement(c,{ellipsis:!0,align:"center",dataIndex:"action",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.actions"}),render:function(e,t){return r.default.createElement(u.default,{to:"/alert-management/Approval-Process-Center?taskcode=".concat(t.TASK_ID),title:(0,d.formatMessage)({id:"alert-center.enter-workflow"})},r.default.createElement(d.FormattedMessage,{id:"alert-center.enter-workflow"}))}}))}},H0HP:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=g,a("Q9mQ");var n=l(a("diRs"));a("14J3");var r=l(a("BMrR"));a("jCWc");var d=l(a("kPKH"));a("tU7J");var u=l(a("wFql")),c=l(a("q1tI")),i=a("LLXN"),o=l(a("wd/R")),f=l(a("BN5G")),s=a("8Br5"),m=u.default.Paragraph,p=u.default.Text;function E(e){var t=e.attachments;return c.default.createElement(n.default,{placement:"bottomRight",title:c.default.createElement(i.FormattedMessage,{id:"alert-center.attachement-list"}),content:c.default.createElement(r.default,{style:{padding:"6px 14px",width:240,maxHeight:150,overflowY:"auto"}},t.map(function(e,t){var a=e.name,l=e.url;return c.default.createElement(d.default,{key:l},c.default.createElement(p,{ellipsis:!0,style:{width:"100%"},title:a},c.default.createElement("a",{download:!0,href:"/download?filePath=".concat(l),style:{marginBottom:20}},t+1,". ",a)))}))},c.default.createElement(f.default,{type:"iconbiezhen"}),t.length)}function g(e){var t=e.comment,a=t.id,l=t.commitTime,n=t.commentContent,u=t.fileList,i=u?u.split(","):[];return i=i.map(function(e){var t=e.split("/"),a=t.slice(-1)[0];return{name:a,url:e}}),c.default.createElement("li",{key:a},c.default.createElement(r.default,null,c.default.createElement(d.default,{span:18,style:{color:"#0D87D4"}},(0,o.default)(l).format(s.timestampFormat)),c.default.createElement(d.default,{span:5,offset:1,align:"right"},i.length>0&&c.default.createElement(E,{attachments:i}))),c.default.createElement(r.default,null,c.default.createElement(m,{ellipsis:{rows:3,expandable:!0}},n)))}},HItR:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=f,a("14J3");var n=l(a("BMrR"));a("jCWc");var r=l(a("kPKH"));a("tU7J");var d=l(a("wFql")),u=l(a("q1tI")),c=l(a("wd/R")),i=a("8Br5"),o=d.default.Paragraph;function f(e){var t=e.log,a=t.operateTime,l=t.log;return u.default.createElement(n.default,null,u.default.createElement(r.default,{span:11},(0,c.default)(a).format(i.timestampFormat)),u.default.createElement(r.default,{span:12,offset:1},u.default.createElement(o,{ellipsis:{rows:3,expandable:!0}},l)))}},JKiI:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=f,a("Q9mQ");var r=n(a("diRs"));a("+L6B");var d=n(a("2/Rp")),u=n(a("qIgq")),c=l(a("q1tI")),i=n(a("H7wn")),o=a("jz0T");function f(e){var t=e.postComment,a=(0,c.useState)(!1),l=(0,u.default)(a,2),n=l[0],f=l[1];function s(e){f(!1),t(e)}return c.default.createElement(r.default,{visible:n,placement:"topRight",trigger:"click",content:c.default.createElement("ul",{className:i.default.phase},o.PHASES.map(function(e,t){return c.default.createElement("li",{key:e,onClick:function(){return s(e)}},t+1,". ",e)}))},c.default.createElement(d.default,{type:"primary",onClick:function(){return f(!0)}},"Phase"))}},Oazy:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,a("g9YV");var n=l(a("wCAj")),r=l(a("q1tI")),d=a("LLXN"),u=l(a("mOP9")),c=n.default.Column;function i(e){var t=e.dataSource,a=e.loading,l=e.getSelectedRows;return r.default.createElement(n.default,{border:!0,dataSource:t,rowKey:"ALERT_ITEM_ID",scroll:{y:320},loading:a["alertCenter/fetchAlertItems"],pagination:{showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")}},rowSelection:{columnWidth:40,onChange:function(e,t){l(t)}}},r.default.createElement(c,{align:"center",dataIndex:"TASK_ID",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.task-id"})}),r.default.createElement(c,{align:"center",dataIndex:"MARKET",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.market"})}),r.default.createElement(c,{ellipsis:!0,align:"center",dataIndex:"PRODUCT_CODE",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.product-code"})}),r.default.createElement(c,{ellipsis:!0,dataIndex:"PRODUCT_CATEGROY",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.product-category"})}),r.default.createElement(c,{dataIndex:"USER_NAME",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.owner"})}),r.default.createElement(c,{ellipsis:!0,align:"center",dataIndex:"TASK_STATUS_DESC",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.status"})}),r.default.createElement(c,{ellipsis:!0,align:"center",dataIndex:"action",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.actions"}),render:function(e,t){return r.default.createElement(u.default,{to:"/alert-management/Approval-Process-Center?taskcode=".concat(t.TASK_ID),title:(0,d.formatMessage)({id:"alert-center.enter-workflow"})},r.default.createElement(d.FormattedMessage,{id:"alert-center.enter-workflow"}))}}))}},PSbl:function(e,t,a){e.exports={icon:"antd-pro-pages-alert-center-column-title-index-icon","filter-icon":"antd-pro-pages-alert-center-column-title-index-filter-icon",active:"antd-pro-pages-alert-center-column-title-index-active",title:"antd-pro-pages-alert-center-column-title-index-title",clear:"antd-pro-pages-alert-center-column-title-index-clear",text:"antd-pro-pages-alert-center-column-title-index-text",container:"antd-pro-pages-alert-center-column-title-index-container",content:"antd-pro-pages-alert-center-column-title-index-content","bottom-btns":"antd-pro-pages-alert-center-column-title-index-bottom-btns","filter-type":"antd-pro-pages-alert-center-column-title-index-filter-type",type:"antd-pro-pages-alert-center-column-title-index-type",des:"antd-pro-pages-alert-center-column-title-index-des",selectbox:"antd-pro-pages-alert-center-column-title-index-selectbox",select:"antd-pro-pages-alert-center-column-title-index-select",checkbox:"antd-pro-pages-alert-center-column-title-index-checkbox",search:"antd-pro-pages-alert-center-column-title-index-search","check-content":"antd-pro-pages-alert-center-column-title-index-check-content","scroll-container":"antd-pro-pages-alert-center-column-title-index-scroll-container"}},VCye:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var r=n(a("d6i3"));a("bbsP");var d=n(a("/wGt"));a("+L6B");var u=n(a("2/Rp"));a("T2oS");var c=n(a("W9HT"));a("R9oj");var i=n(a("ECub"));a("7Kak");var o=n(a("9yH6")),f=n(a("1l/V")),s=n(a("qIgq")),m=l(a("q1tI")),p=a("LLXN"),E=n(a("H7wn")),g={display:"block",height:"30px",lineHeight:"30px"};function v(e){var t=e.loading,a=e.visible,l=e.users,n=e.handleCancel,v=e.assignUser,h=(0,m.useState)(""),y=(0,s.default)(h,2),b=y[0],C=y[1];function I(){return w.apply(this,arguments)}function w(){return w=(0,f.default)(r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v(b);case 2:C("");case 3:case"end":return e.stop()}},e)})),w.apply(this,arguments)}return m.default.createElement(d.default,{title:m.default.createElement(p.FormattedMessage,{id:"alert-center.assign"}),width:320,visible:a,closable:!1,bodyStyle:{paddingBottom:80},onClose:n},m.default.createElement(c.default,{spinning:t["alertCenter/fetchAssignUsers"]},l.length>0?m.default.createElement(o.default.Group,{onChange:function(e){return C(e.target.value)},value:b},l.map(function(e){return m.default.createElement(o.default,{style:g,value:e.userId,key:e.userId},e.userName)})):m.default.createElement(i.default,null)),m.default.createElement("div",{className:E.default["bottom-btns"]},m.default.createElement(u.default,{onClick:n},"Cancel"),m.default.createElement(u.default,{type:"primary",disabled:!b,onClick:I,loading:t["alertCenter/assignTask"]},"Commit")))}},XFor:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=n(a("d6i3"));a("Q9mQ");var d=n(a("diRs")),u=n(a("1l/V")),c=n(a("qIgq")),i=l(a("q1tI")),o=n(a("TSYQ")),f=n(a("BN5G")),s=a("tyJf"),m=n(a("PSbl"));function p(e){var t=e.children,a=e.isNum,l=e.loading,n=e.tableColumn,p=e.filterItems,E=void 0===p?[]:p,g=e.getFilterItems,v=e.handleCommit,h=(0,i.useState)(!1),y=(0,c.default)(h,2),b=y[0],C=y[1],I=(0,i.useState)(a?1:7),w=(0,c.default)(I,2),x=w[0],A=w[1],S=(0,i.useState)([]),T=(0,c.default)(S,2),M=T[0],N=T[1],k=[1,3,4,5,6].includes(x);function F(){b||g()}function _(){return P.apply(this,arguments)}function P(){return P=(0,u.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={column:n,value:M.toString(),condition:x.toString()},e.next=3,v(t);case 3:C(!1);case 4:case"end":return e.stop()}},e)})),P.apply(this,arguments)}function O(e){N(e)}return i.default.createElement(d.default,{placement:"bottomLeft",trigger:"click",visible:b,onVisibleChange:function(e){return C(e)},overlayClassName:m.default.container,overlayStyle:{width:260},content:i.default.createElement(i.default.Fragment,null,i.default.createElement(s.FilterHeader,null),i.default.createElement("div",{className:m.default.content},i.default.createElement(s.FilterType,{isNum:a,handleTypeChange:function(e){return A(e)}}),k?i.default.createElement(s.FilterSelect,{filterItems:E}):i.default.createElement(s.FilterCheckbox,{loading:l,filterItems:E,getCheckList:O}),i.default.createElement(s.FilterFooter,{onCancel:function(){return C(!1)},onOk:_})))},i.default.createElement("div",{onClick:F},i.default.createElement(f.default,{type:"iconfilter1",className:(0,o.default)(m.default.icon,m.default["filter-icon"])}),t))}},a3ln:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=n(a("qIgq")),d=l(a("q1tI")),u=a("Hx5s"),c=n(a("3ATK")),i=n(a("sPvl")),o=n(a("H7wn"));function f(){var e=(0,d.useState)(null),t=(0,r.default)(e,2),a=t[0],l=t[1];return d.default.createElement(u.PageHeaderWrapper,null,d.default.createElement("div",{className:o.default["list-container"]},d.default.createElement(i.default,{getAlert:function(e){return l(e)}}),a&&d.default.createElement(c.default,{alert:a})))}},fUac:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,a("g9YV");var n=l(a("wCAj")),r=l(a("q1tI")),d=a("LLXN"),u=l(a("mOP9")),c=n.default.Column;function i(e){var t=e.dataSource,a=e.loading,l=e.getSelectedRows;return r.default.createElement(n.default,{border:!0,dataSource:t,rowKey:"ALERT_ITEM_ID",scroll:{y:320},loading:a["alertCenter/fetchAlertItems"],pagination:{showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")}},rowSelection:{columnWidth:40,onChange:function(e,t){l(t)}}},r.default.createElement(c,{align:"center",dataIndex:"TASK_ID",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.task-id"})}),r.default.createElement(c,{align:"center",dataIndex:"MARKET",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.market"})}),r.default.createElement(c,{align:"center",dataIndex:"EP_CODE",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.ep-code"})}),r.default.createElement(c,{dataIndex:"EP_NAME",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.ep-name"})}),r.default.createElement(c,{dataIndex:"USER_NAME",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.owner"})}),r.default.createElement(c,{ellipsis:!0,align:"center",dataIndex:"TASK_STATUS_DESC",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.status"})}),r.default.createElement(c,{ellipsis:!0,align:"center",dataIndex:"action",title:r.default.createElement(d.FormattedMessage,{id:"alert-center.actions"}),render:function(e,t){return r.default.createElement(u.default,{to:"/alert-management/Approval-Process-Center?taskcode=".concat(t.TASK_ID),title:(0,d.formatMessage)({id:"alert-center.enter-workflow"})},r.default.createElement(d.FormattedMessage,{id:"alert-center.enter-workflow"}))}}))}},jz0T:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PHASES=void 0;var l=["All the data is problematic.","Data correct,can be turned off.","Remember to download all the attachments.","Statistics are collected every Friday.","Emai me before you turn off alert."];t.PHASES=l},sPvl:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_PAGE_SIZE=t.DEFAULT_PAGE=void 0,a("Pwec");var r=n(a("CtXQ")),d=n(a("qIgq"));a("14J3");var u=n(a("BMrR"));a("jCWc");var c=n(a("kPKH"));a("+L6B");var i=n(a("2/Rp")),o=n(a("d6i3")),f=n(a("1l/V"));a("2qtc");var s=n(a("kLXV"));a("g9YV");var m=n(a("wCAj")),p=l(a("q1tI")),E=n(a("mOP9")),g=a("MuoO"),v=n(a("wd/R")),h=a("LLXN"),y=n(a("BN5G")),b=a("8Br5"),C=n(a("XFor")),I=n(a("H7wn")),w=m.default.Column,x=1;t.DEFAULT_PAGE=x;var A=10;function S(e){var t=e.visible,a=e.onCancel,l=e.onOk,n=e.loading,r=e.content;return p.default.createElement(s.default,{title:"CONFIRM",visible:t,closable:!1,onCancel:a,onOk:l,confirmLoading:n},p.default.createElement("div",{style:{textAlign:"center"}},r,p.default.createElement("div",null,"Do you confirm to re-claim?")))}function T(e){var t=e.visible,a=e.onCancel,l=e.loading,n=e.onOk,r=e.content;return p.default.createElement(s.default,{title:"CONFIRM",visible:t,closable:!1,onCancel:a,onOk:n,confirmLoading:l},p.default.createElement("div",{style:{textAlign:"center"}},r))}function M(e){var t=e.dispatch,a=e.loading,l=e.filterItems,n=e.tableColumn,r=e.id;function d(){t({type:"global/fetchTableFilterItems",payload:{tableName:"slop_biz.v_alert_center",tableColumn:n}})}function u(e){return c.apply(this,arguments)}function c(){return c=(0,f.default)(o.default.mark(function e(a){return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t({type:"alertCenter/fetch",payload:{currentColumn:n,conditions:[a]}});case 1:case"end":return e.stop()}},e)})),c.apply(this,arguments)}return p.default.createElement(C.default,{isNum:"itemsTotal"===n,tableColumn:n,loading:a,filterItems:l,getFilterItems:d,handleCommit:u},p.default.createElement(h.FormattedMessage,{id:"alert-center.".concat(r)}))}t.DEFAULT_PAGE_SIZE=A;var N=(0,g.connect)(function(e){var t=e.loading,a=e.global.filterItems;return{loading:t.effects["global/fetchTableFilterItems"],filterItems:a}})(M);function k(e){var t=e.disabled,a=e.loading,l=e.claimAlert,n=e.closeAlert,r=e.exportAlert;return p.default.createElement(u.default,{className:I.default.btns},p.default.createElement(c.default,{span:18},p.default.createElement(i.default,{type:"primary",disabled:t,onClick:l,loading:a["alertCenter/claim"]},p.default.createElement(y.default,{type:"iconqizhi",className:I.default["btn-icon"]}),p.default.createElement(h.FormattedMessage,{id:"alert-center.claim"})),p.default.createElement(i.default,{disabled:t,onClick:n,loading:a["alertCenter/close"]},p.default.createElement(y.default,{type:"iconclose",className:I.default["btn-icon"]}),p.default.createElement(h.FormattedMessage,{id:"alert-center.close"})),p.default.createElement(i.default,{disabled:t,onClick:r,loading:a["alertCenter/claim"]},p.default.createElement(y.default,{type:"iconbatch-export",className:I.default["btn-icon"]}),p.default.createElement(h.FormattedMessage,{id:"alert-center.export"}))),p.default.createElement(c.default,{span:6,align:"right"},p.default.createElement(i.default,{type:"link"},p.default.createElement(E.default,{to:"/homepage/information"},"INFORMATION"))))}function F(e){var t=e.dispatch,a=e.loading,l=e.alerts,n=e.total,c=e.claimInfos,i=e.getAlert,s=(0,p.useState)({}),E=(0,d.default)(s,2),g=E[0],C=E[1],x=(0,p.useState)(!1),A=(0,d.default)(x,2),M=A[0],F=A[1],_=(0,p.useState)(""),P=(0,d.default)(_,2),O=P[0],R=P[1],L=(0,p.useState)(!1),D=(0,d.default)(L,2),j=D[0],q=D[1],H=(0,p.useState)(""),U=(0,d.default)(H,2),K=U[0],B=U[1],X=(0,p.useState)([]),z=(0,d.default)(X,2),G=z[0],J=z[1],V=(0,p.useState)(!1),W=(0,d.default)(V,2),Q=W[0],Y=W[1];function Z(e,a){t({type:"alertCenter/fetch",payload:{page:e,pageSize:a}})}function $(e){if(e)C(e),Y(!1),e.userName?(F(!0),R(p.default.createElement("div",null,"this alert has been claimed by ",e.userName))):t({type:"alertCenter/claim",payload:{alertIds:[e.alertId],isCoverClaim:0}});else{var a=G.find(function(e){return e.userName});a&&a.userName?(F(!0),Y(!0),R(p.default.createElement("div",null,"some alerts has been claimed"))):t({type:"alertCenter/claim",payload:{alertIds:G.map(function(e){return e.alertId}),isCoverClaim:0}})}}function ee(){return te.apply(this,arguments)}function te(){return te=(0,f.default)(o.default.mark(function e(){var a;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=g.alertId,e.next=3,t({type:"alertCenter/claim",payload:{alertIds:Q?G.map(function(e){return e.alertId}):[a],isCoverClaim:1}});case 3:F(!1);case 4:case"end":return e.stop()}},e)})),te.apply(this,arguments)}function ae(e){q(!0),e?(C(e),Y(!1),B(p.default.createElement(p.default.Fragment,null,p.default.createElement("div",null,"Do you confirm to close this alert?"),p.default.createElement("div",null,"(AlertId: ",e.alertId,")")))):(Y(!0),B("Do you confirm to close these alerts?"))}function le(){return ne.apply(this,arguments)}function ne(){return ne=(0,f.default)(o.default.mark(function e(){var a;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=g.alertId,e.next=3,t({type:"alertCenter/close",payload:{alertIds:Q?G.map(function(e){return e.alertId}):[a]}});case 3:q(!1);case 4:case"end":return e.stop()}},e)})),ne.apply(this,arguments)}return(0,p.useEffect)(function(){t({type:"alertCenter/fetch"})},[]),(0,p.useEffect)(function(){if(l&&l.length>0){var e=(0,d.default)(l,1),t=e[0];l.some(function(e){return e.alertId===g.alertId})?(i(g),C(g)):(i(t),C(t))}},[l]),(0,p.useEffect)(function(){var e=localStorage.getItem("loginName");c.forEach(function(t){t.userName!==e&&F(!0)})},[c]),p.default.createElement("div",{className:I.default.list},p.default.createElement(k,{loading:a,disabled:!G.length,claimAlert:function(){return $()},closeAlert:function(){return ae()}}),p.default.createElement(S,{visible:M,content:O,onCancel:function(){return F(!1)},onOk:ee,loading:a["alertCenter/claim"]}),p.default.createElement(T,{visible:j,onCancel:function(){return q(!1)},onOk:le,content:K,loading:a["alertCenter/close"]}),p.default.createElement(m.default,{border:!0,dataSource:l,rowKey:"alertId",loading:a["alertCenter/fetch"],rowClassName:function(e){return e.alertId===g.alertId?"active":""},rowSelection:{getCheckboxProps:function(e){return{disabled:1===+e.alertStatus}},onChange:function(e,t){J(t)}},pagination:{total:n,showSizeChanger:!0,showTotal:function(e){return"Total ".concat(e," items")},onChange:function(e,t){return Z(e,t)},onShowSizeChange:function(e,t){return Z(e,t)}},onRow:function(e){return{onClick:function(t){t.target.className||(i(e),C(e))}}}},p.default.createElement(w,{align:"center",dataIndex:"alertId",title:p.default.createElement(N,{tableColumn:"alertId",id:"alert-id"})}),p.default.createElement(w,{width:"15%",align:"center",dataIndex:"alertType",title:p.default.createElement(N,{tableColumn:"alertType",id:"alert-type"})}),p.default.createElement(w,{align:"center",dataIndex:"tradeDate",title:p.default.createElement(N,{tableColumn:"tradeDate",id:"trade-date"}),render:function(e,t){return(0,v.default)(t.tradeDate).format(b.dateFormat)}}),p.default.createElement(w,{align:"center",dataIndex:"alertTime",title:p.default.createElement(N,{tableColumn:"alertTime",id:"alert-timestamp"}),render:function(e,t){return(0,v.default)(t.alertTime).format(b.timestampFormat)}}),p.default.createElement(w,{align:"center",dataIndex:"itemsTotal",title:p.default.createElement(N,{tableColumn:"itemsTotal",id:"items-total"}),render:function(e,t){return+t.itemsTotal}}),p.default.createElement(w,{align:"center",dataIndex:"userName",title:p.default.createElement(h.FormattedMessage,{id:"alert-center.owner"})}),p.default.createElement(w,{align:"center",dataIndex:"alertStatusDesc",title:p.default.createElement(h.FormattedMessage,{id:"alert-center.status"})}),p.default.createElement(w,{align:"center",width:"8%",dataIndex:"action",className:"action",title:p.default.createElement(h.FormattedMessage,{id:"alert-center.actions"}),render:function(e,t){return p.default.createElement(u.default,{type:"flex",justify:"space-around",align:"middle",className:I.default["icon-btns"]},a["alertCenter/claim"]&&g.alertId===t.alertId?p.default.createElement(r.default,{type:"loading"}):p.default.createElement("button",{type:"button",disabled:1===+t.alertStatus,title:(0,h.formatMessage)({id:"alert-center.claim"}),onClick:function(){return $(t)}},p.default.createElement(y.default,{type:"iconqizhi",className:I.default.icon})),1===+t.isClosedManually&&p.default.createElement("button",{type:"button",disabled:1===+t.alertStatus,title:(0,h.formatMessage)({id:"alert-center.close"}),onClick:function(){return ae(t)}},p.default.createElement(y.default,{type:"iconclose",className:I.default.icon})))}})))}var _=function(e){var t=e.loading,a=e.alertCenter,l=a.alerts,n=a.alertItems,r=a.page,d=a.total,u=a.claimInfos;return{alerts:l,page:r,total:d,alertItems:n,claimInfos:u,loading:t.effects}},P=(0,g.connect)(_)(F);t.default=P},tyJf:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.FilterHeader=b,t.FilterFooter=C,t.FilterType=I,t.FilterSelect=w,t.FilterCheckbox=x,a("T2oS");var r=n(a("W9HT"));a("R9oj");var d=n(a("ECub"));a("sRBo");var u=n(a("kaz8")),c=n(a("qIgq"));a("+L6B");var i=n(a("2/Rp"));a("14J3");var o=n(a("BMrR"));a("jCWc");var f=n(a("kPKH"));a("5NDa");var s=n(a("5rEg"));a("OaEy");var m=n(a("2fM7")),p=l(a("q1tI")),E=n(a("BN5G")),g=n(a("PSbl")),v=m.default.Option,h=s.default.Search,y=[{id:1,name:"EQUAL"},{id:2,name:"NOT EQUAL"},{id:3,name:"GREATER THAN"},{id:4,name:"GREATER THAN OR EQUAL"},{id:5,name:"LESS THAN"},{id:6,name:"LESS THAN OR EQUAL"},{id:7,name:"CONTAIN"}];function b(){function e(){}return p.default.createElement(o.default,{className:g.default.title},p.default.createElement(f.default,{span:12,align:"left"},p.default.createElement(E.default,{type:"iconsort-asc",className:g.default.icon}),p.default.createElement(E.default,{type:"iconsort-desc",className:g.default.icon})),p.default.createElement(f.default,{span:12,align:"right"},p.default.createElement("span",{className:g.default.clear,onClick:e},p.default.createElement(E.default,{type:"icondelete",className:g.default.icon}),p.default.createElement("span",{className:g.default.text},"CLEAR"))))}function C(e){var t=e.onCancel,a=e.onOk;return p.default.createElement("div",{className:g.default["bottom-btns"]},p.default.createElement(i.default,{size:"small",onClick:t},"Cancel"),p.default.createElement(i.default,{type:"primary",onClick:a},"Commit"))}function I(e){var t=e.isNum,a=e.loading,l=e.handleTypeChange,n=function(e){var a=e.id;return t?7!==a:[1,2,7].includes(a)};return p.default.createElement("div",{className:g.default["filter-type"]},p.default.createElement("span",null,t?"NUM":"TEXT"),p.default.createElement(m.default,{ellipsis:!0,allowClear:!0,loading:a,className:g.default.type,defaultValue:t?1:7,onChange:function(e){return l(e)}},y.filter(n).map(function(e){var t=e.id,a=e.name;return p.default.createElement(v,{value:t,key:t},a)})))}function w(e){var t=e.filterItems;function a(e){console.log("search:",e)}function l(e){console.log("selected ".concat(e))}return p.default.createElement("div",{className:g.default.selectbox},p.default.createElement("div",{className:g.default.des},"Description"),p.default.createElement(m.default,{showSearch:!0,placeholder:"Select a item",className:g.default.select,optionFilterProp:"children",onChange:l,onSearch:a,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},t.map(function(e){return p.default.createElement(v,{value:e,key:e},e)})))}function x(e){var t=e.loading,a=e.filterItems,l=e.getCheckList,n=(0,p.useState)([]),i=(0,c.default)(n,2),f=i[0],s=i[1];(0,p.useEffect)(function(){s(a)},[a]);var m=(0,p.useState)(!1),E=(0,c.default)(m,2),v=E[0],y=E[1],b=(0,p.useState)(!1),C=(0,c.default)(b,2),I=C[0],w=C[1],x=(0,p.useState)(f),A=(0,c.default)(x,2),S=A[0],T=A[1];function M(e){T(e),w(!!e.length&&e.length<f.length),y(e.length===f.length),l(e)}function N(e){var t=e.target.checked;T(t?f:[]),w(!1),y(t),l(a)}function k(e){console.log("value",e);var t=f.filter(function(t){return t.toLowerCase()===e.toLowerCase()});s(t||a)}return p.default.createElement("div",{className:g.default.checkbox},p.default.createElement(h,{placeholder:"input search keyword",className:g.default.search,onSearch:k}),p.default.createElement("div",{className:g.default.des},"Description"),p.default.createElement(r.default,{spinning:t},f.length>0?p.default.createElement("div",{className:g.default["check-content"]},p.default.createElement(o.default,null,p.default.createElement(u.default,{indeterminate:I,onChange:N,checked:v},"Select All")),p.default.createElement(u.default.Group,{className:g.default["scroll-container"],defaultValue:S,value:S,onChange:M},f.map(function(e){return p.default.createElement(o.default,{key:e},p.default.createElement(u.default,{value:e,defaultChecked:!0},e))}))):p.default.createElement(d.default,{image:d.default.PRESENTED_IMAGE_SIMPLE})))}},ugel:function(e,t,a){"use strict";var l=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3"));a("+L6B");var d=n(a("2/Rp")),u=n(a("1l/V")),c=n(a("qIgq")),i=l(a("q1tI")),o=a("LLXN"),f=a("MuoO"),s=n(a("H7wn")),m=n(a("VCye")),p=n(a("fUac")),E=n(a("Oazy")),g=n(a("ChdA")),v={301:p.default,302:E.default,303:g.default};function h(e){var t=e.dispatch,a=e.loading,l=e.alert,n=l.alertTypeId,f=l.alertId,p=e.alertItems,E=e.users,g=(0,i.useState)(!1),h=(0,c.default)(g,2),y=h[0],b=h[1],C=(0,i.useState)([]),I=(0,c.default)(C,2),w=I[0],x=I[1],A=v[+n];function S(){return T.apply(this,arguments)}function T(){return T=(0,u.default)(r.default.mark(function e(){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"alertCenter/fetchAssignUsers",payload:{alertItemIds:w.map(function(e){return e.ALERT_ITEM_ID})}});case 2:b(!0);case 3:case"end":return e.stop()}},e)})),T.apply(this,arguments)}function M(e){return N.apply(this,arguments)}function N(){return N=(0,u.default)(r.default.mark(function e(a){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:"alertCenter/assignTask",payload:{userId:a,taskIds:w.map(function(e){return e.TASK_ID}),alertTypeId:n,alertId:f}});case 2:b(!1);case 3:case"end":return e.stop()}},e)})),N.apply(this,arguments)}return i.default.createElement("div",{className:s.default["task-container"]},i.default.createElement(m.default,{loading:a,visible:y,users:E,handleCancel:function(){return b(!1)},assignUser:M}),i.default.createElement(d.default,{style:{marginBottom:10},disabled:!w.length,onClick:S},i.default.createElement(o.FormattedMessage,{id:"alert-center.assign"})),A&&i.default.createElement(A,{dataSource:p,loading:a,getSelectedRows:function(e){return x(e)}}))}var y=(0,f.connect)(function(e){var t=e.loading,a=e.alertCenter,l=a.users,n=a.alertItems;return{users:l,alertItems:n,loading:t.effects}})(h);t.default=y},xxPW:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=l(a("q1tI")),r=a("LLXN"),d=l(a("H7wn"));function u(e){var t=e.attachments;return n.default.createElement("div",{className:d.default["up-attachments"]},n.default.createElement("div",{className:d.default["file-desc"]},n.default.createElement(r.FormattedMessage,{id:"alert-center.attachment-des",values:{count:t.length,size:(t.reduce(function(e,t){return e+t.size},0)/1024).toFixed(2)}})),n.default.createElement("ul",null,t.map(function(e){return n.default.createElement("li",{key:e.uid},e.name)})))}},zhlU:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AlertTask",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"AlertDes",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"AlertLog",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"AlertPhase",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"AlertAttachments",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"AlertComment",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"AlertRichText",{enumerable:!0,get:function(){return o.default}});var n=l(a("ugel")),r=l(a("8Qir")),d=l(a("HItR")),u=l(a("JKiI")),c=l(a("xxPW")),i=l(a("H0HP")),o=l(a("AfXI"))}}]);