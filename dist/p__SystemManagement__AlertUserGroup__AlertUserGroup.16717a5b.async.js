(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{XBNF:function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var u=r(a("BMrR"));a("jCWc");var o=r(a("kPKH"));a("+L6B");var l=r(a("2/Rp"));a("miYZ");var s=r(a("tsqr")),i=r(a("rlhR"));a("y8nQ");var p=r(a("Vl3Y")),d=r(a("2Taf")),c=r(a("vZ4D")),f=r(a("l4Ni")),m=r(a("ujKo")),g=r(a("MhPg"));a("5NDa");var v,h,y,M=r(a("5rEg")),N=n(a("q1tI")),I=a("LLXN"),b=a("MuoO"),E=M.default.TextArea,S=function(e){function t(){var e;return(0,d.default)(this,t),e=(0,f.default)(this,(0,m.default)(t).call(this)),e.state={},e}return(0,g.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.groupMenuInfo;return N.default.createElement(N.Fragment,null,N.default.createElement(p.default,null,N.default.createElement(p.default.Item,{label:(0,I.formatMessage)({id:"systemManagement.userMaintenance.alertGroupName"}),labelCol:{span:6},wrapperCol:{span:8}},e("groupName",{rules:[{required:!0,message:"Please input Name of Alert User Group"}],initialValue:t&&t.groupName})(N.default.createElement(M.default,{placeholder:"Please input"}))),N.default.createElement(p.default.Item,{label:(0,I.formatMessage)({id:"systemManagement.userGroup.remark"}),labelCol:{span:6},wrapperCol:{span:8}},e("groupDesc",{rules:[{required:!0,message:"Please input Remark of Alert User Group"}],initialValue:t&&t.groupDesc})(N.default.createElement(E,{rows:4,placeholder:"Please input"})))))}}]),t}(N.Component),G=p.default.create()(S),C=(v=(0,b.connect)(function(e){var t=e.alertUserGroup,a=e.loading;return{loading:a.effects,userGroup:t.saveUser,updateGroup:t.updateData}}),v((y=function(e){function t(e){var a;return(0,d.default)(this,t),a=(0,f.default)(this,(0,m.default)(t).call(this,e)),a.newUserRef=N.default.createRef(),a.onCancel=function(){a.props.onCancel()},a.onSave=function(){var e=a.props,t=e.dispatch,r=e.updateFlag;a.newUserRef.current.validateFields(function(e,n){if(console.log("err=======",e),!e)if(r){var u=a.props.groupMenuInfo,o={operType:"modifyById",groupId:u.groupId,groupName:n.groupName,groupDesc:n.groupDesc};t({type:"alertUserGroup/updateUserAlert",payload:o,callback:function(){s.default.success("success"),a.props.onSave(!0)}})}else{var l={alertName:n.groupName,alertDesc:n.groupDesc};t({type:"alertUserGroup/newAlertUser",payload:l,callback:function(){s.default.success("success"),a.props.onSave(!1)}})}})},a.getMenuGrops=function(){var e=a.props,t=e.dispatch,r=e.groupMenuInfo,n=(0,i.default)(a),u={operType:"queryById",groupId:r.groupId};t({type:"alertUserGroup/updateUserGroup",payload:u,callback:function(){var e=a.props.updateGroup.map(function(e){return e.menuId});n.setState({selectedKeys:e})}})},a.state={},a}return(0,g.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.groupMenuInfo;return N.default.createElement(N.Fragment,null,N.default.createElement(G,{ref:this.newUserRef,groupMenuInfo:e}),N.default.createElement(u.default,{type:"flex",justify:"end",style:{position:"absolute",right:0,bottom:0,width:"100%",padding:"10px 16px",background:"#fff",textAlign:"right"}},N.default.createElement(o.default,null,N.default.createElement(l.default,{onClick:this.onCancel},"CANCEL"),N.default.createElement(l.default,{type:"primary",onClick:this.onSave},"SAVE"))))}}]),t}(N.Component),h=y))||h),U=C;t.default=U},lraR:function(e,t,a){e.exports={inputValue:"antd-pro-pages-system-management-alert-user-group-alert-user-group-inputValue",content:"antd-pro-pages-system-management-alert-user-group-alert-user-group-content",tableTop:"antd-pro-pages-system-management-alert-user-group-alert-user-group-tableTop",title:"antd-pro-pages-system-management-alert-user-group-alert-user-group-title",userGroup:"antd-pro-pages-system-management-alert-user-group-alert-user-group-userGroup",groupTitle:"antd-pro-pages-system-management-alert-user-group-alert-user-group-groupTitle",treeWraper:"antd-pro-pages-system-management-alert-user-group-alert-user-group-treeWraper"}},s7t7:function(e,t,a){"use strict";var r=a("tAuX"),n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var u=n(a("BMrR"));a("+L6B");var o=n(a("2/Rp"));a("jCWc");var l=n(a("kPKH"));a("y8nQ");var s=n(a("Vl3Y"));a("5NDa");var i=n(a("5rEg")),p=n(a("2Taf")),d=n(a("vZ4D")),c=n(a("l4Ni")),f=n(a("ujKo")),m=n(a("MhPg")),g=r(a("q1tI")),v=a("LLXN"),h=n(a("lraR")),y=n(a("BN5G")),M=function(e){function t(){var e,a;(0,p.default)(this,t);for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return a=(0,c.default)(this,(e=(0,f.default)(t)).call.apply(e,[this].concat(n))),a.state={},a}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.search;return g.default.createElement(s.default,{className:"ant-advanced-search-form search-wraper",layout:"vertical"},g.default.createElement(u.default,{gutter:{xs:0,sm:8,md:10,lg:20,xl:24},align:"bottom",type:"flex"},g.default.createElement(l.default,{xs:24,sm:12,xl:7,xxl:5},g.default.createElement(s.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.userMaintenance.alertGroupName"})},e("groupName",{})(g.default.createElement(i.default,{className:h.default.inputvalue,placeholder:"Please Input ".concat((0,v.formatMessage)({id:"systemManagement.userMaintenance.alertGroupName"}))})))),g.default.createElement(l.default,{xs:24,sm:12,xl:7,xxl:5},g.default.createElement(s.default.Item,{label:(0,v.formatMessage)({id:"systemManagement.userGroup.remark"})},e("groupDesc",{})(g.default.createElement(i.default,{className:h.default.inputvalue,placeholder:"Please Input ".concat((0,v.formatMessage)({id:"systemManagement.userGroup.remark"}))})))),g.default.createElement(l.default,{xs:24,sm:12,xl:7,xxl:5},g.default.createElement(s.default.Item,null,g.default.createElement(o.default,{type:"primary",onClick:t},g.default.createElement(y.default,{type:"iconsousuo",style:{color:"#fff"}}),(0,v.formatMessage)({id:"app.common.search"}))))))}}]),t}(g.Component);t.default=M},uEmF:function(e,t,a){"use strict";var r=a("g09b"),n=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("DjyN");var u=r(a("NUBc"));a("g9YV");var o=r(a("wCAj"));a("+L6B");var l=r(a("2/Rp"));a("2qtc");var s=r(a("kLXV"));a("bbsP");var i=r(a("/wGt")),p=r(a("2Taf")),d=r(a("vZ4D")),c=r(a("l4Ni")),f=r(a("ujKo")),m=r(a("MhPg"));a("y8nQ");var g,v,h,y=r(a("Vl3Y")),M=n(a("q1tI")),N=a("Hx5s"),I=a("LLXN"),b=a("MuoO"),E=r(a("BN5G")),S=r(a("lraR")),G=r(a("s7t7")),C=r(a("XBNF")),U=y.default.create({})(G.default),x=(g=(0,b.connect)(function(e){var t=e.alertUserGroup,a=e.loading;return{loading:a.effects,menuUserGroup:t.data,updateGroup:t.updateUserGroup}}),g((h=function(e){function t(){var e;return(0,p.default)(this,t),e=(0,c.default)(this,(0,f.default)(t).call(this)),e.searchForm=M.default.createRef(),e.editMouseEnter=function(t){console.log("enter"),e.setState({editIconActive:!0,activeIndex:t})},e.editMouseLeave=function(){console.log("outer"),e.setState({editIconActive:!1})},e.deleteMouseEnter=function(t){e.setState({deleteIconActive:!0,activeIndex:t})},e.deleteMouseLeave=function(){e.setState({deleteIconActive:!1})},e.newUser=function(){e.setState({modifyVisible:!0,groupTitle:"New Alert User Group",updateFlag:!1})},e.onClose=function(){var t={groupId:void 0,groupName:void 0,groupDesc:void 0};e.setState({modifyVisible:!1,groupMenuInfo:t})},e.onSave=function(t){if(!t){var a={groupId:void 0,groupName:void 0,groupDesc:void 0};e.searchForm.current.resetFields(),e.setState({searchGroupName:void 0,searchGroupDesc:void 0,groupMenuInfo:a})}e.setState({modifyVisible:!1});var r=e.state.page.pageSize,n={pageNumber:1,pageSize:r},u={groupId:void 0,groupName:void 0,groupDesc:void 0};e.setState({page:n,groupMenuInfo:u},function(){e.queryUserList()})},e.updateUser=function(t,a){var r={groupId:a.groupId,groupName:a.groupName,groupDesc:a.groupDesc};e.setState({modifyVisible:!0,updateFlag:!0,groupTitle:"Modify Alert User Group",groupMenuInfo:r})},e.deleteUser=function(t,a){var r={groupId:a.groupId};e.setState({deleteVisible:!0,groupMenuInfo:r})},e.deleteConfirm=function(){var t=e.props.dispatch,a=e.state.groupMenuInfo,r={operType:"deleteById",groupId:a.groupId};t({type:"alertUserGroup/updateUserAlert",payload:r,callback:function(){e.queryUserList(),e.setState({deleteVisible:!1})}})},e.deleteCancel=function(){e.setState({deleteVisible:!1})},e.queryLog=function(){e.searchForm.current.validateFields(function(t,a){t||e.setState({searchGroupName:a.groupName,searchGroupDesc:a.groupDesc},function(){e.queryUserList()})})},e.pageChange=function(t,a){var r={pageNumber:t,pageSize:a};e.setState({page:r},function(){e.queryUserList()})},e.queryUserList=function(){var t=e.props.dispatch,a=e.state,r=a.searchGroupName,n=a.searchGroupDesc,u={groupName:r,groupDesc:n,pageNumber:e.state.page.pageNumber.toString(),pageSize:e.state.page.pageSize.toString()};t({type:"alertUserGroup/getAlertUserGroup",payload:u})},e.onShowSizeChange=function(t,a){var r={pageNumber:t,pageSize:a};e.setState({page:r},function(){e.queryUserList()})},e.state={modifyVisible:!1,deleteVisible:!1,updateFlag:!1,searchGroupName:void 0,searchGroupDesc:void 0,editIconActive:!1,deleteIconActive:!1,activeIndex:void 0,groupMenuInfo:{},columns:[{title:(0,I.formatMessage)({id:"app.common.number"}),dataIndex:"index",key:"index",align:"center",minWidth:60,render:function(t,a,r){return M.default.createElement("span",null,(e.state.page.pageNumber-1)*e.state.page.pageSize+r+1)}},{title:(0,I.formatMessage)({id:"systemManagement.userMaintenance.alertGroupName"}),dataIndex:"groupName",key:"groupName",align:"center"},{title:(0,I.formatMessage)({id:"systemManagement.userGroup.remark"}),dataIndex:"groupDesc",key:"groupDesc",align:"center"},{title:(0,I.formatMessage)({id:"app.common.operation"}),dataIndex:"operation",key:"operation",align:"center",render:function(t,a,r){return M.default.createElement("span",{className:S.default.operation},M.default.createElement("a",{href:"#",onClick:function(){return e.updateUser(t,a)},onMouseEnter:function(){return e.editMouseEnter(r)},onMouseLeave:e.editMouseLeave},M.default.createElement(E.default,{type:e.state.editIconActive&&e.state.activeIndex===r?"icon-edit-hover":"icon-edit",className:S.default["btn-icon"]})),M.default.createElement("span",{className:"interval-padding"}),M.default.createElement("a",{href:"#",onClick:function(){return e.deleteUser(t,a)},onMouseEnter:function(){return e.deleteMouseEnter(r)},onMouseLeave:e.deleteMouseLeave},M.default.createElement(E.default,{type:e.state.deleteIconActive&&e.state.activeIndex===r?"icon-delete-hover":"icon-delete",className:S.default["btn-icon"]})))}}],page:{pageNumber:1,pageSize:10}},e}return(0,m.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.queryUserList()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.menuUserGroup,r=this.state,n=r.groupTitle,p=r.deleteVisible,d=r.groupMenuInfo,c=r.updateFlag,f=this.state,m=f.columns,g=f.page,v=f.modifyVisible;return M.default.createElement(N.PageHeaderWrapper,null,M.default.createElement(U,{search:this.queryLog,ref:this.searchForm}),M.default.createElement(i.default,{closable:!1,title:n,width:700,onClose:this.onClose,visible:v},v&&M.default.createElement(C.default,{onCancel:this.onClose,onSave:this.onSave,groupMenuInfo:d,updateFlag:c})),M.default.createElement(s.default,{title:"CONFIRM",visible:p,onOk:this.deleteConfirm,onCancel:this.deleteCancel,cancelText:(0,I.formatMessage)({id:"app.common.cancel"}),okText:(0,I.formatMessage)({id:"app.common.confirm"})},M.default.createElement("span",null,"Please confirm that you want to delete this record?")),M.default.createElement("div",{className:S.default.content},M.default.createElement("div",{className:S.default.tableTop},M.default.createElement(l.default,{onClick:this.newUser,type:"primary",className:"btn_usual"},"+ New Alert Group")),M.default.createElement(o.default,{loading:t["menuUserGroup/getAlertUserGroup"],dataSource:a.items,columns:m,pagination:!1}),a.items&&a.items.length>0&&M.default.createElement(u.default,{showSizeChanger:!0,current:g.pageNumber,showTotal:function(){return"Page ".concat(a.totalCount?g.pageNumber.toString():0," of ").concat(Math.ceil((a.totalCount||0)/g.pageSize).toString())},onShowSizeChange:this.onShowSizeChange,onChange:this.pageChange,total:a.totalCount,pageSize:g.pageSize})))}}]),t}(M.Component),v=h))||v),k=x;t.default=k}}]);